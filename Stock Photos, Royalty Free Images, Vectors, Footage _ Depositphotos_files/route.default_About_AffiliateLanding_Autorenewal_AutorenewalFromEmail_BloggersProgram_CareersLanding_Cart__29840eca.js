(window.webpackJsonp=window.webpackJsonp||[]).push([[3,97],{1030:function(e,s,t){},1031:function(e,s,t){},1032:function(e,s,t){"use strict";e.exports=function(e){var s="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var s={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(t,function(e){return s[e]||e})}}(),t='<div class="login-user';return e.isPage&&(t+=" login-user_page"),t+='"><h1 class="login-user__title">'+this.tr("Sign In")+'</h1><form class="login-user__form" action="'+e.links.login+'" method="POST"><label class="login-user__field field-box field-box_light field-box_rounded field-box_large input-box input-box-4xl"><input class="input input-4xl',e.fieldData.username||(t+=" empty"),t+=' _field _field-login" type="text" name="username"value="',e.fieldData.username&&(t+=""+s(e.fieldData.username)),t+='" autocomplete="username" /><span class="field-box__title">'+this.tr("E-mail")+' *</span></label><label class="login-user__field field-box field-box_light field-box_rounded field-box_large input-box input-box-4xl"><input class="input input-4xl',e.fieldData.password||(t+=" empty"),t+=' _field" type="password" name="password"value="',e.fieldData.password&&(t+=""+s(e.fieldData.password)),t+='" autocomplete="current-password" /><span class="field-box__title">'+this.tr("Password")+' *</span></label><div class="login-user__captcha g-recaptcha _captcha',e.captcha.show&&(t+=" login-user__captcha_visible"),t+='" data-sitekey="'+s(e.captcha.siteKey)+'"></div><button class="login-user__submit button button-4xl button-blue button-pill button-bold _submit" type="submit">'+this.tr("Log In")+'</button></form><span class="login-user__forgot-pwd login-user__alt-action _forgot-pwd"><span class="login-user__link-text">'+this.tr("Forgot your password?")+'</span></span><div class="login-user__social"><div class="auth-social"><span class="auth-social__text">'+e.authSocialTitle+'</span><div class="auth-social__btn auth-social__btn_google _social-google" title="'+this.tr("Google")+'"></div><div class="auth-social__btn auth-social__btn_facebook _social-facebook" title="'+this.tr("Facebook")+'"></div></div></div><a class="login-user__signup login-user__alt-action',e.isPage||(t+=" _signup"),t+='" href="'+s(this.app.makeUrl("signup"))+'">'+this.tr("Not Registered?")+' <span class="login-user__link-text">'+this.tr("Create Account!")+'</span></a><div class="login-user__bg _bg"></div></div>'}},1033:function(e,s,t){"use strict";var a=t(105),i=t(733);e.exports=i.extend({url:"Login",isHttps:!0,isBulkAllowed:!1,defaults:a.LoginForm.defaults,errorsMap:a.LoginForm.errorsMap,validation:a.LoginForm.validation})},1034:function(e,s,t){"use strict";var a=t(65),i=t(539),n=t(532),r=t(1035);e.exports=n.extend({name:"PasswordRecovery",initialize:function(){var e=this;this.title=a.PasswordRecoveryTitle,this.body=function(){return new r({app:e.app,onSendCallback:function(){return e.onSendCallback()}})},this.footer=[{label:a.SendResetLinkBtn,color:"blue",defaultAction:!0,callback:"sendCallback"}]},sendCallback:function(){this.findView("PasswordRecoveryForm").onSubmit()},onSendCallback:function(){this.hide(),new i({app:this.app,title:a.PasswordRecoveryTitle,message:this.tr(a.PasswordRecoveryEmailSent,[this.app.makeUrl("contact_us"),'class="link-blue"'])}).show()}})},1035:function(e,s,t){"use strict";function a(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,a)}return t}function i(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}t(1036);var n=t(0),r=t(7),o=t(1037),l=t(68).userErrors,u=t(557),c=t(1038),p=t(722);e.exports=u.extend({name:"PasswordRecoveryForm",el:!1,template:o,events:function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?a(t,!0).forEach(function(s){i(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(t).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}({},u.prototype.events,{"focusout ._field":"onRegularFieldFocusOut"}),initialize:function(){this.model=new c({},{app:this.app});for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];u.prototype.initialize.apply(this,s),this.listenTo(this.model,"error",this.handleModelError)},serialize:function(){return{attrs:this.model.serialize(),captcha:{show:this.isCaptchaNeeded(),apiUrl:r.client.recaptcha.apiUrl,siteKey:r.client.recaptcha.publicKey}}},clientAfterRender:function(){var e=this;this.isCaptchaNeeded()&&!this.$(".g-recaptcha-response").length&&p.injectScript().then(function(){return p.render(e.$(".g-recaptcha")[0])})},prepareSubmit:function(){this.resetErrors(),this.model.setValidation(),this.model.set({"g-recaptcha-response":this.$(".g-recaptcha-response").val()||""})},validate:function(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];var a=u.prototype.validate.apply(this,s);return this.$(".g-recaptcha-response").length&&!this.$(".g-recaptcha-response").val()&&(a=!1,this.fieldIncorrect(this.$(".g-recaptcha-response").parent(),{errorMessage:"Please check the ReCaptcha check box."})),a},submit:function(){var e=this;this.model.save({},{wait:!0,success:function(s,t){return e.onSubmitSuccess(s,t)}})},resetErrors:function(){this.fieldReset(this.$("._errorHolder"));for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];u.prototype.resetErrors.apply(this,s)},handleModelError:function(e,s){var t=this;s.errors&&(this.model.set("g-recaptcha-response",""),n.each(s.errors,function(e){n.contains(Object.values(l),+e.error_code)&&p.injectScript().then(function(){return p.render(t.$(".g-recaptcha")[0])});var s=e.error_data[0];t.model.errorsMap[e.error_code]&&(s=t.model.errorsMap[e.error_code]);var a=t.$("input[name="+s+"]");a=a.length?a.parent():t.$("._errors-holder"),t.fieldIncorrect(a,{errorMessage:e.error_message})}))},onSubmitSuccess:function(e,s){s.errors?p.reset(this.$(".g-recaptcha-response")):this.onSendCallback()},onRegularFieldFocusOut:function(e){e.currentTarget.value.length&&this.fieldCorrect(this.$(e.currentTarget).parent()),this.onUpdateField(e)},isCaptchaNeeded:function(){return this.app.store.get("UserBanInfo")&&this.app.store.get("UserBanInfo").get("recoverPassword")},onSendCallback:n.noop})},1036:function(e,s,t){},1037:function(e,s,t){"use strict";e.exports=function(e){var s="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var s={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(t,function(e){return s[e]||e})}}(),t='<form class="modal__form password-recovery"><p class="modal__text password-recovery__text">'+this.tr("Please enter your e-mail below and we will send you a letter with a link to reset your password")+'.</p><label class="modal__form-field modal__form-field_last field-box field-box_light field-box_rounded field-box_large input-box input-box-xl"><input class="input input-xl _recovery-email _field empty" type="email" name="email"autocomplete="off" maxlength="100" value="'+s(e.attrs.email)+'" autofocus /><span class="field-box__title">'+this.tr("E-mail")+' *</span></label><div class="errors-holder _errors-holder"></div><div class="password-recovery__captcha g-recaptcha _captcha';return e.captcha.show&&(t+=" password-recovery__captcha_visible"),t+='" data-sitekey="'+s(e.captcha.siteKey)+'"></div></form>'}},1038:function(e,s,t){"use strict";var a=t(105),i=t(4).extend({url:"PasswordRecovery",defaults:a.PasswordRecovery.defaults,errorsMap:a.PasswordRecovery.errorsMap,validation:a.PasswordRecovery.validation,parse:function(e){return e.errors?{}:e},serialize:function(){return{username:this.get("username")||"",email:this.get("email")||""}},setValidation:function(e){return void 0===e&&(e=this.toJSON()),!e.email&&e.username?(this.defaults=a.PasswordRecoveryUsername.defaults,this.errorsMap=a.PasswordRecoveryUsername.errorsMap,this.validation=a.PasswordRecoveryUsername.validation,delete e.email):e.email&&!e.username?(this.defaults=a.PasswordRecoveryEmail.defaults,this.errorsMap=a.PasswordRecoveryEmail.errorsMap,this.validation=a.PasswordRecoveryEmail.validation,delete e.username):e.email||e.username||(this.defaults=a.PasswordRecovery.defaults,this.errorsMap=a.PasswordRecovery.errorsMap,this.validation=a.PasswordRecovery.validation),e}});e.exports=i},1644:function(e,s,t){},1645:function(e,s,t){"use strict";e.exports=function(e){var s="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var s={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(t,function(e){return s[e]||e})}}(),t='<div class="auth-box '+s(e.additionalClassNames)+'">';return e.canViewBalance?t+='<span class="user-bar-item-wrap _team-balance"></span>':e.showPlansMenu&&(e.user.balanceRefilled&&(t+='<span class="user-bar-item-wrap _refilled-balance refilled-balance"></span>'),+e.user.balance<=0||e.hasPlans?e.hasPlans?t+='<a class="user-bar-item user-bar-item_hover plans-box _products" href="'+this.app.makeUrl("subscribe")+'"><i class="user-bar-item__icon icon icon-three-points"><i class="icon icon-point"></i><i class="icon icon-point"></i><i class="icon icon-point"></i></i><span class="user-bar-item__box"><span class="user-bar-item__text">'+this.tr("Active<br />Plans")+'</span></span><i class="user-bar-item__arrow arrow arrow-bottom"></i></a>':t+='<a class="user-bar-item user-bar-item_hover no-plans-box" href="'+this.app.makeUrl("subscribe")+'"><span class="user-bar-item__box"><span class="user-bar-item__text">'+this.tr("You don't have any plans.")+'</span><span class="user-bar-item__text">'+this.tr("Choose now!")+"</span></span></a>":t+='<span class="user-bar-item-wrap _balance"></span>'),t+='<span class="user-bar-item-wrap _shopping-cart-indicator"></span><div class="user-box ',e.whiteUserBox&&(t+="user-box_white "),e.isUserBoxHoverable&&(t+="user-box_hoverable "),t+='_user-box"><span class="user-box__avatar avatar-box avatar-box-m"><img class="avatar avatar-m _avatar-image" src="'+e.avatars.default+'" /></span><span class="user-box__username">'+s(e.user.login)+'</span><i class="user-box__arrow arrow ',e.whiteUserBox&&(t+="arrow-white "),t+='arrow-bottom"></i></div></div>'}},1646:function(e,s,t){"use strict";e.exports=function(e){var s="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var s={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(t,function(e){return s[e]||e})}}(),t='<div class="auth-box">';return e.canViewBalance?t+='<span class="user-bar-item-wrap _team-balance"></span>':e.showPlansMenu&&(e.user.balanceRefilled&&(t+='<span class="user-bar-item-wrap _refilled-balance refilled-balance"></span>'),+e.user.balance<=0||e.hasPlans?e.hasPlans?t+='<a class="user-bar-item user-bar-item_hover plans-box _products" href="'+this.app.makeUrl("subscribe")+'"><i class="user-bar-item__icon icon icon-three-points"><i class="icon icon-point"></i><i class="icon icon-point"></i><i class="icon icon-point"></i></i><span class="user-bar-item__box"><span class="user-bar-item__text">'+this.tr("Active<br />Plans")+'</span></span><i class="user-bar-item__arrow arrow arrow-bottom"></i></a>':t+='<a class="user-bar-item user-bar-item_hover no-plans-box" href="'+this.app.makeUrl("subscribe")+'"><span class="user-bar-item__box"><span class="user-bar-item__text">'+this.tr("You don't have any plans.")+'</span><span class="user-bar-item__text">'+this.tr("Choose now!")+"</span></span></a>":t+='<span class="user-bar-item-wrap _balance"></span>'),t+='<span class="user-bar-item-wrap _shopping-cart-indicator"></span><div class="user-box ',e.whiteUserBox&&(t+="user-box_white "),e.isUserBoxHoverable&&(t+="user-box_hoverable "),t+='_user-box"><span class="user-box__avatar avatar-box avatar-box-m"><amp-img class="avatar avatar-m _avatar-image" src="'+e.avatars.default+'" width="33" height="33" /></span><span class="user-box__username">',e.user.username?t+=""+s(e.user.username):e.user.email&&(t+=""+s(e.user.email)),t+='</span><i class="user-box__arrow arrow ',e.whiteUserBox&&(t+="arrow-white "),t+='arrow-bottom"></i></div></div>'}},1647:function(e,s,t){"use strict";e.exports=function(e){var s="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var s={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(t,function(e){return s[e]||e})}}(),t='<div class="not-auth-box"><span class="header__cart-box _shopping-cart-indicator"></span>';return(e.showSignUpButton||e.showSignInButton)&&(t+='<noindex><ul class="header__list">',e.reverseButtons||(e.showSignUpButton&&!e.showAffiliateSignInButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn not-auth-box__btn_sign-up button button-xl button-blue '+s(e.singUpButtonClassNames)+' _sign-up" href="'+e.signupLink+'" rel="nofollow">'+this.tr("Register an Account")+"</a></li>"),e.showAffiliateSignInButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-pill button-bold button-blue '+s(e.singInButtonClassNames)+'" href="'+e.signupAffiliateLink+'">'+this.tr("Sign in with affiliate account")+"</a></li>")),e.showSignInButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-white '+s(e.singInButtonClassNames)+' _btn-sign-in" href="'+e.loginLink+'" rel="nofollow">'+this.tr("Sign In")+"</a></li>"),e.reverseButtons&&e.showSignUpButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn not-auth-box__btn_sign-up button button-xl button-blue '+s(e.singUpButtonClassNames)+' _sign-up" href="'+e.signupLink+'" rel="nofollow">'+this.tr("Register an Account")+"</a></li>"),t+="</ul></noindex>"),t+="</div>"}},1648:function(e,s,t){"use strict";e.exports=function(e){var s="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var s={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(t,function(e){return s[e]||e})}}(),t='<div class="not-auth-box"><span class="header__cart-box _shopping-cart-indicator"></span>';return(e.showSignUpButton||e.showSignInButton)&&(t+='<ul class="header__list header__list_horizontal">',e.reverseButtons||(e.showSignUpButton&&!e.showAffiliateSignInButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-blue '+s(e.singUpButtonClassNames)+' _sign-up" href="'+e.signupLink+'" rel="nofollow">'+this.tr("Register an Account")+"</a></li>"),e.showAffiliateSignInButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-pill button-bold button-blue '+s(e.singInButtonClassNames)+'" href="'+e.signupAffiliateLink+'">'+this.tr("Sign in with affiliate account")+"</a></li>")),e.showSignInButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-white '+s(e.singInButtonClassNames)+' _btn-sign-in" href="'+e.loginLink+'" rel="nofollow">'+this.tr("Sign In")+"</a></li>"),e.reverseButtons&&e.showSignUpButton&&(t+='<li class="header__list-item"><a class="not-auth-box__btn button button-xl button-blue '+s(e.singUpButtonClassNames)+' _sign-up" href="'+e.signupLink+'" rel="nofollow">'+this.tr("Register an Account")+"</a></li>"),t+="</ul>"),t+="</div>"}},1649:function(e,s,t){"use strict";e.exports=function(e){var s="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var s={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(t,function(e){return s[e]||e})}}(),t='<div class="user-menu"><a class="user-menu__header" href="'+e.menuLinks.profile+'"><span class="user-menu__avatar avatar-box avatar-box_grey avatar-box-l">';return e.avatarExists&&(t+='<img class="avatar avatar-l" src="'+e.avatars.big+'">'),t+='<i class="avatar-box__letter" data-user-placeholder="'+s(e.login[0])+'"></i></span><span class="user-menu__title">'+s(e.login)+'</span></a><menu class="user-menu__content">',e.accountSwitcher&&(t+='<li class="user-menu__item user-menu__item_separated"><a class="user-menu__link _user-switch-account"><i class="user-menu__icon icon icon-user-menu-switch"></i>'+this.tr("Switch to Enterprise")+"</a></li>"),e.isSeller&&(t+='<li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.sellerPrice+'"><i class="user-menu__icon icon icon-user-menu-invoices"></i>'+this.tr("Contribute Program")+"</a></li>"),t+='<li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.subscribe+'"><i class="user-menu__icon icon icon-user-menu-plans"></i>'+this.tr("Plans & Prices")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.purchased+'"><i class="user-menu__icon icon icon-user-menu-downloads"></i>'+this.tr("Downloaded Files")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.invoices+'"><i class="user-menu__icon icon icon-user-menu-invoices"></i>'+this.tr("Invoices")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.favorites+'"><i class="user-menu__icon icon icon-user-menu-favorites"></i>'+this.tr("Favorites")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.profile+'"><i class="user-menu__icon icon icon-user-menu-profile"></i>'+this.tr("My Profile")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.referral+'"><i class="user-menu__icon icon icon-user-menu-referral"></i>'+this.tr("Referral Program")+'</a></li></menu><a class="user-menu__logout _user-logout" href="'+e.menuLinks.logout+'">'+this.tr("Log Out")+"</a></div>"}},1650:function(e,s,t){"use strict";e.exports=function(e){var s="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var s={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(t,function(e){return s[e]||e})}}(),t='<div class="user-menu"><a class="user-menu__header" href="'+e.menuLinks.profile+'"><span class="user-menu__avatar avatar-box avatar-box_grey avatar-box-l">';return e.avatarExists&&(t+='<img class="avatar avatar-l" src="'+e.avatars.big+'">'),t+='<i class="avatar-box__letter" data-user-placeholder="'+s(e.login[0])+'"></i></span><span class="user-menu__title">'+s(e.login)+'</span></a><menu class="user-menu__content">',e.accountSwitcher&&(t+='<li class="user-menu__item user-menu__item_separated"><a class="user-menu__link _user-switch-account"><i class="user-menu__icon icon icon-user-menu-switch"></i>'+this.tr("Switch to Regular Site")+"</a></li>"),t+='<li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.enterpriseDownloads+'"><i class="user-menu__icon icon icon-user-menu-downloads"></i>'+this.tr("Downloaded Files")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.favorites+'"><i class="user-menu__icon icon icon-user-menu-favorites"></i>'+this.tr("Favorites")+'</a></li><li class="user-menu__item"><a class="user-menu__link" href="'+e.menuLinks.profile+'"><i class="user-menu__icon icon icon-user-menu-profile"></i>'+this.tr("My Profile")+'</a></li></menu><a class="user-menu__logout _user-logout" href="'+e.menuLinks.logout+'">'+this.tr("Log Out")+"</a></div>"}},1651:function(e,s,t){"use strict";var a=t(496),i=t(900);e.exports=a.extend({el:!1,events:{"click ._user-switch-account":"onUserSwitchAccount","click ._user-logout":"onUserLogoutClick"},serialize:function(){return{accountSwitcher:this.app.user.get("accountSwitcher"),login:this.app.user.getLogin(),isEnterprise:this.app.user.isEnterprise(),isSeller:this.app.user.isSeller(),avatars:this.app.user.avatar.toJSON(),avatarExists:this.app.user.avatar.avatarExists,menuLinks:this.menuLinks||{}}},onUserLogoutClick:function(e){e.preventDefault(),this.app.user.logout()},onUserSwitchAccount:function(){var e=this;i.sendRequest({url:"SwitchAccount",success:function(){e.app.router.redirect(e.app.makeUrl("home"))}})}})},1652:function(e,s,t){"use strict";var a=t(1653),i=t(496);e.exports=i.extend({name:"BalanceRefilled",el:!1,template:a,balanceRefilled:0,prepareRender:function(){return this.isUserRefilledBalanceVisible()},isUserRefilledBalanceVisible:function(){return this.app.user.get("balanceRefilled")>0},serialize:function(){return{balanceRefilled:this.app.user.get("balanceRefilled").toFixed(2)}}})},1653:function(e,s,t){"use strict";e.exports=function(e){return'<span class="user-bar-item user-bar-item-balance balance-box"><span class="user-bar-item__box"><i class="user-bar-item__icon icon icon-user-balance"></i><i class="user-bar-item__icon user-bar-item__icon_hover icon icon-user-balance-hover"></i><span class="user-bar-item__text">$'+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var s={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(t,function(e){return s[e]||e})}}())(e.balanceRefilled)+"</span></span></span>"}},543:function(e,s,t){"use strict";t(797),t(1644);var a=t(0),i=t(13),n=t(498),r=t(1645),o=t(1646),l=t(1647),u=t(1648),c=t(1649),p=t(1650),h=t(1283),d=t(496),_=t(497),f=t(1651),m=t(1291),b=t(1019),g=t(1652),v=t(1284),w=t(574),k=t(906),x=t(531);e.exports=d.extend({name:"UserBar",el:!1,showPlansMenu:!0,showBalance:!0,reverseButtons:!1,whiteUserBox:!1,isUserBoxHoverable:!1,shouldShowAuthModal:!0,showSignUpButton:!0,showSignInButton:!0,showAffiliateSignInButton:!1,events:{"click ._user-box":"toggleUserMenuToolTip","click ._sign-up":"onSignUpClick","click ._btn-sign-in":"onSingInClick","click ._products":"toggleProductsToolTip"},additionalClassNames:"",singUpButtonClassNames:"",singInButtonClassNames:"",initialize:function(){!this.app.user.isEnterprise()&&this.app.store.get("CartIndicator")&&this.setView("._shopping-cart-indicator",new h({app:this.app})),this.listenTo(this.app.user,"change:id",this.render),this.listenTo(this.app.user.avatar,"change",this.render),this.hasTemplate={}.hasOwnProperty.call(this,"template"),this.hasTemplateAmp={}.hasOwnProperty.call(this,"amp")},prepareRender:function(){this.app.user.isLoggedIn()&&(this.app.user.isEnterprise()?this.setView("._team-balance",new v({app:this.app,teamBalance:this.app.user.get("enterprise").balance})):(this.isUserBalanceVisible()&&!this.app.user.hasPlans()&&this.setView("._balance",new b({balance:this.app.user.get("balance")})),this.setView("._refilled-balance",new g({app:this.app})))),this.hasTemplate||(this.template=this.app.user.isLoggedIn()?r:l),this.hasTemplateAmp||(this.amp=this.app.user.isLoggedIn()?o:u)},serialize:function(){return{user:this.app.user.serialize(),avatars:this.app.user.avatar.toJSON(),hasPlans:this.app.user.hasPlans(),canViewBalance:this.isBalanceVisible(),hasTeamBalance:this.app.user.hasTeamBalance(),signupLink:this.app.makeUrl("signup",{protocol:"https:"}),signupAffiliateLink:this.app.makeUrl("affiliateProgram"),loginLink:this.makeLoginLink(),showSignUpButton:this.showSignUpButton,showSignInButton:this.showSignInButton,showAffiliateSignInButton:this.showAffiliateSignInButton,showPlansMenu:this.showPlansMenu&&!this.app.user.isEnterprise(),reverseButtons:this.reverseButtons,showSpecial:this.showSpecial,whiteUserBox:this.whiteUserBox,isUserBoxHoverable:this.isUserBoxHoverable,singUpButtonClassNames:this.singUpButtonClassNames,singInButtonClassNames:this.singInButtonClassNames,additionalClassNames:this.additionalClassNames}},clientAfterRender:function(){var e=this;this.app.user.isLoggedIn()&&this.clientAfterRenderForAuth(),x(this.$el,i.$),this.$el.find("._avatar-image").on("error",function(s){s.currentTarget.src=e.app.user.avatar.constructor.prototype.defaults.default})},makeLoginLink:function(){return"Signup"===this.app.router.routeName?this.app.makeUrl("login",{query:this.app.queryParams}):this.app.makeUrl("login",{backURL:!0})},isBalanceVisible:function(){var e=this.app.user.get("enterprise");return this.showBalance&&e&&(!e.hideBalance||this.app.user.isEnterpriseAdmin()||this.app.user.hasPermissionsTo("enterprise_group:"+this.app.user.get("enterprise").groupId,"billing"))},userMenuTemplate:function(){var e,s=[{condition:function(e){return e.user.isEnterprise()},template:p}];a.each(s,function(s){s.condition(this.app)&&(e=s.template)},this),e=e||c;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.apply(this,i)},clientAfterRenderForAuth:function(){this.setNotExistView("userMenuTooltip",_,{params:n.UserMenu,content:new f({template:this.userMenuTemplate,app:this.app,menuLinks:this.getMenuLinks()})}),this.setNotExistView("productsTooltip",_,{params:n.Products,classes:{"tooltip_extra-shadow":!0,"tooltip_not-border":!0,tooltip_rounding:!0},content:new m({app:this.app,plans:this.app.user,linksEnabled:!0,showRebillDiscount:!0,showBalance:this.isUserBalanceVisible()&&this.app.user.hasPlans()})})},getMenuLinks:function(){return{sellerPrice:this.app.makeUrl("seller-price",{backURL:!0}),subscribe:this.app.makeUrl("subscribe",{backURL:!0}),purchased:this.app.makeUrl("purchased",{backURL:!0}),invoices:this.app.makeUrl("invoices",{backURL:!0}),favorites:this.app.makeUrl("favorites",{backURL:!0}),profile:this.app.makeUrl("profile",{backURL:!0}),referral:this.app.makeUrl("referral",{backURL:!0}),enterpriseDownloads:this.app.makeUrl("enterprise/downloads",{backURL:!0}),logout:this.app.makeUrl("login/logout")}},isUserBalanceVisible:function(){return this.app.user.get("balance")>0||"approved"===this.app.user.get("examinationStatus")},onSingInClick:function(e){this.shouldShowAuthModal&&(e.stopPropagation(),e.preventDefault(),new k({app:this.app,single:!0}).show())},toggleUserMenuToolTip:function(e){e.preventDefault(),this.getView("userMenuTooltip").toggle(e)},toggleProductsToolTip:function(e){e.preventDefault(),this.getView("productsTooltip").toggle(e)},onSignUpClick:function(e){this.shouldShowAuthModal&&(e.preventDefault(),e.stopPropagation(),new w({app:this.app}).show(),this.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:this.name}))}})},797:function(e,s,t){},906:function(e,s,t){"use strict";var a=t(532),i=t(926);e.exports=a.extend({name:"LoginModal",showTitle:!1,roundCloseButton:!0,destroyOnHide:!0,modalClasses:"modal_login modal_with-poster",modalAttrs:"tabindex=0",bodyClasses:"modal__body_login",footer:[],initialize:function(){this.body=[new i({app:this.app,backgroundSeriesName:"LogIn"})];for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];a.prototype.initialize.apply(this,s)}})},926:function(e,s,t){"use strict";(function(s){t(1030),t(1031),t(1018);var a=t(0),i=t(7),n=t(13),r=t(1032),o=t(68).userErrors,l=t(496),u=t(1033),c=t(562),p=t(1034),h=t(558),d=t(67),_=t(20).serializeForm,f=t(531),m=t(565),b=t(997),g=t(722),v=l.extend({el:!1,name:"LoginForm",template:r,events:{submit:"onSubmit",click:"onClick","focusin input":"onInputEvent","keypress input":"onInputEvent","focusout input":"onInputEvent","click ._forgot-pwd":"onRecoveryClick","click ._enterprise-request":"onEnterpriseRequestClick","click ._signup":"handleSignUpClick","change ._field":"onUpdateField","keyup ._field":"onUpdateField","input ._field":"onUpdateField","paste ._field":"onUpdateField"},backgroundSeriesName:"",initialize:function(){this.model=new u({},{app:this.app}),this.listenTo(this.model,"invalid",this.showError)},initBackground:function(){this.series=new c({lang:this.app.lang,name:this.backgroundSeriesName},{app:this.app}),this.listenTo(this.series,"sync",this.updateBackground),this.series.fetch()},serialize:function(){return{links:{login:this.app.makeUrl("login",{protocol:"https:",backURL:!0}),enterpriseRequest:this.app.makeUrl("enterprise",{hash:"send-request"})},captcha:{show:this.isCaptchaNeeded(),siteKey:i.client.recaptcha.publicKey},errors:this.errors,fieldData:this.model.serialize(),authSocialTitle:this.tr("or Log In using"),isPage:this.isPage}},clientAfterRender:function(){var e=this;this.$submit=this.$el.find("._submit"),this.$("._field-login").trigger("focus"),f(this.$el,n.$),m(this.$submit),this.isCaptchaNeeded()&&!this.$(".g-recaptcha-response").length&&g.injectScript().then(function(){return g.render(e.$(".g-recaptcha")[0])}),this.backgroundSeriesName&&this.initBackground(),this.initSocial()},initSocial:function(){var e=new b({app:this.app});e.setLang(this.app.lang),e.injectFacebookScript(),e.injectGoogleScript()},onSubmit:function(e){var s=this.$('input[name="username"]');e.preventDefault(),s.val(s.val().trim());var t=_(this.$("form"));!this.$(".g-recaptcha-response").length||t["g-recaptcha-response"]?this.auth(t):this.fieldIncorrect(this.$(".g-recaptcha-response").parent(),{errorMessage:"Please check the ReCaptcha check box."})},onClick:function(e){e.stopPropagation()},onInputEvent:function(e){switch(e.type){case"keypress":13===(e.which||e.keyCode)&&this.onSubmit(e);break;case"focusout":e.currentTarget.value.length&&this.fieldCorrect(this.$(e.currentTarget).parent());break;case"focusin":this.fieldReset(this.$(e.currentTarget).parent())}},onRecoveryClick:function(e){e.preventDefault(),e.stopPropagation(),new p({app:this.app}).show()},onEnterpriseRequestClick:function(){this.onEnterpriseRequestCallback()},handleSignUpClick:function(e){var s=this;e.stopPropagation(),e.preventDefault(),Promise.resolve().then(function(e){new(t(574))({app:s.app,single:!0}).show(),s.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:s.name})}.bind(null,t)).catch(t.oe)},updateBackground:function(){var e=this.series.getImagesList();e&&this.$("._bg").css({opacity:1,"background-image":"url("+e.background+")"})},auth:function(e){var s=this;this.$submit.trigger("loading"),this.model.save(e,{success:function(e,t){void 0!==t.userid?(d.set("10_es_login",Number(s.model.get("enterprise"))),s.app.observer.broadcast("Track:UE:Login:Success",{userId:t.userid,action:"Form",label:"Regular"}),s.onAuthCallback(t)):g.reset(s.$(".g-recaptcha-response"))},error:function(){s.app.router.redirect(s.app.makeUrl("login",{backURL:!0}))}})},showError:function(e,t){var i=this;this.errors=t,s.browser&&(this.$submit.trigger("loaded"),a.each(this.$("input"),function(e){i.fieldReset(i.$(e).parent())}),this.fieldReset(this.$(".g-recaptcha-response").parent()),this.model.set("g-recaptcha-response",""),a.each(t,function(e,s){var t=(a.isArray(e)?a.first(e):e).split(":"),n=+t[0],r=t[1];a.contains(Object.values(o),n)&&g.injectScript().then(function(){return g.render(i.$(".g-recaptcha")[0])}),n&&!r&&(r=n),i.fieldIncorrect(i.$("input[name="+s+"]").parent(),{errorMessage:r})}))},isCaptchaNeeded:function(){return this.app.store.get("UserBanInfo")&&this.app.store.get("UserBanInfo").get("loginAsUser")},onAuthCallback:function(){this.app.chain.tempUserAfterLoginCommonLogic()},onEnterpriseRequestCallback:function(){}});Object.assign(v.prototype,h),e.exports=v}).call(this,t(17))}}]);