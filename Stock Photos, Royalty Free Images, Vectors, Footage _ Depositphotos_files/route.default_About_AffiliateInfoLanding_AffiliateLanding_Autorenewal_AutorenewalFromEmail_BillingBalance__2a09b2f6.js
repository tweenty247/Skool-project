(window.webpackJsonp=window.webpackJsonp||[]).push([[1],Array(496).concat([function(e,t,i){"use strict";(function(t){var n=i(732);e.exports=n.extend({seo:{space:" "},tr:function(){var e;return!this.app&&t.browser&&(this.app=window.app),(e=this.app).tr.apply(e,arguments)},safeRemoveView:function(e){var t=e&&this.getView(e);return t&&t.remove()}})}).call(this,i(17))},function(e,t,i){"use strict";(function(t){var n=i(0),o=i(13),s=i(498).Base,r=i(534),a=i(1461),l=i(496),c=i(20);e.exports=l.extend({name:"Tooltip",el:!1,app:null,template:a,content:void 0,classes:{},globals:{"resize window":"_onWindowResize","scroll window":"_onWindowScroll","blur window":"_onWindowBlur",keyup:"_onGlobalKeyup",click:"_onBodyClick"},opened:!1,inRender:!1,initialize:function(e){var i=this;if(void 0===e&&(e={}),this.app=this.app||this.content&&this.content.app||e.content&&e.content.app||t.browser&&window.app,!this.app)throw new Error("Tooltip: required app");this.params=Object.assign({},s,this.params,e.params),this.params.standalone||this.listenTo(this.app.observer,"Tooltip:GlobalHide",function(e){return i.onGlobalHide(e)})},serialize:function(){return{id:this.cid,type:this.params.type,pointerShow:this.params.pointerShow,classes:c.classNames(this.classes)}},prepareRender:function(){this.prepareContent(),this.content&&this.setContent()},setContent:function(){this.setViews({"._content":this.content})},show:function(e,t){var i=this;clearTimeout(this.showTimeout),clearTimeout(this.hideTimeout),this.showTimeout=setTimeout(function(){return i.toShow(e,t)},this.params.displayShowTimeout)},toShow:function(e,t){var i=this;!this.params.displayDisabled&&this.isAllowedEvent(this.params.displayShow,this.params.displayHide,"show")&&(this.app.observer.fire("Tooltip:GlobalHide",{cid:this.cid,type:this.params.type,nesting:this.params.nesting}),this.anchor=t&&t.anchor||e.currentTarget,t&&t.contentData&&this.content.setData&&this.content.setData(t.contentData),this.inRender=!0,this.render().promise().then(function(){i.el.style.display="none",i.appendToBody(),i.place(e),i.inRender=!1,i.trigger("rendered"),i.onShowCallback(t)}))},onGlobalHide:function(e){var t=e.cid,i=e.type,n=e.nesting;("all"===t||this.cid!==t&&this.params.type===i&&this.params.nesting===n)&&this.hide()},hide:function(e){var t=this;clearTimeout(this.showTimeout);var i=function(e){e?t.toHide():n.debounce(function(){return t.toHide()},t.params.displayHideTimeout)()},o=this.isOpen();!o&&this.inRender?this.once("rendered",function(){return i(!!e)}):o&&i(!!e)},toHide:function(){var e=this;"increase"===this.params.displayEffect?(this.$el.css({transition:"all .20s",transform:"scale(0)",opacity:0}),n.delay(function(){return e.detach()},200)):this.detach(),this.onHideCallback()},detach:function(){this.undelegateEvents(),this.$el.remove(),this.opened=!1,this.params.destroyOnHide&&this.remove()},toggle:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this[this.isOpen()?"hide":"show"].apply(this,[].concat(t))},repin:function(e){this.anchor=e.get(0),this.onTargetPosition()},isOpen:function(){return this.opened},appendToBody:function(){var e=document.getElementById(this.cid);e?o.$(e).replaceWith(this.el):o.$("body").prepend(this.el),this.opened=!0},place:function(e){var t=this.$("._content"),i=this.getOffset(e);"object"==typeof i&&""!==t.html()&&(this.onTargetPosition(e,i),this.animate(),n.isFunction(this.params.onShow)&&this.params.onShow(this.$el))},animate:function(){var e=this;switch(this.params.displayEffect){case"fade":this.$el.fadeIn(this.params.displayEffectSpeed);break;case"slide":this.$el.slideDown(this.params.displayEffectSpeed);break;case"increase":var t="center",i="center";void 0!==this.increaseOrigin&&(t=this.getTransformOrigin(this.increaseOrigin.x),i=this.getTransformOrigin(this.increaseOrigin.y)),this.$el.addClass("tooltip_increase").css({transformOrigin:t+" "+i,display:"block"}),n.delay(function(){e.$el.css({opacity:1,transform:"scale(1)"})},1),n.delay(function(){return e.$el.css({transition:"none"})},200);break;default:this.el.style.display="block"}},_onGlobalKeyup:function(e){this.params.hideOnKeyEscape&&e.keyCode===r.esc&&this.toHide()},_onWindowResize:function(){this.onTargetPosition()},_onWindowScroll:function(){this.params.hideOnScroll?this.hide(!0):this.onTargetPosition()},_onWindowBlur:function(){this.params.hideOnWindowBlur&&this.isOpen()&&this.toHide()},_onBodyClick:function(e){this.params.rootClose&&this.isOpen()&&!this.el.contains(e.target)&&this.toHide()},onTargetPosition:function(e,t){if(this.isOpen())if(!this.params.hideWithoutAnchor||o.$(this.anchor).is(":visible")){var i=t||this.getOffset(e);this.setIncreaseOrigin(this.currentPosition);var n={};n="fixed"===this.params.displayPosition?{position:"fixed",top:i.top-o.$(window).scrollTop()+"px",left:i.left-o.$(window).scrollLeft()+"px"}:{top:i.top+"px",left:i.left+"px"},this.setStyles(n)}else this.hide()},setStyles:function(e){this.el.style.position=e.position,this.el.style.left=e.left,this.el.style.top=e.top,this.el.style.zIndex||(this.el.style.zIndex=this.defineIndex())},defineIndex:function(){return this.params.zIndex+o.$("body").find("._tooltip").length},getTransformOrigin:function(e){return n.result({t:"top",r:"right",b:"bottom",l:"left"},e,"center")},getOffset:function(e){var t=this.params.templatePriority,i=t.indexOf(this.params.templatePosition)>=0?this.params.templatePosition:"auto",n=this.params.templateLinking,s=o.$(this.anchor),r=this.$el,a=this.$("._pointer");if(!s||!r)return!1;var l={parent:"cursor"===n?{top:e.pageY,left:e.pageX}:s.offset(),template:{top:void 0,left:void 0},min:{left:void 0,top:void 0},max:{left:void 0,top:void 0},backup:{}},c={top:o.$(window).scrollTop(),left:o.$(window).scrollLeft()},d={template:{width:r.outerWidth(),height:r.outerHeight()},parent:{width:"cursor"===n?20:s.outerWidth(),height:"cursor"===n?20:s.outerHeight()},window:{width:window.innerWidth,height:window.innerHeight},outer:this.getOuterDimensions(a,this.params.templateOffset)};l.min.left=c.left,l.min.top=c.top,l.max.left=l.min.left+(d.window.width-d.template.width),l.max.top=l.min.top+(d.window.height-d.template.height),t.indexOf(i)>0&&(t.splice(t.indexOf(i),1),t.unshift(i));for(var u=0;u<t.length;u+=1)if(this.currentPosition=t[u],this.placePointer(t[u]),d.outer=this.getOuterDimensions(a,this.params.templateOffset),l.template=this.calculatePosition(t[u],l,c,d),l.template){if(this.params.displayForce&&(l.backup[t[u]]={template:l.template,diff:{w:this.intersectionSegments(l.min.left,l.template.left,l.min.left+d.window.width,l.template.left+d.template.width),h:this.intersectionSegments(l.min.top,l.template.top,l.min.top+d.window.height,l.template.top+d.template.height)}}),!0===this.checkPosition(l.template,l.min,l.max))break;delete l.template}if(this.params.displayForce&&"object"!=typeof l.template){var h={square:-9999999999,position:!1};Object.keys(l.backup).forEach(function(e){l.backup[e].diff.w*l.backup[e].diff.h>h.square&&(h={square:l.backup[e].diff.w*l.backup[e].diff.h,position:e})}),l.template=l.backup[h.position].template,this.currentPosition=h.position,this.placePointer(h.position.charAt(0)+h.position.charAt(1))}return l.template},placePointer:function(e){var t=this.$("._pointer");if(t.removeClass().addClass("_pointer tooltip__pointer"),e&&!0===this.params.pointerShow&&t.length&&n.isString(e)){var i="auto"===this.params.pointerPosition?this.reversePosition(e.charAt(0))+e.charAt(1):this.params.pointerPosition;t.removeClass().addClass("_pointer tooltip__pointer tooltip__pointer_"+i)}},setIncreaseOrigin:function(e){"increase"===this.params.displayEffect&&(this.increaseOrigin={y:this.reversePosition(e.charAt(0)),x:e.charAt(1)})},isAllowedEvent:function(e,t,i,n){var o=i,s={mouseover:"mouseenter",mouseout:"mouseleave"};if({}.hasOwnProperty.call(s,o)&&(o=s[o]),-1!==["resize","position","show","hide","scroll"].indexOf(o))return!0;switch(n||!0){case"show":if(e===o||-1!==e.indexOf(o))return!0;break;case"hide":if(t===o||-1!==t.indexOf(o))return!0;break;default:if(e===o||t===o||-1!==e.indexOf(o)||-1!==t.indexOf(o))return!0}return!1},getOuterDimensions:function(e,t){return{width:(e.offsetWidth>0?e.offsetWidth:5)+t.left,height:(e.offsetHeight>0?e.offsetHeight:5)+t.top}},calculatePosition:function(e,t,i,n){var o;if("object"==typeof e){if("r"===e[0])return{top:t.parent.top+e[1],left:t.parent.left+n.parent.width+n.outer.width};if("l"===e[0])return{top:t.parent.top+e[1],left:t.parent.left-n.template.width-n.outer.width}}switch(e){case"wleft":return o=!1,t.parent.top<n.template.height+i.top-n.parent.height&&(o=i.top+1),t.max.top-1<t.parent.top&&(o=t.max.top-1),{top:o,left:t.parent.left-n.template.width-n.outer.width};case"wright":return o=!1,t.parent.top<n.template.height+i.top-n.parent.height&&(o=i.top+1),t.max.top-1<t.parent.top&&(o=t.max.top-1),{top:o,left:t.parent.left+n.parent.width+n.outer.width};case"tl":return{top:t.parent.top-n.template.height-n.outer.height,left:t.parent.left};case"tm":return{top:t.parent.top-n.template.height-n.outer.height,left:t.parent.left+n.parent.width/2-n.template.width/2};case"tr":return{top:t.parent.top-n.template.height-n.outer.height,left:t.parent.left+n.parent.width-n.template.width};case"rt":return{top:t.parent.top-n.outer.height/2,left:t.parent.left+n.parent.width+n.outer.width};case"rm":return{top:t.parent.top+n.parent.height/2-n.template.height/2,left:t.parent.left+n.parent.width+n.outer.width};case"rb":return{top:t.parent.top+n.parent.height-n.template.height,left:t.parent.left+n.parent.width+n.outer.width};case"bl":return{top:t.parent.top+n.parent.height+n.outer.height,left:t.parent.left+n.outer.width};case"bm":return{top:t.parent.top+n.parent.height+n.outer.height,left:t.parent.left+n.parent.width/2-n.template.width/2};case"br":return{top:t.parent.top+n.parent.height+n.outer.height,left:t.parent.left+n.parent.width-(n.template.width+n.outer.width)};case"lt":return{top:t.parent.top-n.outer.height/2,left:t.parent.left-n.template.width-n.outer.width};case"lm":return{top:t.parent.top+n.parent.height/2-n.template.height/2,left:t.parent.left-n.template.width-n.outer.width};case"lb":return{top:t.parent.top+n.parent.height-n.template.height,left:t.parent.left-n.template.width-n.outer.width};default:return!1}},intersectionSegments:function(e,t,i,n){var o=Math.min(i,n)-Math.max(e,t);return o>0?o:0},checkPosition:function(e,t,i){return e.left>t.left&&e.top>t.top&&e.left<i.left&&e.top<i.top},reversePosition:function(e){return n.result({t:"b",b:"t",r:"l",l:"r"},e,e)},prepareContent:n.noop,onShowCallback:n.noop,onHideCallback:n.noop})}).call(this,i(17))},function(e,t,i){"use strict";e.exports.Base={rootClose:!1,standalone:!1,destroyOnHide:!1,nesting:0,type:"simple",hideOnScroll:!1,hideOnWindowBlur:!1,zIndex:5e3,displayEffect:"none",displayEffectSpeed:600,displayPosition:"absolute",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:100,displayHideTimeout:100,displayDisabled:!1,displayForce:!0,templateLinking:"parent",templatePosition:"auto",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","wright","wleft","auto"],templateOffset:{top:0,left:0},templateDimensionsWidth:0,templateDimensionsHeight:0,pointerShow:!1,pointerClassname:!1,pointerPosition:"auto",pointerPriority:["tm","rm","lm","bl","br","tl","tr","rt","rb","lt","lb","auto"],onShow:void 0},e.exports.PreviewFiles={type:"image",zIndex:2e3,hideOnScroll:!0,displayShowTimeout:230,displayHideTimeout:50,displayShow:"mouseenter",displayHide:"mouseleave",templateOffset:{top:0,left:7},templatePriority:[["r",-77],"wright","rm","rt","rb",["l",-77],"wleft","lm","lt","lb","bm","bl","br","tm","tl","tr"]},e.exports.SearchSettings={type:"html",rootClose:!0,displayEffect:"increase",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templatePriority:["br","bl","bm","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:2,left:0},pointerShow:!0},e.exports.FolderSettings={type:"html",rootClose:!0,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templatePriority:["br","bl","bm","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:2,left:0},pointerShow:!0},e.exports.SearchByImageIcon={type:"html",rootClose:!0,displayEffect:"increase",displayShowTimeout:500,displayHideTimeout:0,templatePosition:"bm",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:2,left:0},pointerShow:!0},e.exports.SortingMenu={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayEffect:"increase",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:-7,left:0},pointerShow:!0},e.exports.SortingMenuEnterprise={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayEffect:"increase",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:3,left:0},pointerShow:!0},e.exports.SearchRefineMenu={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:1,left:0},pointerShow:!1},e.exports.Products={type:"html",rootClose:!0,displayEffect:"increase",displayPosition:"fixed",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:2,left:0},pointerShow:!1},e.exports.Product={type:"html",rootClose:!0,nesting:1,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.RebillProduct={displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:10,left:4},pointerShow:!0},e.exports.RebillProductDiscount={type:"html",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:10,left:4},pointerShow:!0},e.exports.ProductInfo={type:"html",rootClose:!0,nesting:1,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.PriceTableVector={type:"simple",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.ViewInfoEditorial={type:"html",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.Rollover={type:"html",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"tm",templateOffset:{top:6,left:0},pointerShow:!0},e.exports.PriceTableVector={type:"simple",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.contributorLevel={type:"simple",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.ViewInfoEditorial={type:"html",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.TrendingInfo={type:"simple",rootClose:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.UserMenu={type:"html",rootClose:!0,displayEffect:"increase",displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templatePriority:["br","bl","bm","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:-9,left:4},pointerShow:!0,pointerPosition:"tr"},e.exports.Pager={type:"simple",rootClose:!0,displayShow:"click",displayHide:"keyup",displayShowTimeout:0,displayHideTimeout:0,pointerShow:!0,pointerPosition:"auto",pointerPriority:["tm","rm","lm","bl","br","tl","tr","rt","rb","lt","lb","auto"],templatePosition:"auto",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:2,left:0}},e.exports.TaxStatus={type:"simple",rootClose:!0,displayShowTimeout:0,displayHideTimeout:0,pointerShow:!0,pointerPosition:"auto",pointerPriority:["tm","rm","lm","bl","br","tl","tr","rt","rb","lt","lb","auto"],templatePosition:"auto",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:5,left:0}},e.exports.SearchFilter={type:"simple",hideOnScroll:!0,displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:400,displayHideTimeout:200,pointerShow:!0,templatePosition:"rt",templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:10,left:3}},e.exports.LanguagesSelector={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bl",templateOffset:{top:3,left:0},pointerShow:!0},e.exports.LanguagesSelectorFooter={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"tl",templateOffset:{top:3,left:-10},pointerShow:!0},e.exports.FavoritesPanelOptions={type:"html",rootClose:!0,hideOnScroll:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templateLinking:"parent",templatePosition:"tm",templateOffset:{top:-1,left:0},pointerShow:!1},e.exports.FoldersContextMenu={type:"html",rootClose:!0,hideOnScroll:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bl",templateLinking:"cursor",templateOffset:{top:-24,left:-7},pointerShow:!1},e.exports.FavoritesPanelCollaborate={type:"html",rootClose:!0,hideOnScroll:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templateLinking:"parent",templatePosition:"tm",templateOffset:{top:-1,left:0},pointerShow:!1},e.exports.UserStatisticOptions={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:13,left:0},pointerShow:!0},e.exports.FoldersList={type:"html",rootClose:!0,hideOnScroll:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"tm",templateOffset:{top:2,left:0},pointerShow:!1},e.exports.FoldersColor={type:"html",rootClose:!0,hideOnScroll:!0,nesting:1,displayShow:"click",displayHide:"color",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"rm",templateOffset:{top:-5,left:-8},templatePriority:["rm","lm","bm","auto"],pointerShow:!1},e.exports.MerchantManagerCard={type:"html",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:0,displayHideTimeout:0,templateOffset:{top:3,left:3},templatePosition:"rm",pointerShow:!0},e.exports.MerchantFormLock={type:"simple",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:0,displayHideTimeout:0,templateOffset:{top:3,left:0},templatePriority:["bm","lm","bl","br","tm","rm","tl","tr","rt","rb","lt","lb","auto"],pointerShow:!0},e.exports.MarkPermissions={type:"simple",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:0,displayHideTimeout:0,templateOffset:{top:3,left:0},templatePriority:["bm","bl","br","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],pointerShow:!0},e.exports.VatNumberHelp={type:"simple",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:0,displayHideTimeout:0,templateOffset:{top:3,left:0},templatePriority:["br","bm","bl","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],pointerShow:!0},e.exports.PlanConstructorHelp={type:"html",rootClose:!0,hideWithoutAnchor:!0,displayShowTimeout:0,displayHideTimeout:100,templatePosition:"bm",templatePriority:["bm","br","bl","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:8,left:0},pointerShow:!0},e.exports.SplitCountList={type:"html",rootClose:!0,hideOnScroll:!0,displayShow:"click",displayHide:"click",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templatePriority:["bm","br","bl","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:5,left:0},pointerShow:!0},e.exports.FlexibleInfo={type:"html",rootClose:!0,hideWithoutAnchor:!0,displayShowTimeout:0,displayHideTimeout:100,templatePosition:"bm",templatePriority:["bm","br","bl","tm","rm","lm","tl","tr","rt","rb","lt","lb","auto"],templateOffset:{top:3,left:0},pointerShow:!0},e.exports.CurrencySelect={type:"html",rootClose:!0,displayShow:"click",displayHide:"click",displayEffect:"none",displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templatePriority:["br","bm","bl","tr","rm","lm","tl","tm","rt","rb","lt","lb","auto"],templateOffset:{top:4,left:-5},pointerShow:!0},e.exports.Cards={type:"html",rootClose:!0,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:7,left:4},pointerShow:!0},e.exports.FeedbackForm={type:"html",rootClose:!0,hideOnKeyEscape:!0,displayShowTimeout:0,displayHideTimeout:100,templatePosition:"tm",templatePriority:["tm","bm","auto"],templateOffset:{top:5,left:0},pointerShow:!0},e.exports.FolderPermissions={type:"html",rootClose:!0,hideOnScroll:!0,nesting:1,zIndex:6e3,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"br",templateOffset:{top:3,left:-1},pointerShow:!0},e.exports.downloadsActions={type:"simple",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:150,displayHideTimeout:0,templateOffset:{top:3,left:0},templatePriority:["tm"],pointerShow:!0},e.exports.darkTitle={type:"simple",rootClose:!0,hideOnScroll:!0,displayForce:!1,displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bm",templateOffset:{top:4,left:4},pointerShow:!0},e.exports.multiInputValidationTip={type:"simple",displayShow:"mouseenter",displayHide:"mouseleave",displayShowTimeout:1e3,displayHideTimeout:0,templateOffset:{top:3,left:0},templatePriority:["tm"],pointerShow:!0}},,,function(e,t,i){"use strict";(function(t){var n=i(566).mobile.responsive;e.exports.canShowZoomModal=function(){return window.innerWidth>=n.zoomModal},e.exports.isMobileModeWideSearch=function(){return window.innerWidth>n.mobilePhone&&window.innerWidth<=n.mobileTablets},e.exports.shouldEnableMobileLayout=function(){return window.innerWidth<=n.mobileLayouts},e.exports.desktopMedium=function(){return window.innerWidth<=n.desktopMedium},e.exports.desktopSmall=function(){return window.innerWidth<=n.desktopSmall},e.exports.mobileMode=function(){return window.innerWidth<=n.mobileBig},e.exports.mobileTablets=function(){return t.browser&&window.innerWidth<=n.mobileTablets},e.exports.mobileTabletsSmall=function(){return window.innerWidth<=n.mobileTabletsSmall},e.exports.mobilePhone=function(){return window.innerWidth<=n.mobilePhone},e.exports.heightBigMode=function(){return window.innerHeight>=n.heightBigMode},e.exports.favoritesPanelIsVisible=function(){return window.innerWidth>=n.mobileTablets},e.exports.signUpSmallMode=function(){return window.innerHeight<=n.signUpSmallMode},e.exports.signUpMobileModeSafariFix=function(){return window.innerWidth<=n.signUpMobileModeSafariFix},e.exports.compactSearchSorting=function(){return window.innerWidth<=n.compactSearchSorting},e.exports.searchModalInMobileMode=function(){return window.innerHeight<=n.searchModalMobileHeight},e.exports.favoritesListTableInMobilePhoneMode=function(){return window.innerWidth<=n.favoritesListTableMobilePhoneWidth},e.exports.marketFoldersMobileMode=function(){return window.innerWidth<=n.marketFoldersMobileMode},e.exports.curatedCollectionBlockMobile=function(){return window.innerWidth<=n.curatedCollectionBlockMobile},e.exports.isStepMobileStart=function(){return window.innerWidth<=n.globalMobileStepStart},e.exports.defineStep=function(){return window.innerWidth<=n.globalStepTiny?n.mobileBig:window.innerWidth<=n.globalStepSmall?n.globalStepTiny:window.innerWidth<=n.globalStepMedium?n.globalStepSmall:n.globalStepMedium}}).call(this,i(17))},function(e,t,i){"use strict";var n=i(0),o=i(496),s=i(25),r=i(12);e.exports=o.extend({name:"Tabs",el:!1,schema:[],subSchema:[],preventDefaultAction:!1,urlLessTabs:!1,menuUnderline:!1,classNames:"",active:"",subActive:"",serializeData:{},events:{"click ._tab":"onTabClick","mouseenter ._tab":"onTabMouseEnter","mouseleave ._tab":"onTabMouseLeave","touchend ._scroll":"onScrollTouchEnd","click ._nav-left":"onNavLeftClick","click ._nav-right":"onNavRightClick"},globals:{"resize window":"onWindowResize"},initialize:function(){this.schema=new s(n.result(this,"schema")),this.defineActiveTab(),this.subSchema=new s(n.result(this,"subSchema")),this.prepareSubTabs(),this.listenTo(this.schema,"change update",this.render)},serialize:function(){return Object.assign({},{classNames:this.classNames,urlLessTabs:this.urlLessTabs,scheme:this.getEnabled().map(function(e){return e.serialize()}),subScheme:this.subSchema.serialize(),isRendered:this.isRendered},this.serializeData)},clientAfterRender:function(){this.menuUnderline&&this.setDefaultMenuUnderline(),this.isScrollPositionSet&&(this.setScrollPosition(),this.$("._scroll").removeClass("invisible")),this.updateNavigation(),this.isRendered=!0},onWindowResize:n.throttle(function(){this.menuUnderline&&this.setDefaultMenuUnderline(),this.isScrollPositionSet&&this.setScrollPosition(),this.updateNavigation()},10),onTabClick:function(e){e.stopPropagation();var t,i=Backbone.$(e.currentTarget).attr("data-key"),n=this.schema.findWhere({key:i});(this.preventDefaultAction||n&&n.get("toggler")||n&&n.get("active")||n&&!0===n.get("isDefault")&&this.schema.findWhere({toggler:!0,active:!0}))&&e.preventDefault(),n&&n.get("toggler")&&n.get("active")&&(i=this.schema.findWhere({isDefault:!0}).get("key"),t=n.get("key")),this.setActiveTab(i,t)},onTabMouseEnter:function(e){if(this.menuUnderline){var t=this.$(e.currentTarget),i=t.offset().left-this.$el.offset().left;this.menuUnderlinePosition(i,t.outerWidth())}},onTabMouseLeave:function(){if(this.schema.where({active:!0}).length>0){var e=this.schema.findWhere({pseudoActive:!0});e&&e.set({pseudoActive:!1})}this.menuUnderline&&this.setDefaultMenuUnderline()},onScrollTouchEnd:function(){this.updateNavigation()},onNavLeftClick:function(){var e=this,t=this.$("._scroll").scrollLeft();this.$("._scroll").animate({scrollLeft:Math.max(t-100,0)},300,function(){return e.updateNavigation()})},onNavRightClick:function(){var e=this,t=this.$("._scroll").scrollLeft();this.$("._scroll").animate({scrollLeft:t+100},300,function(){return e.updateNavigation()})},updateNavigation:function(){var e=this.$("._scroll");if(0!==e.length){var t=this.$("._tab:last"),i=t.offset().left+t.width()-16;this.$("._nav-left").toggleClass("active",e.scrollLeft()>16),this.$("._nav-right").toggleClass("active",i>e.width())}},setDefaultMenuUnderline:function(){var e=this.$("._tab-active"),t=e.offset().left-this.$el.offset().left;this.menuUnderlinePosition(t,e.outerWidth())},menuUnderlinePosition:function(e,t){this.$("._menu-underline").css({left:e,width:t}).removeClass("hidden")},setScrollPosition:function(){var e=this.$("._active");if(0!==e.length){var t=e.offset().left;t+e.outerWidth()>window.innerWidth&&this.$("._scroll").scrollLeft(t)}},defineActiveTab:function(){var e=this;if(this.schema.each(function(t){var i=null!=t.get("active")?t.get("active"):e.defineTabActivityByProperty(t);"none"===e.active&&(i=!1),t.set({url:e.app.makeUrl(t.get("urlKey")||t.get("key")||""),active:null!=i?i:e.defineTabByUrl(t),enabled:n.isUndefined(t.get("enabled"))||!0===t.get("enabled")||n.isFunction(t.get("enabled"))&&t.get("enabled")(e.app.user)})}),this.shouldForceSetActive()){var t=this.schema.findWhere({isDefault:!0})||this.schema.first();t&&this.setActiveTab(t.get("key"),void 0,{silent:!0})}},shouldForceSetActive:function(){return!("none"===this.active||this.getActiveTab()&&this.getActiveTab().get("enabled"))},prepareSubTabs:function(){var e=this;this.subSchema.each(function(t){return t.set({url:e.app.makeUrl(t.get("urlKey")||t.get("key")||""),active:t.get("key")===e.subActive,enabled:n.isUndefined(t.get("enabled"))||!0===t.get("enabled")||n.isFunction(t.get("enabled"))&&t.get("enabled")(e.app.user)})})},defineTabActivityByProperty:function(e){return this.active&&this.active.length?e.get("key")===this.active:null},defineTabByUrl:function(e){var t=this.app.makeUrl(e.get("key"));return!!t&&(this.app.parsedUrl.pathname===t||!e.get("isDefault")&&r.isBelongTo(t+"/",this.app.parsedUrl.pathname+"/"))},reset:function(e){this.setActiveTab(e||this.schema.first().get("key"))},setActiveTab:function(e,t,i){this.schema.findWhere({key:e}).get("active")||(this.getActiveTab()&&this.getActiveTab().set({active:!1}),this.schema.findWhere({key:e}).set({active:!0}),t&&this.schema.findWhere({key:t}).set({pseudoActive:!0}),i&&i.silent||this.changeTabCallback(this.getActiveTab()))},getActiveTab:function(){return this.schema.findWhere({active:!0})},getActiveTabIndex:function(){return this.schema.indexOf(this.getActiveTab())},getEnabled:function(){return this.schema.where({enabled:!0})},changeTabCallback:function(){}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";e.exports=function(e,t){var i=function(e){var i=e.currentTarget;if(null===e.pageX&&null!==e.clientX){var n=document.documentElement,o=document.body;e.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)}var s=t(i).offset(),r=e.pageX-s.left,a=e.pageY-s.top,l=Math.floor(1.2*Math.max(i.offsetWidth-r,r)),c=document.createElement("i"),d=Date.now();c.className="ripple wait",c.setAttribute("id",d),c.style.top=a+"px",c.style.left=r+"px",c.style.width="0px",c.style.height="0px",c.style.opacity="0.3",i.style.overflow="hidden",i.appendChild(c),setTimeout(function(e,t){var i=document.getElementById(e);i&&(i.style.top=a-t+"px",i.style.left=r-t+"px",i.style.width=2*t+"px",i.style.height=2*t+"px",i.style.opacity="0",i.className="ripple")}.bind(null,d,l),0),setTimeout(function(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}.bind(null,d),2e3)};e.find("a.button, button.button, .button-imitation").on({"click.buttonWaveEffect":i,"touchstart.buttonWaveEffect":i})}},function(e,t,i){"use strict";var n=i(534),o=i(1269),s=i(1270),r=i(0),a=i(13),l=i(496),c=i(531),d=i(565),u=i(671),h=l.extend({el:!1,template:o,isOpened:!1,destroyOnHide:!1,closeOnOverlayClick:!0,overlayOpacity:null,overlayBgColor:null,closeOnEscapeBtn:!0,lockInnerScroll:!1,mount:"._portal",insertion:"append",single:!1,draggable:!1,noBorder:!1,showHeader:!0,showTitle:!0,leftBtn:!1,rightBtn:!1,zIndex:4e3,modalClasses:"",modalAttrs:"",bodyClasses:"",footerClasses:"",title:"",lockBodyScroll:!0,body:[],escKeys:[n.esc],footer:[{selector:"",label:"OK",color:"blue",hide:!0,defaultAction:!0,callback:function(){}}],events:{"click ._overlay":"onOverlayClick","click ._close":"onCloseClick","click ._btn":"onModalButtonClick","click ._left-arrow-button":"onLeftArrowClick","click ._right-arrow-button":"onRightArrowClick"},globals:{keypress:"onKeypress",keyup:"onGlobalKeyup","resize window":"onWindowResize"},initialize:function(){this.showHeader||(this.showTitle=!1),this.listenTo(this.app.observer,"Modal:HideAll",this.observeHideAll.bind(this))},getOverlaySchema:function(){return[{key:"opacity",value:this.overlayOpacity},{key:"background-color",value:this.overlayBgColor}]},getOverlayStyle:function(){return this.getOverlaySchema().filter(function(e){return null!==e.value}).map(function(e){return e.key+": "+e.value}).join("; ")},setOverlay:function(){var e=l.extend({name:"ModalOverlay",el:!1,template:s,styleString:this.getOverlayStyle(),serialize:function(){return{styleString:this.styleString}}});this.setView(new e,!0)},prepareRender:function(){this.setOverlay(),this.fillModalBody()},serialize:function(){return{modalClasses:this.modalClasses,modalAttrs:this.modalAttrs,bodyClasses:this.bodyClasses,footerClasses:this.footerClasses,noBorder:!!this.noBorder,showTitle:this.showTitle,showHeader:this.showHeader,roundCloseButton:this.roundCloseButton,title:this.title,footer:this.footer,leftBtn:this.leftBtn,rightBtn:this.rightBtn,lockInnerScroll:this.lockInnerScroll}},clientAfterRender:function(){this.app.store.get("ModalsManager").addModal(this.getModalRegisterId()),this.setZindex(),this.draggable&&this.enableDraggable(),this.footer.length&&(c(this.$el.find("._footer"),a.$),d(this.$("._btn")))},fillModalBody:function(){!this.body.length&&"function"!=typeof this.body||this.getView("._body")||this.setViews({"._body":"function"==typeof this.body?this.body():this.body})},getModalRegisterId:function(){return{id:this.cid}},show:function(e){var t=this;this.app.observer.fire("Tooltip:GlobalHide",{cid:"all"}),this.single&&this.app.observer.fire("Modal:HideAll",{cid:this.cid}),Object.assign(this,e),this.isOpen()||(a.$(this.mount)[this.insertion](this.$el),this.beforeShowCallback()),this.lockBodyScroll&&this.app.store.get("ModalsManager").isEmpty()&&this.bodyScrollLock(),this.render().promise().then(function(){t.onShowCallback(),t.isOpened=!0})},hide:function(){if(this.isOpened){var e=this.app.store.get("ModalsManager");e.removeModal(this.getModalRegisterId()),this.app.store.get("ModalsManager").removeModal(this.getModalRegisterId()),e.isEmpty()&&this.bodyScrollUnlock(),this.onHideCallback(this),this.$el.remove(),this.undelegateEvents(),this.isOpened=!1,this.destroyOnHide&&this.remove(),this.onAfterHideCallback()}},gradualHide:function(e){var t=this.app.store.get("ModalsManager");(t.isEmpty()||t.isUpperModal(this.getModalRegisterId()))&&(e.stopPropagation(),this.hide())},onCloseClick:function(e){this.gradualHide(e)},onOverlayClick:function(e){this.closeOnOverlayClick&&e.target===e.currentTarget&&this.gradualHide(e)},onModalButtonClick:function(e){e.stopPropagation(),e.preventDefault(),this.executeButtonAction(e.currentTarget)},onKeypress:function(e){if(this.isOpened&&"textarea"!==e.target.tagName.toLowerCase()&&e.keyCode===n.enter){var t=this.footer.find(function(e){return!0===e.defaultAction});this.executeButtonAction(t)}},executeButtonAction:function(e){var t=this.footer[a.$(e).index()];r.isObject(t)&&(r.isFunction(t.callback)&&t.callback(this,e),r.isFunction(this[t.callback])&&this[t.callback](this,e),t.hide&&this.hide())},onGlobalKeyup:function(e){this.closeOnEscapeBtn&&this.escKeys.includes(e.keyCode)&&this.gradualHide(e)},onTouchEndCallback:function(e){this.gradualHide(e)},observeHideAll:function(e){e.cid!==this.cid&&this.hide()},setZindex:function(){var e=this.app.store.get("ModalsManager").getModalOrder(this.getModalRegisterId());this.$el.css({zIndex:4e3+10*(e+1)}),this.zIndex=this.$el.css("z-index")},enableDraggable:function(){var e=this;u.initDragNDrop(),this.$el.find("._modal").draggable({handle:"._drag-handler",scroll:!1,create:function(t,i){e.$el.addClass("modal-container_lock-scroll")}})},isOpen:function(){return this.isOpened},bodyScrollLock:function(){this.setScrollGlitchSuppressor(),this.enableScrollCompensator(),a.$("html, body").addClass("lock-scroll")},bodyScrollUnlock:function(){this.removeScrollGlitchSuppressor(),this.disableScrollCompensator(),a.$("html, body").removeClass("lock-scroll")},enableScrollCompensator:function(){if(!(a.$(document).height()<=a.$(window).height())){var e=a.$(document.body),t=a.$(document.head),i=a.$('<div style="width: 100%; height: 50px; overflow: scroll;">').appendTo("body"),n=i[0].offsetWidth-i[0].clientWidth;i.remove(),n>0&&(t.append('<style data-id="scroll-compensator" type="text/css">\n\t\t\t\t\t.scroll-compensator {\n\t\t\t\t\t\tpadding-right: '+n+"px;\n\t\t\t\t\t}\n\t\t\t\t</style>"),document.documentElement.style.setProperty("--scroll-holder-width",n+"px",""),e.addClass("scroll-compensator"))}},disableScrollCompensator:function(){a.$('[data-id="scroll-compensator"]').remove(),a.$(document.body).removeClass("scroll-compensator"),document.documentElement.style.setProperty("--scroll-holder-width","0","")},setScrollGlitchSuppressor:function(){var e=a.$(document.body);a.$(document.head).append('<style data-id="fixed-height" type="text/css">\n\t\t\t\t.fixed-height {\n\t\t\t\t\theight: '+a.$(document).height()+"px!important;\n\t\t\t\t}\n\t\t\t</style>"),e.addClass("fixed-height")},removeScrollGlitchSuppressor:function(){a.$('[data-id="fixed-height"]').remove(),a.$(document.body).removeClass("fixed-height")},onWindowResize:function(){},beforeShowCallback:function(){},onShowCallback:function(){},onHideCallback:function(){},onLeftArrowClick:function(){},onRightArrowClick:function(){},onAfterHideCallback:function(){},onAnimationComplete:function(){}});e.exports=h},function(e,t,i){"use strict";(function(t){var n=function(e){return e&&e.__esModule?e:{default:e}}(i(115));function o(e,t,i,n,o,s,r){try{var a=e[s](r),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,o)}function s(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var r=e.apply(t,i);function a(e){o(r,n,s,a,l,"next",e)}function l(e){o(r,n,s,a,l,"throw",e)}a(void 0)})}}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(i,!0).forEach(function(t){l(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(1346);var c=i(0),d=i(74),u=i(7),h=i(76).utmParams,p=i(16),f=i(66),m=i(40),g=i(496),b=i(1375),v=i(1379),_=i(1381),w=i(1384),y=i(1395),x=i(574),C=i(1426),k=i(1427),S=i(1430),T=i(1434),P=i(1436),M=i(1448),O=i(1449),E=i(735),A=i(67),D=i(1451),L=i(1320),I=i(12),F=i(1319),R=i(77),z=i(1585),$=i(678),N=i(1587);e.exports=g.extend({id:"root",el:t.browser?"#root":void 0,tagName:"div",asyncApiQueries:!1,decryptQuery:null,toTopEnabled:!0,favoritesPanelEnabled:!1,favoritesPanelInitials:{},status:N.STATUS_OK,isSidebarAllowed:!0,insert:function(e,i){t.browser?e.html(i):e.append(i)},constructor:function(e){var t,i=this;e.app.user.isLoggedIn()&&!["EnterpriseUsers","SubaccountsUsers"].includes(e.app.router.routeName)||(e.app.store.link("UserBanInfo",new M({},{app:e.app})),e.app.store.get("UserBanInfo").fetch());for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];(t=g.prototype.constructor).call.apply(t,[this,e].concat(o)),this.app.isBot||this.injectNotifications(),this.listenToOnce(this.app.user,"destroy",this.doAfterLogout),this.processGlobalEvents(),this.on("beforeRender",function(){i.setStructuredDataView(),i.enablePortal(),i.enableSidebar()}),this.on("clientAfterRender",this.handleClientAfterRender),this.once("clientAfterRender",this.setUtmDPCookie),this.on("popstate",this.handlePagePopState),this.setExperimentDependencies(),this.app.chain&&this.app.chain.use(this.name)},doAfterLogout:function(){this.app.user.isEnterprise()?this.app.router.redirect(this.app.makeUrl("/")):window.location.reload()},handleClientAfterRender:function(){var e=this,t=this.app.router.routeName;Promise.resolve().then(function(){c.contains(["Search","SearchByImage"],t)||e.app.observer.broadcast("Track:PV,RE:Route",{route:t}),e.trigger("onPageTrackersAreExecuted",e),!e.app.isBot&&e.app.features.isFeatureOnValue("User performance metrics")&&e.trackPerformance()}),this.checkPromoCode(),this.checkBoschGreeting(),this.initBlinger(),this.enableCookieBar(),this.injectStylesAfterCriticalCss(),this.enableFavoritesPanel(),this.enableToTopButton(),this.handleSearchSession(),this.enableBrowserValidation()},injectStylesAfterCriticalCss:function(){var e=this;window.IS_CRITICAL_CSS_ENABLED&&JSON.parse(window.CSS_CHUNKS).forEach(function(t){return F({id:t.match(/\/(.+)\./)[1],href:""+e.app.cdnPath+t+"?"+e.app.mtime,preload:e.app.features.isFeatureOnValue("Preload CSS")})})},trackPerformance:function(){var e=this;z.afterLoadEvent(function(){return setTimeout(function(){z.getInitialPageMetrics().then(function(t){return e.app.observer.broadcast("Track:UE:Performance",t)}).catch(function(){})},1e4)})},handleSearchSession:function(){var e=this;this.app.store.get("SearchQuery")&&this.app.store.get("SearchQuery").on("change",function(){var t=e.app.userSettings.get("searchSession");"Search"!==e.name&&t&&t.route!==e.name&&e.app.userSettings.set("searchSession",null)});var t=!1,i=Object.entries(this.app.queryParams).reduce(function(e,i){var n=i[0],o=i[1];return f.searchSessionParams.includes(n)&&o!==f.defaults[n]&&(e[n]=o,t=!0),e},{});t&&this.app.userSettings.set("searchSession",{route:this.name,params:i})},processGlobalEvents:function(){var e=this,t=[];this.listenTo(this.app.observer,"API:events",function(i){if(i.events.invoice&&!c.contains(t,i.events.invoice.data.order_number)){t.push(i.events.invoice.data.order_number);var n=new E(i.events.invoice,{app:e.app,parse:!0});e.onSuccessPurchase(n,i.events.invoice)}i.events.enterpriseLogout&&e.app.user.logout()}),this.listenTo(this.app.observer,{"Tour:Start":this.startTour,Notification:this.showNotification,"SignUp:SocialEmailShow":this.signUpSocialEmailShow,"SignUp:SocialEmailHide":this.signUpSocialEmailHide,"SignUp:SocialConditionShow":this.signUpSocialConditionShow,"Sidebar:PurchaseEnable":this.enablePurchaseSidebar})},getBaseMeta:function(){var e=this.getMeta(),t=e.tags||[],i=e.params||{},n=I.urlParse(this.app.originalUrl);if(t.push({tagName:"title",tagContent:i.title}),i.description&&t.push({tagName:"meta",selfClosing:!0,attributes:{name:"description",content:i.description}}),i.robotsDisabled||(i.robots||(i.robots=this.makeMetaRobots()),t.push({tagName:"meta",selfClosing:!0,attributes:{name:"robots",content:i.robots}})),!i.canonicalDisabled){i.canonical||(i.canonical=this.app.parsedUrl.protocol+"//"+n.hostname+n.pathname),i.canonical=i.canonical.replace(/amp.html$/,"html");var o=I.decodeURIComponent(i.canonical);t.push({tagName:"link",selfClosing:!0,attributes:{rel:"canonical",href:-1!==o.search(/'|"/gim)?i.canonical:o}})}if(!this.app.ampEnabled&&this.app.routeHasAmpVersion){i.canonical||(i.canonical=this.app.parsedUrl.protocol+"//"+n.hostname+n.pathname),i.canonical=i.canonical.replace(/html$/,"amp.html");var s=I.decodeURIComponent(i.canonical);t.push({tagName:"link",selfClosing:!0,attributes:{rel:"amphtml",href:-1!==s.search(/'|"/gim)?i.canonical:s}})}var r=i.alternateProto||this.app.parsedUrl.protocol,a=this.makeMetaYandex();return a&&t.push({tagName:"meta",selfClosing:!0,attributes:{name:"yandex",content:a}}),{lang:this.app.lang,alias:c.findWhere(c.result(p,"locales"),{key:this.app.lang}).alias,hreflangDisabled:i.hreflangDisabled,locales:this.getLocales(r+"//"+n.hostname+n.pathname),tags:t}},makeMetaRobots:function(){return this.app.user.isLoggedIn()?"noindex,nofollow":"index,follow"},makeMetaYandex:function(){return"index, follow, noyaca"},getMeta:function(){return{params:{title:this.tr("Stock Images, Photos, Vectors, Illustrations and Videos | DepositphotosÂ®"),description:this.tr("Get royalty-free images, photos, vectors, illustrations and videos from the best microstock - Depositphotos.")}}},getResponseHeaders:function(){var e=u.responseHeaders.lastModified,t=this.getMeta();return t&&t.params&&t.params.lastModified>0&&(e=t.params.lastModified),{"Last-Modified":new Date(1e3*e).toUTCString(),Expires:(new Date).toUTCString()}},getLocales:function(e){return this.app.getLanguages(e,null,!1)},getCorrectUrl:function(){return null},getStatus:function(){return this.status},setUtmDPCookie:function(){if(t.browser){var e=this.app.parsedUrl.query,i={utm_source:"utmcsr",utm_medium:"utmcmd",utm_campaign:"utmccn",utm_term:"utmctr",utm_content:"utmcct",utmgclid:"gclid"},n=document.referrer;if(n){var o=I.urlParse(n);n=""+o.hostname+o.path}var s=R.readUtmdpCookie(),r=R.readUtmzCookie(),l=h.reduce(function(t,n){return n in e&&(t[i[n]||n]=e[n]),t},{});e.gclid&&(l.utmgclid=e.gclid);var c=a({utmcsr:n||"(direct)",utmcmd:n?"referral":"(none)",utmccn:"(none)"},s,{},r,{},l),u=Object.entries(c).map(function(e){return e[0]+"="+e[1]}).join("|"),p=R.getGACookie()||"(ga_undefined)";d.set("__utmDP",p+"|"+u,{path:"/",expires:"6M",domain:"."+I.getBaseDomain(window.location.host),secure:!0})}},setExperimentDependencies:function(){["Search","SearchByImage","FileView","Cart","Folder","CustomFolder"].includes(this.name)&&this.app.features.isFeatureEnabled("Plans with Member Collection",2)&&$.set(this.app)},generate500:function(){throw new Error("Internal server error in component: "+this.name)},onSuccessPurchase:function(e,t){this.showSuccessPurchaseModal(e),this.fireInvoiceEvents(e,t)},showSuccessPurchaseModal:function(e){new w({app:this.app,invoice:e}).show()},fireInvoiceEvents:function(e,t){var i=t.data;this.app.observer.broadcast("Track:CO:SuccessPurchaseInfo:PaymentSuccess",{route:"SubscribeStatus",invoice:e.serialize(),invoicesCount:i.invoices_count,payInvoicesCount:i.pay_invoices_count,daysCount:i.days_count,paymentSystem:i.method,url:"/ingoing/payment/success/"+e.get("productType")+"/"+this.app.tracking.rewritePaymentSystem(i.method.toLocaleLowerCase())}),this.app.observer.broadcast("Track:UE:SuccessPurchaseInfo:Buy",{quantity:+i.invoices_count?"2nd+ Purchase":"1st Purchase",price:e.get("price"),name:e.get("info")&&e.get("info").name||""})},enableBrowserValidation:function(){var e=/MSIE ([0-9.]+);/gi.exec(navigator.userAgent);e&&parseInt(e[1],10)<9&&!A.get("oldIeDoNotShow")&&this.setView("",new v({app:this.app,cookieName:"oldIeDoNotShow"}))},enableFavoritesPanel:function(e){var n=this;void 0===e&&(e=this.favoritesPanelInitials),t.browser&&this.favoritesPanelEnabled&&window.requestIdleCallback(function(){F({id:"favPanel",href:n.app.cdnPath+"_css/chunk_fav_panel.css?"+n.app.mtime,preload:n.app.features.isFeatureOnValue("Preload CSS")}).then(function(){return Promise.all([i.e(101),i.e(94)]).then(function(t){var o=i(2139);n.findView("wrapper").insertView("",new o(a({app:n.app},e))).render()}.bind(null,i)).catch(i.oe)})})},extractHTML:function(){var e=s(n.default.mark(function e(t,i){var o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i=!1),t||this.serverRenderingEnabled){e.next=3;break}return e.abrupt("return",'<div id="'+this.id+'"></div>');case 3:return e.next=5,this.render().promise();case 5:return o=e.sent,e.abrupt("return",Backbone.$.html(i?o.el.children:o.el));case 7:case"end":return e.stop()}},e,this)}));return function(t,i){return e.apply(this,arguments)}}(),getSSRHTMLString:function(){var e=s(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractHTML(!0,this.app.ampEnabled);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),enableSidebar:function(){this.isSidebarAllowed&&(this.app.device.isMobile||t.browser||this.app.ampEnabled)&&this.insertView("",new P(a({app:this.app},this.sidebarParams)))},enableToTopButton:function(){t.browser&&this.toTopEnabled&&this.findView("wrapper").insertView("",new k({app:this.app})).render()},enableLiveChat:function(){t.browser&&this.findView("wrapper").insertView(new T({app:this.app})).render()},enableCookieBar:function(){t.browser&&this.app.features.isFeatureOnValue("Cookie Acceptance Message")&&!["Subscribe","SubscribeMixed"].includes(this.app.router.routeName)&&!A.get("cookieAccepted")&&this.findView("wrapper").insertView("",new _({app:this.app,cookieId:"cookieAccepted"})).render()},enablePortal:function(){t.browser&&this.findView("wrapper").insertView("",new D({app:this.app})).render()},enablePurchaseSidebar:function(e){var n=this;void 0===e&&(e={}),t.browser&&F({id:"purchaseSidebar",href:this.app.cdnPath+"_css/chunk_purchase_sidebar.css?"+this.app.mtime,preload:this.app.features.isFeatureOnValue("Preload CSS")}).then(function(){return n.app.currency.init().then(function(){return Promise.all([i.e(0),i.e(4),i.e(103),i.e(96)]).then(function(t){var o=i(2171);n.findView("PurchaseSidebar")||n.findView("Portal").insertView("",new o(a({},e,{app:n.app}))).render()}.bind(null,i)).catch(i.oe)})})},remove:function(){this.app.store.unlinkAll();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return g.prototype.remove.apply(this,t)},startTour:function(e){this.setNotExistView("Tour",b,{app:this.app}).start(e)},showNotification:function(e){this.getView("Notification")||this.setView("Notification",new y({app:this.app,options:e})).show()},signUpSocialEmailShow:function(e){this.setView("SignUpModal",new x({app:this.app,mode:"social-email",onSuccessCallback:function(t){e.callback&&e.callback(Object.assign({},e.data||{},{email:t}))}})).show()},signUpSocialEmailHide:function(){var e=this.getView("SignUpModal");e&&e.hide()},checkPromoCode:function(){new C({app:this.app}).check()},signUpSocialConditionShow:function(e){this.setView("SignUpModal",new x({app:this.app,mode:"social-condition",onSuccessCallback:function(){e.callback&&e.callback(Object.assign({},e.data||{},{condition:!0}))}})).show()},checkBoschGreeting:function(){if(t.browser&&this.app.userSettings.get("boschGreetingShow")){var e=this.app.userSettings.get("boschGreetingEnabled");(c.isUndefined(e)||e)&&new S({app:this.app}).show(),this.app.userSettings.set({boschGreetingShow:!1})}},injectNotifications:function(){this.app.store.link("Notifications",new O([],{app:this.app})),this.app.store.get("Notifications").fetch()},initBlinger:function(){t.browser&&this.app.features.isFeatureOnValue("Blinger integration")&&m({src:u.client.blinger.src,async:!0})},handlePagePopState:function(){},setStructuredDataView:function(){var e=this;this.insertView("",new L({app:this.app,getStructuredData:function(){return e.getStructuredData()}}))},getStructuredData:function(){return[]}})}).call(this,i(17))},function(e,t,i){"use strict";e.exports={middleMouse:2,rightMouse:3,backspace:8,tab:9,enter:13,alt:18,esc:27,space:32,end:35,left:37,up:38,right:39,down:40,deleteKey:46,digit0:48,digit1:49,digit9:57,numDigit0:96,numDigit1:97,numDigit9:105,subtract:109,semicolon:186,comma:188,dash:189,period:190}},,,,,function(e,t,i){"use strict";var n=i(0),o=i(13),s=i(532),r=i(1392);e.exports=s.extend({modalWidth:500,mount:"body",initialize:function(){for(var e=this,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];s.prototype.initialize.apply(this,i),!this.message&&this.bodyExist()||(this.body=function(){return new r({message:n.result(e,"message")})})},bodyExist:function(){return this.body instanceof Array&&this.body.length||"function"==typeof this.body},show:function(){this.def=o.$.Deferred();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return s.prototype.show.apply(this,t),this.def.promise()},nativePromiseShow:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return s.prototype.show.apply(this,i),new Promise(function(t,i){e.resolvePromise=t,e.rejectPromise=i})},onPromptPromiseResove:function(){return this.resolvePromise(this.getView("._body").serializeForm())},onPromptPromiseReject:function(){return this.rejectPromise()},promptResolve:function(){this.def.resolve(this.getView("._body").serializeForm())}})},,function(e,t,i){var n,o;!function(s,r){e.exports?e.exports=r():void 0===(o="function"==typeof(n=r)?n.call(t,i,t,e):n)||(e.exports=o)}(0,function(){"use strict";var e,t,i=["webkit","Moz","ms","O"],n={};function o(e,t){var i,n=document.createElement(e||"div");for(i in t)n[i]=t[i];return n}function s(e){for(var t=1,i=arguments.length;t<i;t++)e.appendChild(arguments[t]);return e}function r(i,o,s,r){var a=["opacity",o,~~(100*i),s,r].join("-"),l=.01+s/r*100,c=Math.max(1-(1-i)/o*(100-l),i),d=e.substring(0,e.indexOf("Animation")).toLowerCase(),u=d&&"-"+d+"-"||"";return n[a]||(t.insertRule("@"+u+"keyframes "+a+"{0%{opacity:"+c+"}"+l+"%{opacity:"+i+"}"+(l+.01)+"%{opacity:1}"+(l+o)%100+"%{opacity:"+i+"}100%{opacity:"+c+"}}",t.cssRules.length),n[a]=1),a}function a(e,t){var n,o,s=e.style;if(void 0!==s[t=t.charAt(0).toUpperCase()+t.slice(1)])return t;for(o=0;o<i.length;o++)if(void 0!==s[n=i[o]+t])return n}function l(e,t){for(var i in t)e.style[a(e,i)||i]=t[i];return e}function c(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)void 0===e[n]&&(e[n]=i[n])}return e}function d(e,t){return"string"==typeof e?e:e[t%e.length]}var u={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};function h(e){this.opts=c(e||{},h.defaults,u)}if(h.defaults={},c(h.prototype,{spin:function(t){this.stop();var i=this,n=i.opts,s=i.el=o(null,{className:n.className});if(l(s,{position:n.position,width:0,zIndex:n.zIndex,left:n.left,top:n.top}),t&&t.insertBefore(s,t.firstChild||null),s.setAttribute("role","progressbar"),i.lines(s,i.opts),!e){var r,a=0,c=(n.lines-1)*(1-n.direction)/2,d=n.fps,u=d/n.speed,h=(1-n.opacity)/(u*n.trail/100),p=u/n.lines;!function e(){a++;for(var t=0;t<n.lines;t++)r=Math.max(1-(a+(n.lines-t)*p)%u*h,n.opacity),i.opacity(s,t*n.direction+c,r,n);i.timeout=i.el&&setTimeout(e,~~(1e3/d))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(t,i){var n,a=0,c=(i.lines-1)*(1-i.direction)/2;function u(e,t){return l(o(),{position:"absolute",width:i.scale*(i.length+i.width)+"px",height:i.scale*i.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*a+i.rotate)+"deg) translate("+i.scale*i.radius+"px,0)",borderRadius:(i.corners*i.scale*i.width>>1)+"px"})}for(;a<i.lines;a++)n=l(o(),{position:"absolute",top:1+~(i.scale*i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:e&&r(i.opacity,i.trail,c+a*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&s(n,l(u("#000","0 0 4px #000"),{top:"2px"})),s(t,s(n,u(d(i.color,a),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}}),"undefined"!=typeof document){t=function(){var e=o("style",{type:"text/css"});return s(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}();var p=l(o("group"),{behavior:"url(#default#VML)"});!a(p,"transform")&&p.adj?function(){function e(e,t){return o("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}t.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(t,i){var n=i.scale*(i.length+i.width),o=2*i.scale*n;function r(){return l(e("group",{coordsize:o+" "+o,coordorigin:-n+" "+-n}),{width:o,height:o})}var a,c=-(i.width+i.length)*i.scale*2+"px",u=l(r(),{position:"absolute",top:c,left:c});function h(t,o,a){s(u,s(l(r(),{rotation:360/i.lines*t+"deg",left:~~o}),s(l(e("roundrect",{arcsize:i.corners}),{width:n,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:a}),e("fill",{color:d(i.color,t),opacity:i.opacity}),e("stroke",{opacity:0}))))}if(i.shadow)for(a=1;a<=i.lines;a++)h(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)h(a);return s(t,u)},h.prototype.opacity=function(e,t,i,n){var o=e.firstChild;n=n.shadow&&n.lines||0,o&&t+n<o.childNodes.length&&(o=(o=(o=o.childNodes[t+n])&&o.firstChild)&&o.firstChild)&&(o.opacity=i)}}():e=a(p,"animation")}return h})},function(e,t,i){"use strict";e.exports.spinner={lines:12,length:3,width:2,radius:3,scale:1,corners:1,color:"#000",opacity:.1,rotate:0,direction:1,speed:1.5,trail:100,fps:20,zIndex:100,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},e.exports.videoPlayer={lines:17,length:0,width:2,radius:4,scale:1,corners:0,color:"#fff",opacity:.25,rotate:0,direction:1,speed:1.5,trail:45,fps:25,zIndex:2e9,className:"spinner",top:"7%",left:"96%",shadow:!1,hwaccel:!0,position:"absolute"}},,,,,,,,,,,,,function(e,t,i){"use strict";var n="MMM DD, YYYY",o="YYYY-MM-DD HH:mm:ss";e.exports={statisticsRequest:"YYYY-MM-DD HH:mm:ssZZ",statisticsDays:n,licenseDays:n,enterpriseDownloads:n,downloadsRequest:"YYYY-MM-DD HH:mm:ssZZ",datepickerCache:o,logsDate:"MMM DD, YYYY HH:mm:ss",logsRequest:"YYYY-MM-DD HH:mm:ssZZ",logsRequestFilter:o,filePublishedFormat:n}},function(e,t,i){"use strict";e.exports=i(1505)},function(e,t,i){"use strict";(function(e){var t=i(0),n=i(496),o=i(558),s=i(6).getLogger,r=i(675),a=s(e),l=n.extend({name:"Form",el:!1,model:null,events:{submit:"onSubmit","input ._field":"onRegularFieldInput","focusin ._field":"onRegularFieldFocusIn","focusout ._field":"onRegularFieldFocusOut"},initialize:function(){this.model?(this.model.enableViewValidation(this),this.listenTo(this.model,{invalid:this.handleModelInvalid,error:this.handleModelError,request:this.handleModelRequest,sync:this.handleModelResponse})):a.warn("Form.js: form model is required.")},remove:function(){this.model.disableViewValidation(this);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.prototype.remove.apply(this,t)},onSubmit:function(e){e&&e.preventDefault(),this.prepareSubmit(),this.validate()?this.submit():this.onPreSubmitFail()},submit:function(){this.model.save()},validate:function(){return this.model.isValid(!0)},handleModelInvalid:function(e,i){var n=this;t.size(i)&&t.each(i,function(e,i){var o=t.isArray(e)?t.first(e):e;n.fieldIncorrect(n.$("[name="+i+"]").parent(),{errorMessage:o})})},resetErrors:function(){var e=this;t.each(this.$(".field-box_incorrect input, .field-box_incorrect select"),function(t){return e.fieldReset(e.$(t).parent())})},onRegularFieldInput:function(e){this.onUpdateField(e),this.model.set(e.currentTarget.name,e.currentTarget.value)},onRegularFieldFocusIn:function(e){this.fieldReset(this.$(e.currentTarget).parent())},initializePasswordSwitcher:function(){this.$("._password").each(function(e,t){r({$button:Backbone.$('<i class="password-switcher password-switcher_icon" />'),$target:Backbone.$(t),isIconSwitch:!0})})},serialize:function(){},prepareSubmit:function(){},onPreSubmitFail:function(){},handleModelRequest:function(){},handleModelResponse:function(){},handleModelError:function(){},onRegularFieldFocusOut:function(){}});Object.assign(l.prototype,o),e.exports=l}).call(this,i(3)(e))},function(e,t,i){"use strict";var n=i(542).spinner,o=i(0),s=i(541),r=i(20);e.exports={fieldCorrect:function(e,t){this.fieldReset(e,t),e.addClass("field-box_correct").removeClass("field-box_label-text")},fieldIncorrect:function(e,t){if(void 0===t&&(t={}),this.fieldReset(e,t),t.msgOnly||(e.addClass("field-box_incorrect").removeClass("field-box_label-text"),e.find(".field-box__right-elem").addClass("hidden")),"string"==typeof t.errorMessage){var i='<span class="field-box__error" data-id="'+this.getContextId(e)+'">'+this.tr(t.errorMessage)+"</span>";this.getErrorHolder(e,t).append(i)}this.fieldsGroupIncorrect(e)},fieldProgress:function(e,t){this.fieldReset(e,t),this.spinner||(this.spinner=new s(o.extend({},o.clone(n),{className:"field-box_spinner"}))),this.spinner.spin(e.get(0)),t&&t.keepEnabled||e.find("input, select, textarea").attr("disabled","disabled")},fieldReset:function(e,t){e.find("field-box_progress:disabled").removeAttr("disabled"),e.removeClass("field-box_correct field-box_incorrect field-box_progress"),e.find(".field-box__right-elem").removeClass("hidden"),e.attr("data-label-text")&&e.addClass("field-box_label-text"),this.spinner&&this.spinner.stop(e.get(0)),this.getErrorHolder(e,t).find('span.field-box__error[data-id="'+this.getContextId(e)+'"]').remove(),this.fieldsGroupReset(e)},onCapitalizeEvent:function(e){this.capitalize(e)},capitalize:function(e){var t=e.currentTarget.value;if(t.length<=1||"input"===e.type&&"paste"===this.prevCapitalizeEvt){var i=t.charAt(0);i!==i.toUpperCase()&&(e.currentTarget.value=r.capitalize(t))}this.prevCapitalizeEvt=e.type},getContextId:function(e){return e.attr("data-id")||e.attr("data-id",o.uniqueId("autoId_")).attr("data-id")},getErrorHolder:function(e,t){return t&&void 0!==t.errorHolder?t.errorHolder:e},onUpdateField:function(e){void 0!==e.currentTarget.dataset.capitalize&&this.capitalize(e),this.$(e.currentTarget).toggleClass("empty",0===e.currentTarget.value.length)},getInputAdditional:function(e){return Object.keys(e).reduce(function(t,i){return t[i]=0!==parseInt(e[i],10)&&e[i]&&0!==e[i].length?"":"empty",t},{})},getFieldsGroup:function(e){var t=e.closest("._fields-group-part"),i=e.closest("._fields-group");return i&&t?i.add(t):i||t},handleUpdateFieldFocus:function(e){var t=this.getFieldsGroup(this.$(e.currentTarget));t&&t.toggleClass("focus","focusin"===e.type)},fieldsGroupIncorrect:function(e){if(0!==e.length){var t=this.getFieldsGroup(e);t&&t.addClass("invalid")}},fieldsGroupReset:function(e){if(0!==e.length){var t=this.getFieldsGroup(e);t&&0===t.find(".field-box_correct").length&&t.removeClass("invalid")}}}},,,,function(e,t,i){"use strict";var n=i(0),o=i(653),s=i(4),r=i(25),a=i(1576);e.exports=s.extend({url:"Series",defaults:o.seriesModelDefault,getQueryParams:function(){return n.extend({},n.pick(this.attributes,"name","lang","random"),{limit:this.get("alone")?1:0})},parse:function(e){var t=this.get("elements")?this.get("elements").reset(e.elements||[],{parse:!0}):new r(e.elements||[],{app:this.app,model:a,parse:!0});return n.extend({},e,{elements:t})},toJSON:function(){var e=n.omit(this.attributes,"elements");return e.elements=[],this.get("elements")&&this.get("elements").each(function(t){e.elements.push(t.toJSON())}),this.get("grid")&&(e.grid=this.makeGrid()),e},makeGrid:function(){var e=this.get("grid"),t=[],i=[];return n.each(n.range(e.rows),function(o){var s=[];n.each(n.range(e.columns),function(t){var r=o+":"+t;if(!(n.indexOf(i,r)>-1)){var a={};e.spans&&e.spans[r]&&(n.extend(a,e.spans[r]),n.each(n.range(1,e.spans[r].colspan||1),function(e){i.push(o+":"+(t+e))}),n.each(n.range(1,e.spans[r].rowspan||1),function(s){i.push(o+s+":"+t),n.each(n.range(1,e.spans[r].colspan||1),function(e){i.push(o+s+":"+(t+e))})})),s.push(a)}}),s.length&&t.push(s)}),t},getFirstImage:function(){var e=this.get("elements").first();if(!e)return null;var t=e.get("resource");return t?(t.get("src")||{}).jpg:null},getImagesList:function(e){void 0===e&&(e="name");var t={},i=this.get("elements");return i&&i.each(function(i){var n=i.get("resource");n&&(t[i.get(e)]=(n.get("src")||{}).jpg)}),t}})},,,function(e,t,i){"use strict";var n=i(0),o=i(541),s=i(542).spinner;e.exports=function(e,t){var i=n.clone(s);if(void 0!==t&&(void 0!==t.color&&(i.color=t.color),void 0!==t.position)){var r=(2*(i.length+2)+2*i.radius)/2;"left"===t.position?i.left=r+"px":"right"===t.position&&(i.left=e.outerWidth()-r-2+"px")}e.spinner=new o(i),e.on({"loading.buttonLoader":function(t,i){t.currentTarget.className+=" loading",t.currentTarget.setAttribute("disabled",!0),e.spinner.spin(t.currentTarget)},"loaded.buttonLoader":function(t){e.spinner.stop(),t.currentTarget.className=t.currentTarget.className.replace(/\s*loading/g,""),t.currentTarget.removeAttribute("disabled")}})}},function(e,t,i){"use strict";e.exports.mobile={responsive:{desktopMedium:1250,desktopSmall:1100,mobileBig:990,mobileTablets:770,mobileTabletsSmall:650,mobilePhone:450,mobileLayouts:990,heightBigMode:1e3,zoomModal:540,marketFoldersMobileMode:820,signUpSmallMode:640,signUpMobileModeSafariFix:1010,compactSearchSorting:1250,searchModalMobileHeight:500,favoritesListTableMobilePhoneWidth:420,curatedCollectionBlockMobile:600,globalStepLarge:1680,globalStepMedium:1440,globalStepSmall:1290,globalStepTiny:1024,globalMobileStepStart:1020}}},,,,,,function(e,t,i){"use strict";var n=i(1282),o=i(1281),s=i(1413).format,r={number:"1-954-990-0075",lang:["en"]},a=o.reduce(function(e,t){return e[t.country_code]=t,e},{}),l=o.reduce(function(e,t){return e[t.phoneCode]=t,e},{}),c=function(e){return o.find(function(t){return 0===e.indexOf(t.phoneCode)&&(!!t.phone_number_lengths.includes(e.length-t.phoneCode.length)&&!!t.mobile_begin_with.some(function(i){return 0===e.indexOf(t.phoneCode+i)}))})},d=function(e,t){for(var i,o=(void 0===t?{}:t).byLang,s=void 0!==o&&o,a=s?1:10,l=s?20:1,c=0,d=0;d<n.length;d+=1){var u=n[d].country.includes(e.config.country)*a+n[d].lang.includes(e.lang)*l;u>c&&(c=u,i=n[d])}return i||r},u=function(e){return a[e.config.country||e.user.get("country")]||null},h=function(e){return void 0===e&&(e=""),(""+e).replace(/\D/g,"")},p=function(e){for(var t=5;t>0;){var i=(""+e).slice(0,t),n=l[i];if(n)return n;t-=1}return null},f=function(e,t){var i=h(e);if(!i||"string"!=typeof i)return null;var n=c(i)||p(i)||u(t);return n?(["GA","CI","CG"].includes(n.country_code)||(i=i.replace(/^0+/,"")),"RU"===n.country_code&&11===i.length&&i.match(/^89/)&&(i=i.replace(/^8+/,"")),{code:n.phoneCode,number:i.replace(n.phoneCode,""),info:n}):null},m=function(e,t){if(!t)return e;for(var i=(""+e).replace(/^\+*/,""),n="",o=0,s=0;s<t.length;s+=1){var r=t.charAt(s);"x"===r?(n+=i.charAt(o),o+=1):n+=r}return n},g=function(e,t){if(null==e)return"";var i="object"==typeof e?e.number:e;if(null==i)return"";if(i=""+i,new RegExp(/^\D/).test(i))return i;var n=f(i,t);if(!n)return i.replace(/[^0-9-]/g,"");if(!n.number)return"";var o=""+n.code+n.number,r=s.find(function(e){return e.code===n.info.country_code});return r&&m(o,r.mask)||"+"+o};e.exports={getContact:d,serialize:g,serializeContactPhone:function(e){return g(d(e),e)},parseNumber:f,__TEST:{getDefaultISO:u,getISO3166ByPhone:c,maskNumber:m,forceParse:p,normalize:h}}},,function(e,t,i){"use strict";i(1278);var n=i(534),o=i(1399),s=i(532),r=i(901);e.exports=s.extend({name:"SignupModal",animation:{onShow:!0},showTitle:!1,roundCloseButton:!0,destroyOnHide:!0,modalClasses:"modal_signup modal_with-poster",modalAttrs:"tabindex=0",bodyClasses:"modal__body_signup",footer:[],escKeys:[n.esc],initialize:function(){this.body=[new r({template:o,app:this.app,mode:this.mode||"default",title:this.title,subTitle:this.getSubTitle(),invalidClassName:"signup-user_invalid",onSuccessCallback:this.onSuccessCallback})];for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.prototype.initialize.apply(this,t)},getSubTitle:function(){var e=this.app.store.get("FileForFavorite");if(e){var t="video"===e.get("type")?this.tr('<span class="%s">Create your Account</span> to add this video to your Favorites',"sub-text"):this.tr('<span class="%s">Create your Account</span> to add this image to your Favorites',"sub-text");return this.app.store.unlink("FileForFavorite"),t}return this.subTitle||this.tr('<span class="%s">Create your Account</span> to unlock all the features of Depositphotos',"sub-text")},onSuccessCallback:function(){}})},function(e,t,i){"use strict";var n=i(0),o=i(13).$,s=i(1281),r=i(534),a=i(1412),l=i(496),c=i(572),d=i(558),u=l.extend({name:"PhoneNumber",el:!1,template:a,templateSelection:n.template('<i class="callingcodeselector-cc callingcodeselector-cc-selection"><%= label %></i><i class="callingcodeselector-flag callingcodeselector-flag-selection flag flag-<%= flag %>"></i>'),templateResult:n.template('<div class="callingcodeselector-row"><span class="callingcodeselector-col callingcodeselector-col-left"><i class="callingcodeselector-cn callingcodeselector-cn-item"><%= name %></i></span><span class="callingcodeselector-col callingcodeselector-col-middle"><i class="callingcodeselector-cc callingcodeselector-cc-item">+<%= phone %></i></span><span class="callingcodeselector-col callingcodeselector-col-right"><i class="callingcodeselector-flag callingcodeselector-flag-selection flag flag-<%= flag %>"></i></span></div>'),required:!1,phone:"",placeholder:"Phone",phoneFieldName:"phone",anDisallowedCharsRegex:/[^\d -]/gim,preDefineCode:!0,events:{click:"onClick","click .phonenumber-cc":"onCallingCodeClick","blur .phonenumber-an":"onBlur","focus .phonenumber-an":"onFocus","paste .phonenumber-an":"onPasteCleanAN","keydown .phonenumber-an":"onKeyDownPreventNonAllowedKeys","keyup .phonenumber-an":"onKeyUpPreventNonAllowedKeysAndUpdateCCFromAN","change .phonenumber-an":"onChange"},globals:{click:"handleDocumentClick"},initialize:function(){this.countries=this.makeISOCountryList(),this.on("change",this.setCompiledNumber.bind(this))},makeISOCountryList:function(e){return n.chain(s).sortBy(function(e){return e.country_name}).map(function(t){return{code:t.country_code,title:t.country_name,phoneCode:t.phoneCode,flag:t.country_code.toLowerCase(),selected:t.phoneCode===e}}).value()},serialize:function(){var e;if(this.phone)e=c.parseNumber(this.phone,this.app);else if(this.preDefineCode){var t=c.getContact(this.app)||{};e={code:(c.parseNumber(t.number,this.app)||{}).code}}return{countries:this.makeISOCountryList(e&&e.code),phone:e&&e.number||"",required:this.options.required,placeholder:this.options.required?this.placeholder+" *":this.placeholder,phoneFieldName:this.phoneFieldName}},clientAfterRender:function(){i(1414),this.initSelect2()},getPhoneNumber:function(e){return this.$(".phonenumber-an").val()},getPhoneCode:function(){return this.$(".phonenumber-cc-value").val()},setCompiledNumber:function(){var e=!this.required||this.isValid()?this.getCompiledPhoneNumber():"";this.$("[name="+this.phoneFieldName+"]").val(e)},getCompiledPhoneNumber:function(){return this.getPhoneCode()&&this.getPhoneNumber()?"+"+this.getPhoneCode()+this.getPhoneNumber():""},initSelect2:function(){var e=this;i(1415);var t=this.$(".phonenumber-cc");t.height(function(){var e=o(this);e.height(e.parent().height()-2)}),t.addClass("phonenumber-select2").select2({theme:"phonenumber",width:"100%",placeholder:"&mdash;",dropdownAutoWidth:!0,preventWindowScroll:!0,allowClear:!1,minimumResultsForSearch:1/0,templateSelection:this.select2SelectionTemplate.bind(this),templateResult:this.select2ResultTemplate.bind(this),dropdownAdapter:i(1416),resultsAdapter:i(1417),escapeMarkup:function(e){return e},matcher:function(e,t){if(!e.term||!e.term.trim())return t;var i=t.text.trim().toLowerCase(),n=e.term.trim().toLowerCase();return i.substr(0,1)===n.substr(0,1)?t:null}});var n=this;t.on("select2:open",function(){n.opened=!0,n.onFocus(),o(this).data("select2").$dropdown.width(t.closest(".phonenumber").outerWidth()),t.find(".select2").height(function(){var e=o(this);e.height(e.closest(".phonenumber-cell").height())})}),t.on("select2:close",function(){e.opened=!1,e.onBlur()}),t.on("select2:select",function(){o(this).blur(),n.focusAbonentNumberInput()}),t.on("change",this.updateCCFromCC.bind(this)),this.updateCCFromCC()},select2SelectionTemplate:function(e){if(!e.id)return e.text;var t=e.element.getAttribute("data-cc"),i=t?"+"+t:"&#8212;&nbsp;&nbsp;&nbsp;";return this.templateSelection({label:i,flag:e.element.getAttribute("data-flag")})},select2ResultTemplate:function(e){return e.id&&e.element?this.templateResult({name:e.text,phone:e.element.getAttribute("data-cc"),flag:e.element.getAttribute("data-flag")}):e.text},onPasteCleanAN:function(){var e=this,t=this.$(".phonenumber-an"),i=t.attr("maxlength");t.removeAttr("maxlength"),clearTimeout(this.pasteTimer),this.pasteTimer=setTimeout(function(){e.cleanAN(),t=e.$(".phonenumber-an");var n=e.getAN();t.attr("maxlength",i),n=n.replace(/[^\d-]/gi,""),e.setAN(n.length>i?n.substring(0,i):n)},30)},onKeyDownPreventNonAllowedKeys:function(e){[r.deleteKey,r.backspace,r.tab,r.esc,r.enter,r.space].includes(e.which)||!e.shiftKey&&[r.dash,r.subtract,173].includes(e.which)||!0===e.ctrlKey||!0===e.metaKey||e.which>=r.end&&e.which<=r.down||e.altKey&&e.shiftKey||(e.shiftKey||e.which<r.digit0||e.which>r.digit9)&&(e.which<r.numDigit0||e.which>r.numDigit9)&&e.preventDefault()},onKeyUpPreventNonAllowedKeysAndUpdateCCFromAN:function(e){var t=this;clearTimeout(this.keyupTimer),this.keyupTimer=setTimeout(function(){e.which===r.alt&&t.cleanAN()},30)},onChange:function(){this.required&&this.validateAndHighlight(),this.trigger("change",this)},cleanAN:function(){var e=this.getAN(),t=this.cleanANValue(e);e!==t&&this.setAN(t)},cleanANValue:function(e){return(e||0===e?e:"").toString().replace(this.options.anDisallowedCharsRegex,"")},updateCCFromCC:function(){var e=this.getCCSelected();this.setCCValue(e);for(var t=0;t<this.countries.length;t+=1)this.countries[t].selected=this.countries[t].phoneCode===e;this.trigger("change",this)},getCCSelected:function(){return this.$(".phonenumber-cc :selected").attr("data-cc")},getAN:function(){return this.$(".phonenumber-an").val()},setAN:function(e){this.$(".phonenumber-an").val(e)},getCCValue:function(){return this.$(".phonenumber-cc-value").val()},setCCValue:function(e){this.$(".phonenumber-cc-value").val(e)},handleDocumentClick:function(){this.opened&&(this.$(".phonenumber-cc").select2("close"),this.onBlur())},onCallingCodeClick:function(){return this.onFocus(),!1},onClick:function(){return this.resetHighlight(),!1},focusAbonentNumberInput:function(){this.$(".phonenumber-an").focus()},resetHighlight:function(){this.fieldReset(this.$el)},highlightInvalid:function(){this.fieldIncorrect(this.$el)},highlightValid:function(){this.fieldCorrect(this.$el)},validateAndHighlight:function(){var e=this.isValid();return e?this.highlightValid():this.highlightInvalid(),e},params:function(){var e=this.getCCValue();return{callingCode:"NONE"===e?"":e,abonentNumber:this.getAN()}},value:function(){var e=this.params();return""+e.callingCode+e.abonentNumber},isValid:function(){var e=this.params();return this.options.required?e.callingCode&&e.abonentNumber:!e.abonentNumber||!!e.callingCode},onFocus:function(){this.$el.addClass("phonenumber-focused")},onBlur:function(){this.$el.removeClass("phonenumber-focused")}});Object.assign(u.prototype,d),e.exports=u},,,,,,function(e,t,i){"use strict";(function(t){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=i(0),a=i(13),l=i(2),c={dummy:{href:{params:"",options:""}},contributor:{href:{params:"signup",options:{protocol:"https:",query:{type:"seller"},backURL:!0}},rel:"nofollow"},examination:{href:{params:"examination"},rel:"nofollow"},agreement:{href:{params:"member-agreement"}},license:{href:{params:"license-comparison"}},policy:{href:{params:"privacy-policy"}},documents:{href:{params:"legal-information"}},"terms-of-use":{href:{params:"terms-of-use"}},"privacy-policy":{href:{params:"privacy-policy"}},"bird-in-flight-prize":{href:{params:"birdinflightPrize"},target:"_blank"}},d={image:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Stock Image #%s",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Stock Photo #%s",i)}},vector:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Stock Illustration #%s",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Stock Vector #%s",i)}},video:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Stock Footage #%s",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Stock Video #%s",i)}}},u={image:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Free Stock Image",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Free Stock Photo",i)}},vector:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Free Stock Illustration",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Free Stock Vector",i)}},video:{title:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Free Stock Footage",i)},alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s â Free Stock Video",i)}}},h={image:[{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Photo",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Images",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Image",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Photos",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Picture",i)}}],vector:[{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Vector",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Vectors",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Illustration",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Illustrations",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Vector Graphics",i)}}],video:[{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Footage",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Footage",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Stock Video",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Royalty Free Stock Video",i)}},{alt:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.tr("%s Video Clip",i)}}]};e.exports={imitateLangLinksEnabled:function(e){var t=e.router.routeName,i=e.store.get("SearchQuery");return{FileView:!0,Folder:!0,get Search(){return i&&!i.isNewResults()&&!i.isCategory()&&!i.isPortfolio()}}[t]},transformToGeneratedLink:function(e,t){var i=t.getAttribute("data-seolink"),n=c[i]||c.dummy,o="";"lang"===i?o=e.getLanguages().find(function(e){return e.key===t.getAttribute("data-seolink-langkey")}).url:o=e.makeUrl(n.href.params,n.href.options);var s=Object.assign({},n,{href:o,class:t.className});e.device.isMobile?"_blank"===s.target?e.router.redirectToBlank(s.href):e.router.redirect(s.href):a.$(t).replaceWith(a.$("<a>"+t.innerHTML+"</a>").attr(s).removeClass("_pseudolink"))},transformToLink:function(e,t){var i={href:t||e.getAttribute("data-seolink")};Object.values(e.attributes).forEach(function(e){"data-seolink"!==e.name&&(i[e.name]=e.value)});var n=a.$("<a>"+e.innerHTML+"</a>").attr(i).removeClass("_pseudolink");return a.$(e).replaceWith(n),n},transformOrRedirect:function(e,t,i){var n=this.transformToLink(t,i);e.device.isMobile&&("_blank"===n.getAttribute("target")?e.router.redirectToBlank(n.getAttribute("href")):e.router.redirect(n.getAttribute("href")))},isCanonicalWithPage:function(e){return["br"].includes(e.lang)},makeStructuredDataForVideo:function(e){var t=e.getVideoThumbs("huge");return{name:e.get("title"),description:e.get("description"),thumbnailUrl:e.makeThumb("huge"),duration:l.duration(e.get("length"),"s").toISOString(),contentUrl:t&&t.mp4}},injectFilesSEOMeta:function(e,t,i){var n=t instanceof Array,s=!n&&t.free?u:d,r=function(t,n){void 0===n&&(n=0);var r=t.type,a=t.alt,l=t.title,c=s[r],d=i?h[r]:s[r];return c&&d?(i&&(d=d[n%d.length]),o({},t,{seoTitle:c.title(e,l,"").replace(/\s#$/,""),seoAlt:d.alt(e,a,"").replace(/\s#$/,"")})):o({},t,{seoTitle:l,seoAlt:a})};return n?t.map(r):r(t)},useClearSearchUrls:function(e){var i=e,n=i.getFilterKeys();return 1===n.length&&"category"===n[0]&&!i.get("query")||!n.length&&!!i.get("sorting")&&(t.browser||!t.browser&&i.get("query"))},generateClearSearchUrl:function(e,t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var o=Object.assign({query:{}},n),s=r.difference(["query","photo","offset","vector","video","category","sorting"],Object.keys(i));return t.getNonDefaults().sorting&&(o.query.sorting=t.get("sorting")),e.makeUrl(Object.assign(Object.assign({route:e.router.routeName},i),r.pick(t.serialize(),s)),o)},getFilesListLayout:function(e){return e.features.isFeatureOnValue("Show 600 thumb on search")?"xwide":"wide"}}}).call(this,i(17))},,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(t){i(1422);var n=i(1423),o=i(496),s=i(1424);e.exports=o.extend({name:"SignupCondition",el:!1,template:n,defaultCondition:{membership_agreement:!1,news:!1},texts:{},events:{"change ._checkbox":"onCheckboxChange"},initialize:function(){this.model=new s([],{app:this.app}),this.listenTo(this.model,"sync",this.activateCheckbox),this.listenTo(this.signUpModel,"invalid",this.showErrors)},prepareRender:function(){this.isExtended()&&this.setDefaultCondition()},serialize:function(){return{schema:this.getSchema(),isExtended:this.isExtended(),conditionText:this.conditionText}},isExtended:function(){return this.app.features.isFeatureOnValue("Show Sign Up Condition")},getSchema:function(){var e=this,t=[],i=this.getTexts();return Object.keys(this.defaultCondition).forEach(function(n){t.push({name:n,checked:e.defaultCondition[n],text:i[n]})}),t},getTexts:function(){return Object.assign({membership_agreement:this.tr('I agree to the <a class="%s" href="%s" target="_blank">Membership Agreement</a>.',["link-blue",this.app.makeUrl("member-agreement")]),news:this.tr("Iâd like to receive newsletters and special offers.")},this.texts)},setDefaultCondition:function(){var e=this;Object.keys(this.defaultCondition).forEach(function(t){e.model.save({key:t,value:e.defaultCondition[t]?1:0}),e.signUpModel.set(t,e.defaultCondition[t])})},onCheckboxChange:function(e){var t=e.currentTarget.getAttribute("name");this.$(e.currentTarget).prop("disabled",!0),this.model.save({field:t,value:e.currentTarget.checked?1:0}),this.signUpModel.set(t,e.currentTarget.checked),this.clearError()},activateCheckbox:function(e){var t=this.$("._checkbox").filter('[name="'+e.get("field")+'"]');t.length>0&&t.prop("disabled",!1)},showErrors:function(e,i){var n=this;t.browser&&Object.keys(i).forEach(function(e){({}).hasOwnProperty.call(n.defaultCondition,e)&&n.showError(Array.isArray(i[e])?i[e][0]:i[e])})},showError:function(e){this.$("._error").text(this.tr(e)),this.onErrorCallback()},clearError:function(){this.$("._error").text("")},onErrorCallback:function(){}})}).call(this,i(17))},,function(e,t,i){"use strict";var n=i(13),o=i(496);e.exports=o.extend({el:!1,className:"",model:new n.Model({online:!0}),events:{click:"handleClick"},initialize:function(){var e=this;this.listenTo(this.app.observer,"API:events",function(t){t.events.lc&&e.model.set({online:!!t.events.lc})}),this.listenTo(this.model,"change:online",this.render)},serialize:function(){return{className:this.className,online:this.model.get("online")}},handleClick:function(){this.open(),this.clickCallback()},loadHelper:function(){return new Promise(function(e){Promise.resolve().then(function(t){var n=i(130);e(n)}.bind(null,i)).catch(i.oe)})},open:function(){var e=this;this.loadHelper().then(function(t){var i=function(){return t.makeWindow(e.app)};e.app.features.isFeatureOnValue("Use Odoo livechat")?i():t.prepare(e.app,i)})},clickCallback:function(){}})},function(e,t,i){"use strict";var n=i(0),o=i(4),s=i(572);e.exports=o.extend({url:"Requisites",defaults:{company:"",fullName:"",address:"",city:"",state:"",zip:"",email:"",phone:"",country:"",countryName:"",website:"",fullAddress:"",vat:"",taxId:""},initialize:function(){this.on("change",this.mapCustomFields),this.mapCustomFields()},parse:function(e){return e.errors?{}:n.pick(e.data||e,n.keys(this.defaults))},serialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.extend(o.prototype.serialize.apply(this,t),{phone:s.serialize(this.get("phone")||"",this.app)})},mapCustomFields:function(){var e=this;this.attributes.fullAddress=n.filter(n.map(["address","city","state","zip","countryName"],function(t){return e.get(t)}),function(e){return!!e}).join(", ")}})},,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(t){var n=i(0),o=i(7),s=i(105).signupLegacyParams,r=i(68).userErrors,a=i(534),l=i(496),c=i(1404),d=i(20).serializeForm,u=i(67),h=i(558),p=i(722),f=l.extend({name:"AuthForm",el:!1,validationDelay:{},validationQuery:{},liveValidation:!1,displayValidationErrorMessages:!0,uniqueFields:["username","email"],events:{submit:"onSubmit","keypress input":"onInputKeyPress","input input":"onInputInput","focus input":"onInputFocus","focus select":"onInputFocus","change select":"onInputInput","change ._field":"onUpdateField","keyup ._field":"onUpdateField","input ._field":"onUpdateField","paste ._field":"onUpdateField"},initialize:function(){this.checkUnique=new c,this.listenTo(this.model,"invalid",this.handleModelInvalid),this.listenTo(this.checkUnique,"invalid",this.handleCheckUniqueInvalid)},serialize:function(){var e={countries:this.countries?this.countries.serialize():{},links:{signUp:this.app.makeUrl("signup",{protocol:"https:",backURL:!0})},errors:this.errors,submitButton:this.submitButton,fieldData:this.model.serialize(),captcha:{show:this.isCaptchaNeeded(),siteKey:o.client.recaptcha.publicKey}};return this.model.validation.username&&n.extend(e,{usernameMaxLength:n.find(this.model.validation.username,function(e){return n.has(e,"maxLength")}).maxLength}),e},clientAfterRender:function(){var e=this;this.fillLegacyParams(),this.isCaptchaNeeded()&&!this.$(".g-recaptcha-response").length&&p.injectScript().then(function(){return p.render(e.$(".g-recaptcha")[0])})},fillLegacyParams:function(){var e=this;s.toRead.forEach(function(t){e.model.set(t,u.get(t),{silent:!0})})},purgeLegacyParams:function(){s.toRemove.forEach(function(e){u.set(e,"",{path:"/",expires:new Date})})},onInputInput:function(e){var t=this;if(this.liveValidation){var i=e.currentTarget,o=i.name,s=i.value;this.resetField(o),clearTimeout(this.validationDelay[o]),this.validationDelay[o]=n.delay(function(){delete t.validationDelay[o],t.validateField(o,s)},1e3)}},onInputFocus:function(e){this.resetField(e.currentTarget.name)},onInputKeyPress:function(e){e.which===a.enter&&this.onSubmit(e)},onSubmit:function(e){e.preventDefault(),this.clearValidationQuery(),this.resetErrors(),this.submit()},submit:function(){var e=d(this.$el);e.signup_type="download"===this.app.chain.name?"signup_download":"signup_direct",!this.$(".g-recaptcha-response").length||e["g-recaptcha-response"]?this.auth(e):this.fieldIncorrect(this.$(".g-recaptcha-response").parent(),{errorMessage:"Please check the ReCaptcha check box."})},auth:function(e){var t=this;this.model.save(e,{success:function(e,i){void 0!==i.userid?(t.purgeLegacyParams(),t.trackAuthResponse(i),t.onAuthCallback(i)):i.loginUrl?t.onAuthCallback(i):p.reset(t.$(".g-recaptcha-response"))}})},validateField:function(e,t){if(t){var i=this.model.preValidate(e,t);i.length?this.showFieldError(e,i):(this.resetField(e),-1!==this.uniqueFields.indexOf(e)?this.validateUnique(e,t):this.showFieldCorrect(e),this.model.set(e,t,{silent:!0}))}},validateUnique:function(e,t){var i=this;this.progressField(e);var n="u"+Math.random();this.validationQuery[e]=n,this.checkUnique.save({name:e,value:t},{success:function(t,o){i.validationQuery[e]!==n||o.errors||i.showFieldCorrect(e)}})},handleModelInvalid:function(e,i){var o=this;this.errors=i,t.browser&&(this.model.set("g-recaptcha-response",""),n.each(i,function(e,t){var i,s=n.isArray(e)?n.first(e):e;if("string"==typeof s){var a=s.split(":");i=a[0],s=a[1]}Object.values(r).includes(+i)&&p.injectScript().then(function(){return p.render(o.$(".g-recaptcha")[0])}),i&&!s&&(s=i),o.showFieldError(t,s)}))},handleCheckUniqueInvalid:function(e,i){var o=this;void 0===i&&(i=[]),t.browser&&n.each(i,function(t){o.showFieldError(e.get("name"),t.error_message)})},showFieldCorrect:function(e){this.fieldCorrect(this.$('[name="'+e+'"]').parent())},showFieldError:function(e,t){this.fieldIncorrect(this.$('[name="'+e+'"]').parent(),{errorMessage:this.displayValidationErrorMessages&&t})},progressField:function(e){this.fieldProgress(this.$('[name="'+e+'"]').parent(),{keepEnabled:!0})},resetErrors:function(){var e=this;this.$("input, select").each(function(t){return e.fieldReset(e.$(t).parent())}),this.fieldReset(this.$(".g-recaptcha-response").parent())},resetField:function(e){this.fieldReset(this.$('[name="'+e+'"]').parent())},clearValidationQuery:function(){n.each(this.validationDelay,function(e){clearTimeout(e)})},isCaptchaNeeded:function(){return this.app.store.get("UserBanInfo")&&this.app.store.get("UserBanInfo").get("registerNewUser")},trackAuthResponse:function(e){var t=e.userId;this.app.observer.broadcast("Track:UE:SignUp:Success",{userId:t,action:"Form",label:"Regular"})},onAuthCallback:function(){this.app.chain.tempUserAfterLoginCommonLogic(!0)}});Object.assign(f.prototype,h),e.exports=f}).call(this,i(17))},function(e,t,i){"use strict";(function(t){i(1574);var n=i(0),o=i(807).index,s=i(534),r=i(496),a=i(1004),l=i(12),c=i(808);e.exports=r.extend({name:"Series",el:!1,slide:!1,slideConfig:{},videoContent:!1,isDownloadLocked:!1,events:{click:"onSeriesBoxClick",contextmenu:"onSeriesBoxCustomClick",mouseup:"onSeriesBoxCustomClick","click ._series-link":"onLinkClick","contextmenu ._series-link":"onCustomLinkClick","mouseup ._series-link":"onCustomLinkClick"},prepareRender:function(){this.videoContent&&this.model.get("elements").at(0)&&this.setViews({"._series-video":new a({app:this.app,RAWVideoFiles:this.model.get("elements").at(0).get("resource").get("src"),width:832,height:468,controls:!1,hasPoster:!1,autoplay:!!t.browser,spinner:{top:"92%",left:"2%",color:"#c8c8c8"}})})},clientAfterRender:function(){this.slide&&c(this.$el,Object.assign(n.clone(o),this.slideConfig)),this.tryToShowBackground()},serialize:function(){return{lang:this.app.lang,series:this.model.toJSON(),isDownloadLocked:this.isDownloadLocked,isWebmAllowed:this.app.features.isFeatureOnValue("Is webm video thumb allowed")}},tryToShowBackground:function(){var e=this;n.each(this.$("._has-bg"),function(t){var i=e.$(t);i.attr("style",i.attr("data-bg")).removeAttr("data-bg").removeClass("series-table__cell_show-img _has-bg")})},onLinkClick:function(e){var t;if(e.ctrlKey||e.shiftKey||e.metaKey)this.trackNewTabClick(e.currentTarget.href);else{e.preventDefault();for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];(t=this.onSeriesLinkClick).call.apply(t,[this,e].concat(n)),this.trackSeriesClick(e.currentTarget.href),this.app.router.redirect(e.currentTarget.href)}},onCustomLinkClick:function(e){[s.rightMouse,s.middleMouse].includes(e.which)&&this.trackNewTabClick(e.currentTarget.href)},parseUrl:function(e){void 0===e&&(e="");var t=(l.getRoute(e)||{}).name;return[t,"FileView"===t?l.getExtendedQueryParams(e).id:null]},trackSeriesClick:function(e){var t={url:e,target:"search"},i=this.parseUrl(e),n=i[0],o=i[1];"FileView"===n&&o&&(t.targetId=parseInt(o,10),t.target="fileView"),this.app.observer.broadcast("Track:UE:Series:Click",t)},trackNewTabClick:function(e){var t=this.parseUrl(e),i=t[0],n=t[1];["FileView","Search"].includes(i)&&this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:this.app.tracking.cache.FlumeTrackerNew.isIndexPage()?"TopMenuPromo":this.name,target:n?{target:"fileView",targetId:parseInt(n,10)}:{target:"search"},params:{url:e}})},onSeriesBoxClick:function(){},onSeriesBoxCustomClick:function(){},onSeriesLinkClick:function(){}})}).call(this,i(17))},function(e,t,i){"use strict";var n=i(4),o=i(20);e.exports=n.extend({defaults:{filesType:"total",files:53714430,customers:4890333,contributors:58682},url:"MarketStats",getQueryParams:function(){return{type:this.get("filesType")}},parse:function(e){return{filesType:e.itemType,files:parseInt(e.count,10)||this.defaults.files,customers:parseInt(e.customers,10)||this.defaults.customers,contributors:parseInt(e.contributorsCount,10)||this.defaults.contributors}},serialize:function(){return{files:o.numberFormat(this.get("files")),customers:o.numberFormat(this.get("customers")),contributors:o.numberFormat(this.get("contributors")),millionFiles:Math.floor(this.get("files")/1e6),millionCustomers:Math.ceil(this.get("customers")/1e6),thousandsContributors:o.numberFormat(1e3*Math.floor(this.get("contributors")/1e3))}}})},function(e,t,i){"use strict";(function(t){var n=i(566).mobile.responsive,o=i(501);e.exports={setMatchMedia:function(e){t.browser&&!this.matchMedia&&(this.matchMedia=window.matchMedia("(max-width: "+n.mobileBig+"px)"),this.matchMediaCallback=function(){return e()},this.matchMedia.addListener(this.matchMediaCallback),this.listenTo(this.app.observer,"Responsive:ClearMatchMedia",this.clearMatchMedia))},clearMatchMedia:function(){this.matchMedia&&this.matchMediaCallback&&(this.matchMedia.removeListener(this.matchMediaCallback),this.matchMedia=void 0)},isMobileModeEnabled:function(){return this.app.device.isMobile||(t.browser?o.mobileMode():this.isMobileMode)}}}).call(this,i(17))},,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e){var t=i(0),n=i(1293),o=(0,i(6).getLogger)(e),s=["005","057","062","117"];e.exports={parse:function(e,i,n){var s=this;if(void 0===i&&(i=[]),void 0===n&&(n={}),!e)return o.error("App is required for errors parser.");var r=i.map(function(t){return s.parseError(e,s.prepareError(t))});return this.format(t.flatten(r),n)},format:function(e,i){if(void 0===e&&(e=[]),void 0===i&&(i={}),i.associate){var n={};return t.each(e,function(e){n[e.field]=e.message}),n}return e},prepareError:function(e){var t=e.error_code,i=e.error_message,n=e.error_data.validationCode;if(3e4===e.error_code){var o=e.error_message.split(":");t=o[0],i=o[1]}return{code:t,message:i,validationCode:n}},parseError:function(e,i){var o=n.get(i.code),s=n.get("default").message(e,i.code,i.message),r={code:i.code,field:n.get("default").field,message:s};if(!o)return[r];if("100"===o.code){if(!i.validationCode)return[r];var a=t(o.errors).findWhere({validationCode:i.validationCode});return a?[{code:i.code,field:a.field,message:a.message?a.message(e):s}]:[r]}return o.errors.map(function(t){return{code:o.code,field:t.field,message:t.message?t.message(e):s}})},filterOwn:function(e,i,o){return void 0===e&&(e={}),void 0===i&&(i=[]),void 0===o&&(o={global:!1}),o.global&&i.push(n.get("default").field),t.pick(t.clone(e),i)},isPaymentFailureError:function(e){return t.contains(s,e)},getErrorsMessage:function(e,t,i){void 0===t&&(t=[]),void 0===i&&(i={});var n=i.separator,o=void 0===n?". ":n;return this.parse(e,t).map(function(e){return e.message}).join(o)}}}).call(this,i(3)(e))},,,,,,,function(e,t,i){"use strict";var n=i(0),o=["indexAmazing","indexAmazing1","indexAmazing2","indexProfessional1","indexProfessional2","indexFresh1","indexFresh2","indexFresh3","indexVideos1","indexVideos3","indexVideos2","indexVideos4"],s={photo:["landingPhotos"],vector:["landingVectors"],editorial:["landingEditorial"],video:["landingVideos1","landingVideos2"]},r={index:["indexMainSlider"].concat(o),photo:["landingPhotosMain"],vector:["landingVectorsMain"],editorial:["landingEditorialMain"],video:["landingVideosMain"],dribbble:["dribbble"].concat(o),vecteezy:["vecteezy"].concat(o),picjumbo:["picjumbo"].concat(o),dealjumbo:["dealjumbo"].concat(o),mockupworld:["mockupworld"].concat(o),pixelbuddha:["pixelbuddha"].concat(o),sendpulse:["sendpulse"].concat(o)};n.each(s,function(e,t){r[t]=r[t].concat(e)}),e.exports.seriesModelDefault={name:null,alone:!1,random:!1,slider:!1,elements:null},e.exports.seriesElementModelDefault={title:null,resource:null},e.exports.series=[{name:"indexMainSlider",alone:!0,random:!0,className:"series-box_poster"},{name:"landingPhotosMain",alone:!0,random:!0,className:"series-box_typed-poster"},{name:"landingVectorsMain",alone:!0,random:!0,className:"series-box_typed-poster"},{name:"landingEditorialMain",alone:!0,random:!0,className:"series-box_typed-poster"},{name:"landingVideosMain",alone:!0,random:!0,className:"series-box_typed-poster series-box_typed-poster_video"},{name:"dribbble",alone:!0},{name:"vecteezy",alone:!0},{name:"picjumbo",alone:!0},{name:"dealjumbo",alone:!0},{name:"mockupworld",alone:!0},{name:"pixelbuddha",alone:!0},{name:"sendpulse",alone:!0},{name:"indexAmazing",slider:!0},{name:"indexAmazing1",slider:!0},{name:"indexAmazing2",slider:!0},{name:"indexProfessional1",slider:!0},{name:"indexProfessional2",slider:!0},{name:"indexFresh1",slider:!0},{name:"indexFresh2",slider:!0},{name:"indexFresh3",slider:!0},{name:"indexVideos1",slider:!0},{name:"indexVideos2",slider:!0},{name:"indexVideos3",slider:!0},{name:"indexVideos4",slider:!0},{name:"landingPhotos",grid:{rows:3,columns:4,spans:{"0:0":{rowspan:2},"1:1":{colspan:2}}}},{name:"landingVectors",grid:{rows:3,columns:4,spans:{"1:1":{colspan:2}}}},{name:"landingEditorial",grid:{rows:3,columns:4,spans:{"0:0":{rowspan:2},"0:3":{rowspan:2},"1:1":{colspan:2}}}},{name:"landingVideos1",grid:{rows:1,columns:3,spans:{"0:0":{className:"series-table__link_third"},"0:1":{className:"series-table__link_third"},"0:2":{className:"series-table__link_third"}}}},{name:"landingVideos2",grid:{rows:2,columns:4,spans:{"0:1":{colspan:2}}}},{name:"landingCuratedCollectionPhoto",grid:{rows:4,columns:4,spans:{"0:0":{colspan:2},"0:2":{rowspan:2},"1:0":{rowspan:2},"2:1":{colspan:2},"2:3":{rowspan:2},"3:0":{colspan:2}}}},{name:"landingCuratedCollectionVector",grid:{rows:4,columns:4,spans:{"0:1":{rowspan:2},"0:2":{colspan:2},"1:3":{rowspan:2},"2:0":{rowspan:2},"2:1":{colspan:2},"3:2":{colspan:2}}}},{name:"landingCuratedCollectionEditorial",grid:{rows:4,columns:4,spans:{"0:0":{rowspan:2},"0:2":{colspan:2},"1:1":{colspan:2},"1:3":{rowspan:2},"2:1":{rowspan:2},"3:2":{colspan:2}}}},{name:"curatedCollectionPoster",alone:!0,className:"series-box_link"},{name:"curatedCollectionPosterMedium",alone:!0},{name:"AboutUs",slider:!0}],e.exports.seriesByPages=r,e.exports.customPageGridSeries=s},function(e,t,i){"use strict";var n=i(0),o=i(2),s=i(16),r=i(920),a=i(1025);e.exports=r.extend({name:"Membership",showRefillModalOnClick:!0,originalEvents:Object.assign({},r.prototype.originalEvents,{click:"onClick","click ._buy-more":"onBuyMoreClick"}),onClick:function(e){this.$el.hasClass("_buy-more")&&this.showRefillModalOnClick&&(e.preventDefault(),this.showRefillMembershipModal())},onBuyMoreClick:function(e){e.preventDefault(),this.showRefillModalOnClick&&this.showRefillMembershipModal()},showRefillMembershipModal:function(){new a({app:this.app,type:"buyMore",destroyOnHide:!0}).show()},getCuratedLabel:function(e){return void 0===e&&(e=this.product),e.curated?this.tr("Downloads from the Curated Collection: <b>Unlimited</b>"):""},getRenewLabel:function(e){if(void 0===e&&(e=this.product),!e.count)return"";var t=o.duration(o.unix(e.renewal).valueOf()),i=t.days()>0?"moreThanDay":"lessThanDay",r="lessThanDay"===i?[t.hours(),t.minutes()]:Math.round(t.asDays()),a=n.findWhere(s.productRenewLabels,{type:e.type,renewal:i});return a&&a.label?this.tr(a.label.trim(),r):""},getLeftLabel:function(e){return void 0===e&&(e=this.product),e.count||e.left?e.curated?this.tr("Downloads from the Main Collection: <b>%s</b>",e.left):r.prototype.getLeftLabel.call(this,e):""},getProductContent:function(e){var t;void 0===e&&(e=this.product);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var s=(t=r.prototype.getProductContent).call.apply(t,[this,e].concat(n));return s.action=this.tr("Buy Downloads"),e.curated&&s.info.push({key:"curated",value:this.getCuratedLabel(e)}),s.info.push({key:"renew",value:this.getRenewLabel(e)}),s}})},,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e){t.initDragNDrop=function(){return e.browser?{darg:i(1271),drop:i(1389)}:{}},t.initSortable=function(){return e.browser?{sortable:i(1390)}:{}},t.initFileReader=function(){return e.browser?{fileReader:i(1275)}:{}},t.initSWFObject=function(){return e.browser?{swfobject:i(1276)}:{}},t.initLazyLoad=function(t){return void 0===t&&(t={}),e.browser?new(i(1391))(t):null}}).call(this,i(17))},,,function(e,t,i){var n,o,s;o=[i(104)],void 0===(s="function"==typeof(n=function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){"use strict";e.exports=function(e){e.$button.insertAfter(e.$target),e.$target.val()||e.$button.hide(),e.$button.on({"mousedown.passwordSwitcher":function(t){t.preventDefault(),t.stopPropagation(),e.$target.attr("type","password"===e.$target.attr("type")?"text":"password"),e.isIconSwitch||e.$button.text(e.text["password"===e.$target.attr("type")?"show":"hide"])}}),e.$target.on({"input.passwordSwitcher":function(){e.$button.toggle(!!e.$target.val())}})}},function(e,t,i){"use strict";var n=i(71),o=i(28),s=i(33),r=i(25),a=["ondemand","membership","subscription"];e.exports=s.extend({url:"Order",defaults:{product:{},payMethods:[],reBill:void 0,isGiftable:!1},relations:{product:o,payMethods:r},getQueryParams:function(){return this.toJSON()},parse:function(e){var t=e.order,i=void 0===t?{}:t,n=e.payMethods,o=void 0===n?[]:n,s=e.errors;return(void 0===s?[]:s).length?{}:{product:this.constructor.prototype.relations.product.prototype.parse(i),reBill:this.defineReBillStatus(i),isGiftable:this.giftAvailable(),payMethods:o}},defineReBillStatus:function(e){var t=e.product_type;return null!=this.get("reBill")?this.get("reBill"):!["membership","flex_download"].includes(t)},rebillAvailable:function(){return this.get("product")&&n.paymentSystems.isRebillable(this.app.queryParams.billing,this.get("product").get("type"))},giftAvailable:function(){var e=this.get("product");return e&&a.includes(e.get("type"))&&!e.isCorporatePlan()}})},function(e,t,i){"use strict";var n=i(7).languages.accepts;e.exports={ContactBox:function(e){return{stats:["image","editorial","video"]}},OurApps:function(e){return{isEnabled:e.lang!==n.zh}},About:function(e){return{socialLinksEnabled:e.lang!==n.zh}},FileViewThumb:function(e){return{isSharingEnabled:e.lang!==n.zh}},ShareFolder:function(e){return{socialTabEnabled:e.lang!==n.zh}},SearchHeaderFolder:function(e){return{isSharingEnabled:e.user.isLoggedIn()||e.lang!==n.zh}},FileViewModals:function(e){var t=["fr","de","ru"].includes(e.lang),i=e.features.isFeatureOnValue("NoTitleModal");return{shouldHideTitle:t&&i}}}},function(e,t,i){"use strict";var n=i(693);e.exports={set:function(e){if(!e)throw new Error("PresetOffers: app is required.");e.store.get("PresetOffers")||e.store.link("PresetOffers",new n([],{getQueryParams:{group:"membership_collection_curated"},app:e})).fetch()}}},,,,,,,,,function(e,t,i){"use strict";var n=i(105),o=i(733);e.exports=o.extend({url:"Signup",isHttps:!0,defaults:n.SignupUser.defaults,errorsMap:n.SignupUser.errorsMap,validation:n.SignupUser.validation})},function(e,t,i){"use strict";var n=i(737),o=i(1e3),s=i(1507),r=i(806),a=i(1508),l=i(1509),c={};function d(e){return e.getAttribute("data-ps-id")}t.add=function(e){var t=l();return function(e,t){e.setAttribute("data-ps-id",t)}(e,t),c[t]=new function(e){var t=this;function i(){o.add(e,"ps--focus")}function l(){o.remove(e,"ps--focus")}t.settings=n.clone(s),t.containerWidth=null,t.containerHeight=null,t.contentWidth=null,t.contentHeight=null,t.isRtl="rtl"===r.css(e,"direction"),t.isNegativeScroll=function(){var t,i=e.scrollLeft;return e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=i,t}(),t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,t.event=new a,t.ownerDocument=e.ownerDocument||document,t.scrollbarXRail=r.appendTo(r.e("div","ps__scrollbar-x-rail"),e),t.scrollbarX=r.appendTo(r.e("div","ps__scrollbar-x"),t.scrollbarXRail),t.scrollbarX.setAttribute("tabindex",0),t.event.bind(t.scrollbarX,"focus",i),t.event.bind(t.scrollbarX,"blur",l),t.scrollbarXActive=null,t.scrollbarXWidth=null,t.scrollbarXLeft=null,t.scrollbarXBottom=n.toInt(r.css(t.scrollbarXRail,"bottom")),t.isScrollbarXUsingBottom=t.scrollbarXBottom==t.scrollbarXBottom,t.scrollbarXTop=t.isScrollbarXUsingBottom?null:n.toInt(r.css(t.scrollbarXRail,"top")),t.railBorderXWidth=n.toInt(r.css(t.scrollbarXRail,"borderLeftWidth"))+n.toInt(r.css(t.scrollbarXRail,"borderRightWidth")),r.css(t.scrollbarXRail,"display","block"),t.railXMarginWidth=n.toInt(r.css(t.scrollbarXRail,"marginLeft"))+n.toInt(r.css(t.scrollbarXRail,"marginRight")),r.css(t.scrollbarXRail,"display",""),t.railXWidth=null,t.railXRatio=null,t.scrollbarYRail=r.appendTo(r.e("div","ps__scrollbar-y-rail"),e),t.scrollbarY=r.appendTo(r.e("div","ps__scrollbar-y"),t.scrollbarYRail),t.scrollbarY.setAttribute("tabindex",0),t.event.bind(t.scrollbarY,"focus",i),t.event.bind(t.scrollbarY,"blur",l),t.scrollbarYActive=null,t.scrollbarYHeight=null,t.scrollbarYTop=null,t.scrollbarYRight=n.toInt(r.css(t.scrollbarYRail,"right")),t.isScrollbarYUsingRight=t.scrollbarYRight==t.scrollbarYRight,t.scrollbarYLeft=t.isScrollbarYUsingRight?null:n.toInt(r.css(t.scrollbarYRail,"left")),t.scrollbarYOuterWidth=t.isRtl?n.outerWidth(t.scrollbarY):null,t.railBorderYWidth=n.toInt(r.css(t.scrollbarYRail,"borderTopWidth"))+n.toInt(r.css(t.scrollbarYRail,"borderBottomWidth")),r.css(t.scrollbarYRail,"display","block"),t.railYMarginHeight=n.toInt(r.css(t.scrollbarYRail,"marginTop"))+n.toInt(r.css(t.scrollbarYRail,"marginBottom")),r.css(t.scrollbarYRail,"display",""),t.railYHeight=null,t.railYRatio=null}(e),c[t]},t.remove=function(e){delete c[d(e)],function(e){e.removeAttribute("data-ps-id")}(e)},t.get=function(e){return c[d(e)]}},,,function(e,t,i){"use strict";var n=i(0),o=i(16),s=i(498),r=i(65),a=i(2),l=i(920),c=i(496),d=i(1484),u=i(1487),h=i(497);e.exports=l.extend({name:"Subscription",periods:[30,90,180,360],prepareRender:function(){l.prototype.prepareRender.call(this),this.removeView("helpTooltip"),this.removeView("infoTooltip"),this.needToShowHelpTooltip()&&this.setView("helpTooltip",new h({params:s.Product,content:this.getHelpTooltipContent()})),this.setView("infoTooltip",new h({params:s.ProductInfo,content:this.getInfoTooltipContent()}))},serialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=l.prototype.serialize.apply(this,t);return this.product.installment.enabled&&(n.labels.installmentProgress=this.getInstallmentProgressLabel()),n},getInstallmentProgressLabel:function(){return this.tr("Payment: <b>%s of %s</b>",[this.product.installment.currentPeriod,this.product.installment.periodsCount])},needToShowHelpTooltip:function(){return!this.app.user.get("isSubaccount")||this.app.user.get("isSubaccount")&&this.product.owner},getSplitCountLabel:function(e){void 0===e&&(e=this.product);var t=e.split_count>0&&e.split_count<=10?"custom":"unlimit",i=o.productSplitCountLabels.find(function(i){return i.type===e.type&&i.value===t}).label;return this.tr(i,e.split_count)},getLeftLabel:function(e){void 0===e&&(e=this.product);var t=1===e.buy_period?"daily":"default",i=0===e.rebill_started?[e.left,e.count]:[0,0],n=o.productLeftLabels.find(function(i){return i.type===e.type&&i.period===t}).label;return this.tr(n,i)},getHelpTooltipContent:function(e){return void 0===e&&(e=this.product),0===e.rebill_started?new d({app:this.app,product:this.product}):new u({app:this.app,product:this.product})},getInfoTooltipContent:function(e){return void 0===e&&(e=this.product),0===e.rebill_started?new c({el:!1,app:this.app,template:function(){return this.tr(r.DaysLeft)}}):new u({app:this.app,product:this.product})},getRenewLabel:function(e){void 0===e&&(e=this.product);var t,i=a.duration(a.unix(e.renewal).valueOf()),s="default",r=i.days()>0?"moreThanDay":"lessThanDay";1===e.buy_period&&(s="daily",r="lessThanDay"),t=1===e.rebill_started?"lessThanDay"===r?[0,0]:0:"lessThanDay"===r?[i.hours(),i.minutes()]:Math.round(i.asDays());var l=n.findWhere(o.productRenewLabels,{type:e.type,period:s,renewal:r});return l&&l.label?this.tr(l.label.trim(),t):""},getDaysLeft:function(e){if(void 0===e&&(e=this.product),"active"!==e.status)return 0;if(1===e.rebill_started)return 1;var t=e.installment.enabled?e.installment.expires:e.expires;return Math.round(a.unix(t).diff(a(),"d",!0))||1},showHelpTooltip:function(e){e.preventDefault(),this.getView("helpTooltip").show(e)},hideHelpTooltip:function(e){e.preventDefault(),this.getView("helpTooltip").hide(e)},showInfoTooltip:function(e){e.preventDefault(),this.getView("infoTooltip").show(e)},hideInfoTooltip:function(e){e.preventDefault(),this.getView("infoTooltip").hide(e)}})},function(e,t,i){"use strict";var n=i(25),o=i(805);e.exports=n.extend({model:o,canCreateCard:!0,allCards:!1,initialize:function(e,t){this.allCards=!!t.allCards},url:function(){return this.options.url||"CreditCards"},getQueryParams:function(){return{allCards:this.allCards}},parse:function(e){var t=e.data,i=void 0===t?{}:t;return e.errors?[]:(this.canCreateCard=i.canCreateCard,i.cards||[])}})},function(e,t,i){"use strict";var n=i(0),o=i(25),s=i(4),r={credits:i(113),subscription:i(116),imagepack:i(125),ondemand:i(120),membership:i(110)};e.exports=o.extend({url:"Offers",getQueryParams:{},comparator:function(e){return e.get("period")},initialize:function(e,t){var i=t.url,n=t.getQueryParams;i&&(this.url=i),n&&(this.getQueryParams=n)},parse:function(e,t){return void 0===t&&(t={}),!e||n.isEmpty(e.result)?[]:(t.makeUniqueId&&(e.result=e.result.map(function(e){return Object.assign({},e,{id:parseInt(e.id,10)+":"+e.split_count})})),t.secureCorporateFilter?n.filter(e.result,function(e){return e.split_count>0}):e.result)},model:function(e,t){var i=r[e.type];return!i&&e.ondemand_offer_id?i=r.ondemand:"flex_download"===e.type&&(i=r.membership),i?new i(e,t):new s(e,t)},serializeLikeOffers:function(){return this.models.map(function(e){return e.serializeLikeOffer()})},findOfferByTypeAndOfferId:function(e,t){return this.find(function(i){return i.get("type")===e&&i.makeOfferID()===parseInt(t,10)})}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e){var n=i(7),o=i(40),s=[];t.reset=function(t){if(e.browser&&window.grecaptcha){var i=function(e){if(e&&e.length){var t=e.attr("id").split("g-recaptcha-response-");return t[1]?t[1]:void 0}}(t);try{grecaptcha.reset(i)}catch(e){}}},t.injectScript=function(){return new Promise(function(t,i){e.browser?window.grecaptcha?t():0===s.length?(s.push(t),window.onloadRecaptchaCallback=function(){s.forEach(function(e){return e()}),s=[]},o({id:"recaptcha",async:!0,src:n.client.recaptcha.apiUrl+"?onload=onloadRecaptchaCallback&render=explicit"})):s.push(t):i()})},t.render=function(e){return new Promise(function(t,i){if(e)try{grecaptcha.render(e),t()}catch(e){i(e)}else i()})}}).call(this,i(17))},function(e,t,i){"use strict";var n=i(16),o=i(920);e.exports=o.extend({name:"OnDemand",getSplitCountLabel:function(e){void 0===e&&(e=this.product);var t=e.split_count>0&&e.split_count<=10?"custom":"unlimit",i=n.productSplitCountLabels.find(function(i){return i.type===e.type&&i.value===t}).label;return this.tr(i,e.split_count)},getRebillTitle:function(){return this.model.get("rebill").get("count")>0?this.tr("Auto-renewal <br />on %s downloads",this.model.get("rebill").get("count")):""},getExpiresLabel:function(e){void 0===e&&(e=this.product);var t=e.expires<86400?"today":"default",i=Math.floor(e.expires/86400),o=n.productExpiresLabels.find(function(i){return i.type===e.type&&i.period===t}).label;return this.tr(o,i)}})},function(e,t,i){"use strict";i(1494);var n=i(498),o=i(1495),s=i(1496),r=i(496),a=i(557),l=i(539),c=i(497);e.exports=a.extend({name:"VatForm",el:!1,template:o,editMode:!1,canClose:!1,events:Object.assign({},a.prototype.events,{"click ._link":"onLinkClick","click ._close":"onCloseClick","mouseenter ._vat-help":"onHelpMouseEnter","mouseleave ._vat-help":"onHelpMouseLeave"}),globals:{click:"onBodyClick"},initialize:function(){this.model=this.app.user.get("taxHelper"),this.model.set({number:this.app.user.get("vatNumber")}),this.listenTo(this.model,{invalid:this.handleModelInvalid,sync:this.handleModelSync}),this.listenTo(this.app.user,"change:vatNumber",this.render)},serialize:function(){return{isCompact:this.isCompact,editMode:this.editMode,canClose:this.canClose,model:this.model.serialize(),linkLabel:this.defineLinkLabel()}},clientAfterRender:function(){this.enableTooltip()},submit:function(){var e=this;return this.app.user.isLoggedIn()?this.model.save().then(function(){return e.model.calculateByNumber()}):this.model.calculateByNumber()},toggleField:function(e){void 0===e&&(e=!this.editMode),this.editMode=!!e,this.render()},handleModelSync:function(e,t){t.errors?new l({app:this.app,title:this.tr("VAT Number"),message:t.errors[0].error_message}).show():(this.app.user.set({vatNumber:this.model.get("number")}),this.toggleField(!1),this.onSuccessVatRedeem())},enableTooltip:function(){this.setNotExistView("helpTip",c,{params:n.VatNumberHelp,content:new r({el:!1,template:s})})},defineLinkLabel:function(){var e=this.app.user.get("vatNumber");return e?this.tr("VAT Number")+": "+e:this.tr('VAT Registration <span class="%s">(optional)</span>',"vat-form__link-opt")},onLinkClick:function(){this.toggleField(!0)},onCloseClick:function(e){e.stopPropagation(),this.toggleField(!1)},onBodyClick:function(e){!this.$el[0].contains(e.target)&&this.editMode&&this.toggleField(!1)},onHelpMouseEnter:function(e){this.getView("helpTip").show(e)},onHelpMouseLeave:function(){this.getView("helpTip").hide()},onSuccessVatRedeem:function(){}})},function(e,t,i){"use strict";e.exports=function(e){var t='<div class="tooltip__custom tooltip__custom_justify">';return e.extendedMessage&&(t+="<p>"+this.tr("Use of this image in advertising or for promotional purposes is prohibited.")+"</p>"),t+=this.tr('<p>Any file downloaded from Depositphotos can be used for "editorial" purposes; the Standard License Agreement permits many uses for downloaded files, including for editorial use. Files downloaded under the Editorial Use Only license can be used only for non-commercial purposes.</p><p>For example, a file licensed for Editorial Use Only can be used to illustrate a news article on a blog or website, for purely descriptive purposes, in a non-commercial setting.</p><p class="d_last_tips_p">An Editorial Use Only file cannot be used in advertising or promotional material, or in any published work that involves the payment or receipt of a fee.</p>')+"</div>"}},function(e,t,i){"use strict";i(1563),i(1564);var n=i(0),o=i(13).$,s=i(16).fileViewButtons,r=i(534),a=i(1002),l=i(1566),c=i(574);e.exports=a.extend({name:"FilesList",el:!1,autoScrollToStart:!1,events:{"click ._to-cart":"onCartClick","click ._to-favorites":"onFavoritesClick","click ._to-similar":"onSimilarClick","click ._cover":"onCoverClick","contextmenu .file-box":"onCustomFileClick","mouseup .file-box":"onCustomFileClick"},trackImpression:function(){this.collection.length&&this.$el.is(":visible")&&this.app.observer.broadcast("Track:UE:File:UserSeeFileThumb",{files:this.collection.serialize(),relatedMode:this.relatedMode,view:this.name})},setFileEventsListeners:function(){var e=this;this.on("clientAfterRender",this.markFavorites),this.listenTo(this.app.observer,{"Favorites:PanelCacheUpdate":this.onFavoritesPanelCacheUpdate,"Cart:added":function(t){return e.markCart(!0,t.fileId)},"Cart:removed":function(t){return e.markCart(!1,t.fileId)},"Folder:AddCover":function(t){return e.markCover(!0,t.fileId)},"Folder:RemoveCover":function(){return e.markCover(!1)}})},getFileThumbID:function(e){return+o(e).parents("[data-id]").data("id")},onCartClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.getFileModel(e.currentTarget);this.app.observer.broadcast(t.get("inCart")?"Track:UE:File:RemoveFromCart":"Track:UE:File:AddToCart",{id:t.get("id"),file:t.serialize(),position:this.collection.indexOf(t),view:this.name}),this.app.observer.fire(t.get("inCart")?"Cart:remove":"Cart:add",{fileId:t.get("id")}),t.get("inCart")||this.app.user.isLoggedIn()||(new c({app:this.app,title:this.tr("Add to Cart?"),subTitle:"video"===t.get("type")?this.tr('<span class="%s">Create your Account</span> to add this video to your Cart',"sub-text"):this.tr('<span class="%s">Create your Account</span> to add this image to your Cart',"sub-text")}).show(),this.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:this.name+"/addToCart"}))},onFavoritesClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.getFileModel(e.currentTarget);this.app.observer.broadcast(t.get("inFavorites")?"Track:UE:File:RemoveFromFavorites":"Track:UE:File:AddToFavorites",{id:t.get("id"),file:t.serialize(),position:this.collection.indexOf(t),view:this.name}),t.get("inFavorites")||this.app.store.link("FileForFavorite",t),this.app.observer.fire("Favorites:ToggleFile",{id:t.get("id")})},onSimilarClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.getFileModel(e.currentTarget);this.app.observer.broadcast("Track:UE:File:ToSimilar",{file:t,position:this.collection.indexOf(t)+1});var i=t.makeRelatedUrl({relatedTo:"similar"});this.app.router.redirect(i)},onCoverClick:function(e){if(e.stopPropagation(),e.preventDefault(),this.$(e.currentTarget).hasClass("active"))this.app.observer.fire("Folder:RemoveCover");else{var t=this.getFileModel(e.currentTarget);this.coverCrop(t)}},trackNewTabClick:function(e,t){var i=this.$(e).closest("[data-id]").data("id"),n=this.collection.get(i);this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"FileThumb",target:{target:"fileView",targetId:i},params:Object.assign(n&&n.toTracking()||{},t,{view:this.name})})},onCustomFileClick:function(e){[r.rightMouse,r.middleMouse].includes(e.which)&&this.trackNewTabClick(e.currentTarget)},onFavoritesPanelCacheUpdate:function(e){var t=e.folderId,i=e.options,n=void 0===i?{}:i,o=this.app.store.get("FolderCache"),s=this.app.store.get("Folder");if(o){var r=n.changes,a=n.refetch;if(this.collection.syncWithPanelCache&&s.get("id")===t){var l=r?r.added.map(function(e){return e.id}):[],c=r?r.removed.map(function(e){return e.id}):[];if(l.length&&a)return void this.collection.fetch();if(c.length)return void this.collection.remove(c)}this.markFavorites()}},markFavorites:function(){var e=this,t=this.app.store.get("FolderCache");t&&this.collection.each(function(i){var o=!!t.get(i.get("id")),r=o?"removeFavorites":"addToFavorites",a=n.findWhere(s,{key:r}).label;i.set({inFavorites:o});var l=e.$('[data-id="'+i.get("id")+'"]');l.find("._label-in-favorites").toggleClass("hidden",!o),l.find("._to-favorites").toggleClass("active",o).attr({title:a})})},markCart:function(e,t){var i=this,o=this.collection.where(function(e){return n.contains(t,e.get("id"))});n.each(o,function(t){t.set("inCart",e);var o=i.$("[data-id="+t.get("id")+"]");o.find("._label-in-cart").toggleClass("hidden",!e),o.find("._to-cart").toggleClass("active",e).attr({title:n.findWhere(s,{key:e?"removeFromCart":"addToCart"}).label})})},markCover:function(e,t){this.app.store.get("Folder")&&(this.$("._cover.active").removeClass("active"),e&&this.$("[data-id="+t+"] ._cover").addClass("active"))},coverCrop:function(e){new l({app:this.app,file:e,destroyOnHide:!0}).show()},getFileModel:function(e){return this.collection.get(this.getFileThumbID(e))}})},,,,,,function(e,t,i){"use strict";(function(t){var n=i(0),o=i(127),s=i(13),r=i(1345)(s,n),a=r.__super__,l=a.delegateEvents,c=a.undelegateEvents,d=/^(\S+)\s*(.*)$/;function u(e){s.$("body").off(".delegateGlobals"+e.cid),s.$(document).off(".delegateGlobals"+e.cid),s.$(window).off(".delegateGlobals"+e.cid)}function h(e){return n.chain(e).map(function(e){return Array.isArray(e)?e:[e]}).flatten().value()}r.__super__.delegateEvents=function(){var e=this;if(!t.browser)return this;for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return l.apply(this,n),this.globals&&(u(this),Object.entries(this.globals).forEach(function(t){var i=t[0],n=t[1];if("function"!=typeof n&&(n=e[n]),n){var o=i.match(d);!function(e,t,i,n){var o=t;if("window"===o)o=window;else if("document"===o)o=document;else{if("body"!==o&&""!==o)return;o="body"}s.$(o).on(e+".delegateGlobals"+n.cid,i)}(o[1],o[2],n.bind(e),e)}})),this},r.__super__.undelegateEvents=function(){if(!t.browser)return this;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return c.apply(this,i),this.globals&&u(this),this},e.exports=r.extend({serverRenderingEnabled:!0,nameWrappedSerialize:!1,hasPushState:"undefined"!=typeof window&&null!=window.history.pushState,constructor:function(e){var t;this.options=Object.assign(this.options||{},e||{}),this.parseOptions(e);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];(t=r.prototype.constructor).call.apply(t,[this,e].concat(n))},renderTemplate:function(e,t){var i,n=this.nameWrappedSerialize&&"string"==typeof this.nameWrappedSerialize?this.nameWrappedSerialize:this.name;t.$it=this.nameWrappedSerialize?((i={})[n]=t,i):t,t.$tr=this.tr.bind(this),t.$empty=function(e){return!e.length};var o={html:e,amp:this.amp},s=o[this.app.markup]?o[this.app.markup]:e;return r.prototype.renderTemplate.call(this,s,t)},parseOptions:function(e){var t=Object.assign(this.options,e||{});null!=t.app&&(this.app=this.options.app,this.cdnPath=t.app.cdnPath)},tr:function(){var e;return(e=this.app).tr.apply(e,arguments)},xss:function(e){return void 0===e&&(e=""),o(e.toString().trim())},makeUrl:function(e,i){return!this.app&&t.browser&&(this.app=window.app),this.app.makeUrl(e,i)},extractHTML:function(e){return e||this.serverRenderingEnabled?s.$.html(this.render().el):'<div id="'+this.id+'"></div>'},findView:function(e){if(this.name&&this.name===e)return this;for(var t,i=h(this.views),n=0;n<i.length;n+=1)if(i[n].name===e)t=i[n];else{if(t)break;t=i[n].findView(e)}return t},findViews:function(e){if(!e)return[];var t=[];return this.name===e&&t.push(this),h(this.views).forEach(function(i){return t.push(i.findViews(e))}),n.flatten(t)},beforeRender:function(){var e=this;if(e.__manager__)for(;e.__manager__.parent;)e=e.__manager__.parent;return e.options&&e.options.app&&(this.options.app=e.options.app,this.app=e.options.app),this.prepareRender()},afterRender:function(){t.browser&&(this.clientAfterRender(),this._bindInterceptClick(),this.trigger("clientAfterRender",this))},remove:function(){this.undelegateEvents(),r.__super__.remove.call(this)},clientAfterRender:function(){},prepareRender:function(){},setNotExistView:function(e,t,i){return void 0===i&&(i={}),void 0===this.getView(e)&&this.setView(e,new t(Object.assign({app:this.app},i))),this.getView(e)},_bindInterceptClick:function(){},_interceptClick:function(e){var t=e.currentTarget.getAttribute("href");this.shouldInterceptClick(t,e)&&!0===this.app.router.redirectTo(t)&&e.preventDefault()},shouldInterceptClick:function(e,t){if(!e||!this.hasPushState||t.shiftKey)return!1;var i=e.split("#");return!(i.length>1&&i[0]===window.location.pathname)&&"/"===e.slice(0,1)&&"//"!==e.slice(0,2)}})}).call(this,i(17))},function(e,t,i){"use strict";var n=i(4),o=i(734),s=n.extend({getQueryParams:function(){return this.pick(Object.keys(this.defaults))},parse:function(e){return this.handleErrors(e),{}}});Object.assign(s.prototype,o),e.exports=s},function(e,t,i){"use strict";var n=i(0);e.exports={handleErrors:function(e){if(e){var t=this.getResponseErrors(e);n.size(t)&&(this.validationError=t,this.trigger("invalid",this,t,{validationError:t}))}},getResponseErrors:function(e){var t=this,i={};return e&&e.errors&&this.errorsMap?(n.each(e.errors,function(e){var n=t.errorsMap[e.error_code]||t.errorsMap.byDefault;i[n]||(i[n]=[]),i[n].push(e.error_code+":"+e.error_message)}),i):null}}},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=i(2),a=i(555).statisticsDays,l=i(33),c=i(607),d=i(916),u=i(917),h=i(918),p=i(123),f={subscription:u,ondemand:d,membership:h},m=i(20),g=13502;e.exports=l.extend({url:function(){return this.get("id")?"Invoice":"LastPaidInvoice"},defaults:{from:{},to:{},info:{},items:[],tax:{},id:null,title:"",description:"",productType:null,subproduct:null,orderNumber:null,date:"",price:null,currencyPrice:null,currencyCode:null,currencyId:null,paid:null,count:0,qty:0,splitCount:0,blocked:!1,status:"",license:null,length:null,downloads:null,promocode:null},relations:{from:c,to:c,tax:p},getQueryParams:function(){return{id:this.get("id")}},parse:function(e){var t=e.errors,i=e.data||e;if(!i){var n={error_code:g};return this.validationError=n,this.trigger("invalid",this,[n],{validationError:[n]}),{}}return t&&t.length?(this.validationError=t,this.trigger("invalid",this,t,{validationError:t}),{}):(i.offer&&f[i.offer.type]&&(this.defaults=o({},this.defaults,{offer:{}}),this.relations=o({},this.relations,{offer:f[i.offer.type]}),this.attributes.offer=new f[i.offer.type]({order:i.offer},{app:this.app,parse:!0})),o({},this.pickDefaultsFrom(i),{orderNumber:i.order_number,splitCount:i.split_count,paid:+i.payment_date||null,price:parseFloat(i.price),currencyCode:""+i.currency_code,currencyPrice:parseFloat(i.currency_price),productType:i.product_type,promocode:i.info&&i.info.code}))},formatPrice:function(e){if(!this.get("currencyCode"))return null;var t=this.app.currency.get("list").getByCode(this.get("currencyCode"));return t?t.parseAndFormat({amount:e}):null},serialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=l.prototype.serialize.apply(this,t);try{n.date=r.unix(n.date).format(a)}catch(e){}try{n.paid=n.paid?r.unix(n.paid).format(a):""}catch(e){n.paid=""}return n.status&&(n.status=m.capitalize(n.status)),n}})},function(e,t,i){"use strict";var n=i(16),o=i(2),s=i(920);e.exports=s.extend({name:"Credits",getRebillTitle:function(){return this.model.get("rebill").get("count")>0?this.tr("Auto-renewal <br />on %s credits",this.model.get("rebill").get("count")):""},getExpiresLabel:function(e){void 0===e&&(e=this.product);var t=o.unix(e.expires).diff(o(),"d"),i=t<1?"today":"default",s=n.productExpiresLabels.find(function(t){return t.type===e.type&&t.period===i}).label;return this.tr(s,t)}})},function(e,t,i){"use strict";var n=i(1e3),o=i(806),s=t.toInt=function(e){return parseInt(e,10)||0},r=t.clone=function(e){if(e){if(Array.isArray(e))return e.map(r);if("object"==typeof e){var t={};for(var i in e)t[i]=r(e[i]);return t}return e}return null};function a(e){return function(t,i){e(t,"ps--in-scrolling"),void 0!==i?e(t,"ps--"+i):(e(t,"ps--x"),e(t,"ps--y"))}}t.extend=function(e,t){var i=r(e);for(var n in t)i[n]=r(t[n]);return i},t.isEditable=function(e){return o.matches(e,"input,[contenteditable]")||o.matches(e,"select,[contenteditable]")||o.matches(e,"textarea,[contenteditable]")||o.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=n.list(e),i=0;i<t.length;i++){var o=t[i];0===o.indexOf("ps-")&&n.remove(e,o)}},t.outerWidth=function(e){return s(o.css(e,"width"))+s(o.css(e,"paddingLeft"))+s(o.css(e,"paddingRight"))+s(o.css(e,"borderLeftWidth"))+s(o.css(e,"borderRightWidth"))},t.startScrolling=a(n.add),t.stopScrolling=a(n.remove),t.env={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof window&&null!==window.navigator.msMaxTouchPoints}},function(e,t,i){"use strict";var n=i(737),o=i(1e3),s=i(806),r=i(688),a=i(796);function l(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}e.exports=function(e){var t,i=r.get(e);i.containerWidth=e.clientWidth,i.containerHeight=e.clientHeight,i.contentWidth=e.scrollWidth,i.contentHeight=e.scrollHeight,e.contains(i.scrollbarXRail)||((t=s.queryChildren(e,".ps__scrollbar-x-rail")).length>0&&t.forEach(function(e){s.remove(e)}),s.appendTo(i.scrollbarXRail,e)),e.contains(i.scrollbarYRail)||((t=s.queryChildren(e,".ps__scrollbar-y-rail")).length>0&&t.forEach(function(e){s.remove(e)}),s.appendTo(i.scrollbarYRail,e)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=l(i,n.toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=n.toInt((i.negativeScrollAdjustment+e.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=l(i,n.toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=n.toInt(e.scrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),function(e,t){var i={width:t.railXWidth};t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-e.scrollTop:i.top=t.scrollbarXTop+e.scrollTop,s.css(t.scrollbarXRail,i);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,s.css(t.scrollbarYRail,n),s.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),s.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(e,i),i.scrollbarXActive?o.add(e,"ps--active-x"):(o.remove(e,"ps--active-x"),i.scrollbarXWidth=0,i.scrollbarXLeft=0,a(e,"left",0)),i.scrollbarYActive?o.add(e,"ps--active-y"):(o.remove(e,"ps--active-y"),i.scrollbarYHeight=0,i.scrollbarYTop=0,a(e,"top",0))}},function(e,t,i){"use strict";var n=i(1558),o=i(0),s=i(732);e.exports=s.extend({name:"Slider",el:!1,lazyload:!1,infiniteLoop:!1,responsive:null,useControls:!0,useRangeControl:!0,maxRangeValue:200,swipeSensitivity:60,transitionDuration:500,rangeTransitionDuration:0,activeInCenter:!1,slidesToShow:1,slidesToMove:1,currentOffset:0,currentIndex:0,firstIndex:0,events:{"touchstart ._slider":"onTouchStart","touchend ._slider":"onTouchEnd","touchmove ._slider":"onTouchMove","input ._range-input":"onRangeInput","click ._next":"onNextClick","click ._prev":"onPrevClick"},globals:{"resize window":"onWindowResize"},clientAfterRender:function(){this.slider=this.el.querySelector("._slider"),this.slides=this.el.querySelectorAll("._slider-item"),this.addAnimationListener(),this.lazyload&&this.setImagePlaceholders(),this.initializeSlider()},addAnimationListener:function(){this.slider.addEventListener("transitionend",this.handleTransitionEnd.bind(this))},remove:function(){this.slider.removeEventListener("transitionend",this.handleTransitionEnd.bind(this)),s.prototype.remove.call(this)},handleTransitionEnd:function(e){e.target.classList.contains("_slider")&&(this.blockControls=!1,this.infiniteLoop&&this.handleInfiniteLoop())},initializeSlider:function(){this.setResponsiveOptions(),this.maxOffset=this.el.clientWidth-this.slider.clientWidth,this.lastWidth=window.innerWidth,this.currentIndex=this.firstIndex,this.moveToNextSlide(this.slides[this.currentIndex],0)},onTouchStart:function(e){this.slider.classList.toggle("no-transition",!1),this.startTouch=e.originalEvent.touches[0].clientX},onTouchEnd:function(e){var t=e.originalEvent.changedTouches[0].clientX,i=this.startTouch-t||0;if(Math.abs(i)>this.swipeSensitivity){var n=i<0?-1:1;this.slideSwitch(n)}},onWindowResize:o.throttle(function(){0!==this.lastWidth-window.innerWidth&&this.isSliderVisible()&&(this.useRangeControl&&(this.el.querySelector("._range-input").value=0),this.initializeSlider())},500),onRangeInput:function(e){var t=e.target;this.currentOffset=this.maxOffset/this.maxRangeValue*t.value,this.animateMotion(this.rangeTransitionDuration,this.currentOffset)},onPrevClick:function(e){this.blockControls||(e.stopPropagation(),this.slideSwitch(-1))},onNextClick:function(e){this.blockControls||(e.stopPropagation(),this.slideSwitch(1))},slideSwitch:function(e){this.currentIndex=this.getNextIndex(e),this.moveToNextSlide(this.slides[this.currentIndex])},getNextIndex:function(e){var t=this.currentIndex+e*this.slidesToMove;return t<=0?0:t>=this.slides.length-this.slidesToMove?this.slides.length-this.slidesToMove:t},moveToNextSlide:function(e,t){void 0===t&&(t=this.transitionDuration),this.setActiveSlide(e.classList);var i=e.offsetLeft,n=i+e.offsetWidth/2,o=this.el.clientWidth/2,s=this.activeInCenter?o-n:-i;s<this.maxOffset?this.currentOffset=this.maxOffset:this.currentOffset=s,this.toggleControls(),this.animateMotion(t,this.currentOffset)},animateMotion:function(e,t){this.slider.style.transitionDuration=e+"ms",this.slider.style.transform="translate3d("+t+"px, 0, 0)",e?this.blockControls=!0:this.infiniteLoop&&this.handleInfiniteLoop()},setImagePlaceholders:function(){var e=this;this.slides.forEach(function(t){var i=t.querySelector("._slider-img"),n=e.slider.clientHeight*t.dataset.ratio;t.style.width=n+"px",t.classList.add("placeholder"),i.onload=function(){t.style.width="inherit"}})},handleInfiniteLoop:function(){this.currentIndex===this.slidesToShow-1&&(this.currentIndex=this.slides.length-this.slidesToShow-1,this.jumpTo(this.slides[this.currentIndex])),this.currentIndex>=this.slides.length-this.slidesToShow&&(this.currentIndex=this.slidesToShow,this.jumpTo(this.slides[this.currentIndex]))},jumpTo:function(e){this.slider.classList.add("no-transition"),this.moveToNextSlide(e,0),this.slider.classList.remove("no-transition")},setResponsiveOptions:function(){var e=this;if(this.responsive){var t=this.responsive[this.getBreakpoint()];t&&Object.keys(t).forEach(function(i){e[i]=t[i]})}},getBreakpoint:function(){return n(Object.keys(this.responsive),window.innerWidth)},setActiveSlide:function(e){this.el.querySelector(".active")&&this.el.querySelector(".active").classList.remove("active"),e.add("active")},isSliderVisible:function(){return this.$(this.slider).is(":visible")},toggleControls:function(){if(this.useControls){var e=this.el.querySelector("._prev"),t=this.el.querySelector("._next");e.classList.add("visible-control"),t.classList.add("visible-control"),0!==this.currentOffset&&0!==this.currentIndex||e.classList.remove("visible-control"),(this.currentOffset<=this.maxOffset||this.currentIndex===this.slides.length-1)&&t.classList.remove("visible-control")}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(688),o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,i){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===i)throw"You must provide a value to the update-scroll function";"top"===t&&i<=0&&(e.scrollTop=i=0,e.dispatchEvent(o("ps-y-reach-start"))),"left"===t&&i<=0&&(e.scrollLeft=i=0,e.dispatchEvent(o("ps-x-reach-start")));var s=n.get(e);"top"===t&&i>=s.contentHeight-s.containerHeight&&((i=s.contentHeight-s.containerHeight)-e.scrollTop<=1?i=e.scrollTop:e.scrollTop=i,e.dispatchEvent(o("ps-y-reach-end"))),"left"===t&&i>=s.contentWidth-s.containerWidth&&((i=s.contentWidth-s.containerWidth)-e.scrollLeft<=1?i=e.scrollLeft:e.scrollLeft=i,e.dispatchEvent(o("ps-x-reach-end"))),void 0===s.lastTop&&(s.lastTop=e.scrollTop),void 0===s.lastLeft&&(s.lastLeft=e.scrollLeft),"top"===t&&i<s.lastTop&&e.dispatchEvent(o("ps-scroll-up")),"top"===t&&i>s.lastTop&&e.dispatchEvent(o("ps-scroll-down")),"left"===t&&i<s.lastLeft&&e.dispatchEvent(o("ps-scroll-left")),"left"===t&&i>s.lastLeft&&e.dispatchEvent(o("ps-scroll-right")),"top"===t&&i!==s.lastTop&&(e.scrollTop=s.lastTop=i,e.dispatchEvent(o("ps-scroll-y"))),"left"===t&&i!==s.lastLeft&&(e.scrollLeft=s.lastLeft=i,e.dispatchEvent(o("ps-scroll-x")))}},,,,,,,,,function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(65),r=i(0),a=i(2),l=i(4),c=i(1468).detect;e.exports=l.extend({url:"Card",isHttps:!0,defaults:{id:null,number:null,pan:null,bin:null,expiryMonth:null,expiryYear:null,cvv:null,billingName:null,isLinked:!1,captcha:""},validation:{number:[{required:!0,msg:!0},{minLength:5,msg:s.InvalidCardNumber},{maxLength:22,msg:s.InvalidCardNumber}],pan:[{required:!0,msg:!0},{isCreditCard:!0}],expiryMonth:{required:!0,cardExpiration:new Date},expiryYear:{required:!0,cardExpiration:new Date},cvv:function(e){return!e||!/^[0-9]{3,4}$/.test(e)&&s.InvalidCvv}},masks:{cvv:"***"},initialize:function(e,t){var i=this;this.url=t&&t.url||this.url,this.on("change:number",function(){i.attributes.bin=i.parseBin(i.get("number"))})},parse:function(e){void 0===e&&(e={});var t=e.data&&e.data.card?r.clone(e.data.card):r.clone(e);return t.number&&(t.bin=this.parseBin(t.number)),this.pickDefaultsFrom(t)},parseBin:function(e){return void 0===e&&(e=this.get("number")),e?e.slice(0,6):null},destroy:function(e){var t=e?r.clone(e):{},i=this,n=t.success,o=t.wait,s=function(){i.stopListening(),i.trigger("destroy",i,i.collection,t)};t.success=function(e){!o||e.errors&&e.errors.length||s(),n&&n.call(t.context,i,e,t),i.isNew()||i.trigger("sync",i,e,t)};var a=!1;if(this.isNew())r.defer(t.success);else{var l=t.error;t.error=function(e){l&&l.call(t.context,this,e,t),this.trigger("error",this,e,t)},a=this.sync("delete",this,t)}return o||s(),a},serialize:function(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},this.toJSON(),{type:this.getTypeFromNumber()||"",labels:{number:this.getNumberLabel(this.get("number")),cvv:this.getCvvLabel(),expire:this.getExpireLabel(),expireShort:this.getExpireLabel({short:!0})}})},prepareNumberForSet:function(e){return void 0===e&&(e=this.get("pan")),(e||"").replace(/ /g,"").trim()},getExpirationYears:function(e){void 0===e&&(e=20);for(var t=[parseInt(a().format("YY"),10)],i=0;i<e;i+=1)t.push(t[i]+1);return t},getNumberLabel:function(e,t){if(void 0===e&&(e=this.get("pan")),void 0===t&&(t=!0),!e)return"";var i=String(e).trim().replace(/ /g,"");return t&&(i=function(e){return e.replace(/./g,function(t,i){return i<6||i>(e.length<=16?11:e.length-5)?t:"*"}).trim()}(i)),function(e){return e.replace(/./g,function(e,t){return e+((t+1)%4==0?" ":"")}).trim()}(i)},getCvvLabel:function(e){void 0===e&&(e=this.get("cvv"));var t=String(e);return t.length?t.replace(/./g,"*"):this.masks.cvv},getExpireLabel:function(e){var t=(void 0===e?{}:e).short,i=void 0!==t&&t,n=this.get("expiryMonth"),o=this.get("expiryYear");return n&&o?(n=n<10?"0"+n:n,i?n+"/"+o:n+" / 20"+o):""},getTypeFromNumber:function(e){return void 0===e&&(e=this.get("number")),c(e)}})},function(e,t,i){"use strict";var n={};n.e=function(e,t){var i=document.createElement(e);return i.className=t,i},n.appendTo=function(e,t){return t.appendChild(e),e},n.css=function(e,t,i){return"object"==typeof t?function(e,t){for(var i in t){var n=t[i];"number"==typeof n&&(n=n.toString()+"px"),e.style[i]=n}return e}(e,t):void 0===i?function(e,t){return window.getComputedStyle(e)[t]}(e,t):function(e,t,i){return"number"==typeof i&&(i=i.toString()+"px"),e.style[t]=i,e}(e,t,i)},n.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},n.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},n.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return n.matches(e,t)})},e.exports=n},function(e,t,i){"use strict";e.exports={index:{effect:"blinds",element:"._series-box-item",blindsBarDelay:175,animationShow:500,autorun:!1,navigation:!1},about:{effect:"move",activeSlideClass:"about-page__gallery-item_active",prevSlideClass:"about-page__gallery-item_prev",nextSlideClass:"about-page__gallery-item_next",adjacentSlides:!0,arrowNavigation:!0,animationSlide:2e4,animationShow:100,autorun:!1},favorite:{effect:"fade",animationSlide:1e4,animationShow:500},recentlyViewed:{effect:"move",animationShow:500,holder:"._scroll",element:"._slider-elements > *",navElement:"._slider-navigation > *",activeNavigationClass:"pager-slider__page_active",autorun:!1,navigation:!0,visibleSlides:6},filesBox:{effect:"move",animationShow:500,holder:"._scroll",element:"._slider-elements > *",navElement:"._slider-navigation > *",activeNavigationClass:"pager-slider__page_active",autorun:!1,navigation:!0},ourApps:{effect:"fade",animationSlide:1e4,animationShow:200,slideOnTouchMove:!0},marketBlock:{effect:"move",animationShow:500,holder:"._scroll",element:"._slider-elements > *",navElement:"._slider-navigation > *",activeNavigationClass:"pager-slider__page_active",autorun:!1,navigation:!0,visibleSlides:1,offset:14},rightFolders:{effect:"slide",autorun:!1,animationShow:200},marketFolders:{effect:"slide",autorun:!1,animationShow:200,slideOnlyForward:!0,slideOnTouchMove:!0},userProductsHome:{effect:"fade",autorun:!1,animationShow:300}}},function(e,t,i){"use strict";(function(e){var t=i(0),n=i(13).$,o=i(20).capitalize,s=(0,i(6).getLogger)(e);i(1575);var r=function(){function e(e,i){this.element=e,this.$items=[],this.$navItems=[],this.itemsCount=0,this.currentIndex=null,this.preparations={},this.timer=null,this.options=t.extend({animationSlide:4500,animationShow:2e3,holder:"._slider-holder",element:"._slider-item",navElement:"._slider-navigation",navArrowElement:"._slider-arrow",effect:"fade",blindsBars:7,blindsBarDelay:50,autorun:!0,navigation:!0,prevSlideClass:"",nextSlideClass:"",activeSlideClass:"",activeNavigationClass:"active",adjacentSlides:!1,arrowNavigation:!1,slideOnlyForward:!1,slideOnTouchMove:!1,visibleSlides:1,offset:0},i),this.element.data("GallerySlider",this),this.init()}var i=e.prototype;return i.init=function(){this.initElements(),this.prepareEffect(),this.options.navigation&&this.prepareNavigation(),this.options.autorun&&this.start()},i.initElements=function(){this.$items=this.element.find(this.options.element),this.itemsCount=this.$items.length,0!==this.itemsCount?this.currentIndex=this.$items.filter(":visible:eq(0)").index():s.debug("There are no elements for display")},i.prepareEffect=function(){var e=o(this.options.effect);t.isFunction(this["_prepare"+e])&&this["_prepare"+e]()},i.prepareNavigation=function(){var e=this;this.$navItems=this.element.find(this.options.navElement),this.$navItems.off("click.gallerySlider").on("click.gallerySlider",function(t){t.stopPropagation(),e.slide(n(t.currentTarget).index()),e.options.autorun&&e.start()}),this.options.arrowNavigation&&(this.$navArrowItems=this.element.find(this.options.navArrowElement),this.$navArrowItems.off("click.gallerySlider").on("click.gallerySlider",function(t){t.stopPropagation();var i=1*n(t.currentTarget).attr("data-direction"),o=e.$navItems.filter("."+e.options.activeNavigationClass).index();0===o&&i<0?e.slide(e.$navItems.length-1):o===e.$navItems.length-1&&i>0?e.slide(0):e.slide(o+i),e.options.autorun&&e.start()})),0===this.$navItems.filter("."+this.options.activeNavigationClass).length&&this.$navItems.eq(0).addClass(this.options.activeNavigationClass)},i.start=function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=t.delay(function(){e.next(),e.start()},this.options.animationSlide)},i.next=function(){this.slide(this.currentIndex===this.itemsCount-1?0:this.currentIndex+1)},i.slide=function(e){if(e!==this.currentIndex&&this.$items[e]){var i=o(this.options.effect);this[t.isFunction(this["_exec"+i])?"_exec"+i:"_execSlide"](this.$items.eq(this.currentIndex),this.$items.eq(e),this.options.slideOnlyForward||this.currentIndex<e?"next":"prev",e),this.currentIndex=e,this.$items.removeClass(this.options.activeSlideClass),this.$items.eq(e).addClass(this.options.activeSlideClass),this.options.adjacentSlides&&(this.$items.removeClass(this.options.prevSlideClass+" "+this.options.nextSlideClass),e+1===this.$items.length?(this.$items.eq(e-1).addClass(this.options.prevSlideClass),this.$items.eq(0).addClass(this.options.nextSlideClass)):0===e?(this.$items.eq(this.$items.length-1).addClass(this.options.prevSlideClass),this.$items.eq(e+1).addClass(this.options.nextSlideClass)):(this.$items.eq(e-1).addClass(this.options.prevSlideClass),this.$items.eq(e+1).addClass(this.options.nextSlideClass))),this.options.navigation&&this.$navItems.removeClass(this.options.activeNavigationClass).eq(e).addClass(this.options.activeNavigationClass)}},i.getDelay=function(){return Math.max(this.preparations.barsDelay,this.options.animationShow)},i.css3=function(e,t){var i={},n=["webkit","moz","ms","o"];return Object.keys(t).forEach(function(e){for(var o=0;o<n.length;o+=1)i["-"+n[o]+"-prop"]=t[e];i[e]=t[e]}),e.css(i)},i._prepareBlinds=function(){this.preparations.barClass="dpg-bar",this.preparations.bar=n("<i />",{class:this.preparations.barClass}),this.preparations.barsDelay=this.options.blindsBarDelay*this.options.blindsBars+this.options.animationShow,this.$items.each(function(e,t){var i=n(t),o=i.find("img");i.data({image:o.attr("src")})})},i._prepareFade=function(){this.$items.removeClass("hidden").hide().eq(this.currentIndex).show()},i._prepareSlide=function(){var e=this;this.$items.removeClass("hidden").hide().eq(this.currentIndex).show(),"slide"===this.options.effect&&this.options.slideOnTouchMove&&this.element.on("touchstart.gallerySlider",function(t){t.stopPropagation();var i=t.originalEvent.touches[0].pageX;n(t.currentTarget).on("touchmove.gallerySlider",function(t){t.stopPropagation();var o=t.originalEvent.touches[0].pageX;i>o+10?e.slide(e.currentIndex?e.currentIndex-1:e.$items.length-1):i<o-10&&e.slide(e.currentIndex<e.$items.length-1?e.currentIndex+1:0),n(t.currentTarget).off("touchmove.gallerySlider")})})},i._prepareMove=function(){var e=this;if("move"===this.options.effect){var i=this.$items.eq(0).outerWidth()*this.options.visibleSlides;this.element.find(this.options.holder).off("ps-scroll-x.gallerySlider").on("ps-scroll-x.gallerySlider",t.throttle(function(){if(!0!==e.selfScroll){var t=Math.floor(e.element.find(e.options.holder).scrollLeft()/i);e.currentIndex=t,e.$navItems.removeClass(e.options.activeNavigationClass),e.$navItems.eq(t).addClass(e.options.activeNavigationClass)}},10))}},i._execSlide=function(e,t,i){var o=e.width();this.options.slideOnlyForward?e.hide():e.stop(!0).animate({left:"next"===i?-o:o},this.options.animationShow,function(){n(this).hide().css("left",0)}),t.stop(!0).css("left","next"===i?o:-o).show().animate({left:0},this.options.animationShow)},i._execBlinds=function(e,i){var n=this,o=e.width(),s=e.height(),r=Math[o>=s?"round":"ceil"](o/this.options.blindsBars),a=e.data("image");e.css("z-index","1001").hide().find("a").hide(),i.css("z-index","1000").show().find("a").show();for(var l=0;l<=this.options.blindsBars-1;l+=1){var c=r*l,d=this.preparations.bar.clone();d.css({left:c+"px",width:r+"px",height:s+"px",background:"url("+a+")","background-position":"-"+c+"px 0"}).appendTo(e.parent()),this.css3(d,{"transition-duration":this.options.animationShow+"ms","transition-delay":this.options.blindsBarDelay*l+"ms"})}t.delay(function(){return n.css3(n.element.find("."+n.preparations.barClass),{transform:"scaleX(0)"})},50),t.delay(function(){return n.element.find("."+n.preparations.barClass).remove()},this.preparations.barsDelay+50)},i._execFade=function(e,t){var i=this;e.stop(!0).fadeOut(this.options.animationShow,function(){t.stop(!0).fadeIn(i.options.animationShow)})},i._execMove=function(e,t,i,n){var o=this,s=this.options.visibleSlides*n,r=this.$items.eq(s).outerWidth()*s+(n>0?this.options.offset:0);this.selfScroll=!0,this.element.find(this.options.holder).stop().animate({scrollLeft:r},this.options.animationShow,function(){o.selfScroll=!1})},e}();e.exports=function(e,t){return new r(e,t)}}).call(this,i(3)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e){var t=i(0),n=i(4),o=(0,i(6).getLogger)(e);e.exports.sendRequest=function(e){if(!e.url)return o.error("Request url is missed"),!1;this.model=new n,this.model.url=e.url;var i=t.extend({method:"update",getQueryParams:{},success:t.noop},e);return this.model.sync(e.method,this.model,i)}}).call(this,i(3)(e))},function(e,t,i){"use strict";(function(t){i(1278),i(1279),i(1400),i(1018);var n=i(13),o=i(1401),s=i(1280),r=i(1402),a=i(1403),l=i(496),c=i(627),d=i(1405),u=i(1409),h=i(1418),p=i(604),f=i(502),m=i(687),g=i(1425),b=i(531),v=i(565),_=i(675),w=i(997);e.exports=l.extend({name:"SignupView",el:!1,template:r,mode:"default",isFullPage:!1,advantagesAnimation:!0,invalidClassName:"",activeTab:"personal",isArrowShown:!0,isAutoFocusAllowed:!0,events:{"click ._submit":"onSubmit","click ._sign-up-email":"onSignUpEmailClick","click ._back":"onBackClick","click ._social-condition":"onSocialConditionClick","click ._login":"handleLoginClick"},initialize:function(e){this.isBusinessAllowed=this.app.features.isFeatureEnabled("Allowed registration as business",1),this.model=new m({refUser:e.app.userSettings.get("refUser")},{app:this.app}),this.listenTo(this.model,{request:this.onModelRequest,sync:this.onModelSyncComplete,change:this.onModelChange}),this.isBusinessAllowed&&this.initBusinessModel(e)},serialize:function(){return{mode:this.mode,title:this.title||this.tr("Welcome!"),subTitle:this.subTitle,isFullPage:this.isFullPage,extendedCondition:this.app.features.isFeatureOnValue("Show Sign Up Condition"),loginLink:this.app.makeUrl("login",{protocol:"https:",backURL:!0}),pictures:this.series?this.series.getImagesList():{},advantagesAnimation:this.advantagesAnimation,authSocialTitle:this.tr("or Sign Up Using"),isBusinessAllowed:this.isBusinessAllowed&&["default","email","business"].includes(this.mode),isArrowShown:this.isArrowShown}},prepareRender:function(){this.renderSignupForm()},clientAfterRender:function(){this.isFullPage?(this.initForm(),this.initSocial()):["email","business"].includes(this.mode)?this.initForm():["social-email","social-condition"].includes(this.mode)||this.initSocial()},initBusinessModel:function(e){this.businessModel=new g({refUser:e.app.userSettings.get("refUser")},{app:this.app}),this.listenTo(this.businessModel,{request:this.onModelRequest,sync:this.onModelSyncComplete,change:this.onModelChange})},initForm:function(){this.$submit=this.$("._submit"),this.isAutoFocusAllowed&&this.$("._email-field").focus(),b(this.$el,n.$),v(this.$submit),_({$button:n.$('<i class="password-switcher">'+this.tr("Show")+"</i>"),$target:this.$("._password"),text:{show:this.tr("Show"),hide:this.tr("Hide")}})},initSocial:function(){var e=new w({app:this.app});e.setLang(this.app.lang),e.injectFacebookScript(),e.injectGoogleScript(),e.setAccessCondition(this.checkSocialAccess.bind(this))},checkSocialAccess:function(){var e=this.model.validate();return e&&this.getView("._condition").showErrors(this.model,e),this.model.get("membership_agreement")},renderSignupForm:function(){var e=this,t={"._advantages":new h({mode:this.mode,useLightStyle:!this.isFullPage,app:this.app,runAnimation:this.advantagesAnimation})};"email"===this.mode?t["._form"]=new c({app:this.app,template:o,model:this.model,submitButton:this.submitButton}):"social-email"===this.mode?t["._form"]=new d({app:this.app,onSuccessCallback:this.onSuccessCallback}):"business"===this.mode?t["._form"]=new u({app:this.app,model:this.businessModel}):t["._social"]=new l({el:!1,app:this.app,template:s}),"social-email"!==this.mode&&(t["._condition"]=new p({app:this.app,signUpModel:"business"===this.mode?this.businessModel:this.model,onErrorCallback:this.onError.bind(this)})),this.isBusinessAllowed&&(t["._tabs"]=new f({name:"SignupTabs",app:this.app,template:a,schema:this.getTabsSchema(),preventDefaultAction:!0,menuUnderline:!0,changeTabCallback:function(){return e.changeTabCallback()}})),this.setViews(t)},getTabsSchema:function(){return[{key:"personal",title:this.tr("Personal Use"),active:"personal"===this.activeTab},{key:"business",title:this.tr("Business Use"),active:"business"===this.activeTab}]},changeTabCallback:function(){var e=this.findView("SignupTabs").getActiveTab();this.activeTab=e.get("key"),this.advantagesAnimation=!1,"business"===this.activeTab?(this.previousMode=this.mode,this.mode="business"):this.mode=this.previousMode,this.app.observer.broadcast("Track:UE:SignUp:Business",{action:"Tabs",isBusiness:"business"===this.activeTab}),this.render()},onModelRequest:function(){t.browser&&this.$submit.trigger("loading")},onModelSyncComplete:function(e,i){t.browser&&this.$submit.trigger("loaded")},onModelChange:function(){this.$el.removeClass(this.invalidClassName)},onSubmit:function(e){e.preventDefault(),this.getView("._form").submit()},onSignUpEmailClick:function(){this.mode="email",this.advantagesAnimation=!1,this.render()},onBackClick:function(){this.mode="default",this.advantagesAnimation=!1,this.render()},onSocialConditionClick:function(){this.checkSocialAccess()&&this.onSuccessCallback()},handleLoginClick:function(e){var t=this;e.stopPropagation(),e.preventDefault(),Promise.all([i.e(0),i.e(97)]).then(function(e){new(i(906))({app:t.app,single:!0}).show()}.bind(null,i)).catch(i.oe)},onError:function(){this.$el.addClass(this.invalidClassName)},onSuccessCallback:function(){}})}).call(this,i(17))},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(1504),i(1027);var r=i(0),a=i(556),l=i(534),c=i(65),d=i(16).licensingFileTypes,u=i(1519),h=i(539),p=i(496),f=i(1520),m=i(1522),g=i(1523),b=i(565),v=i(531),_=i(20).classNames,w=i(558),y=i(903),x=i(111),C=p.extend({name:"LicenseWizard",el:!1,template:u,errorTitlesMap:{17001:c.InsufficientFundsTitle},errorMessagesMap:{17001:c.InsufficientFundsMessage},events:{"input  ._field":"onFormFieldChange","change ._license":"onLicenseAndSizeChange","change ._size":"onLicenseAndSizeChange","keypress input":"onInputKeyPress","keyup ._field":"onFieldKeyUp","submit form":"onFormSubmit","click ._submit":"onSubmitClick","click ._submit-download":"onSubmitAndDownloadClick","click ._option-checkbox":"onOptionCheck"},files:[],types:["image","vector","video"],downloadAfterLicensing:!1,initialize:function(){this.model=new m,this.collection=new g(this.files,{parse:!0,app:this.app}),this.listenTo(this.model,"error",this.onModelError)},serialize:function(){var e,t=this.collection.first(5).reverse().map(function(e){return e.serialize()}),i=this.app.user.serializeUserLicenseFields({enabled:!0}).map(function(e){return o({},e,{placeholder:e.placeholder})}),n=this.makeBlocks(),s=n.reduce(function(e,t){return e+t.total},0),r=n.every(function(e){return!e.licenses.length}),a=n.find(function(e){return""!==e.message}),l=c.CantLicenseMultipleFiles;return r&&a&&(l=a.message),o({files:t,blocks:n,form:this.model.serialize(),fields:i,total:this.app.currency.get("list").get(this.app.user.get("enterprise").currencyId).parseAndFormat({amount:s}),maxFilesListCount:5,unableToLicense:r,unableMessage:l,downloadBtnText:this.files.length>1?this.tr("Confirm & Bulk Download"):this.tr("Confirm & Download"),classNames:_((e={"images-fan_has-more":t.length>5},e["images-fan_counts-"+t.length]=t.length<=5,e))},this.getTaxData())},clientAfterRender:function(){v(this.$el,Backbone.$),b(this.$("._buttons"),{color:"#fff"}),this.$("._scroll").length&&a.initialize(this.$("._scroll").get(0),{suppressScrollX:!0,wheelSpeed:.6})},getTaxData:function(){var e=this.app.user.get("enterprise")||{},t=e.tax,i=void 0===t?{}:t,n=e.vatEnabled,o=void 0!==n&&n,s=i.region,r=void 0===s?null:s,a=i.rate,l=void 0===a?null:a,c=null!==l?+(100*l).toFixed(3):0,d={ca:this.app.tr("Price includes Sales Tax at %s&#37;",c),us:this.app.tr("Price includes Sales Tax at %s&#37;",c),eu:this.app.tr("Price includes VAT at %s&#37;",c)};return{isTaxEnabled:o&&c>0,taxTitle:d[r]}},makeBlockMessage:function(e){var t=this;return e.every(function(e){return e.get("permissionMask")===t.app.licensor.getPermission("premium")})?this.app.tr("The file you have selected is from our Focused Collection. To license it, please contact your Depositphotos manager."):this.app.tr("To license this file, please contact your Depositphotos manager.")},makeBlocks:function(){var e=this,t={bit_price:4096};return this.types.filter(function(t){return e.collection.some(function(e){return e.get("type")===t})}).map(function(i){var n=d.find(function(e){return e.key===i}),s=e.collection.where({type:i}),r=e.app.licensor.getUseAbleUserLicensesForFile(s),a={type:i,licenses:r,sizes:[],options:[],filesCount:s.length,total:0,title:e.tr(n.label),message:""};if(!r.length)return o({},a,{message:e.makeBlockMessage(s)});var l=e.model.get("licensing").get(i);l||(l=e.model.get("licensing").add({type:i,fileIds:s.map(function(e){return e.id}),licenseId:r[0].id,size:r[0].schema[0].id}));var c=e.app.licensor.getLicenseById(l.get("licenseId"),r),u=e.app.licensor.getLicensableSizesForFile(s,[c]);if(!u.length)return o({},a,{message:e.makeBlockMessage(s)});var h=u.find(function(e){return e.id===l.get("size")})||u[0];l.set({size:h.id});var p=h.options.filter(function(e){return"disabled"!==e.status})||[];!l.get("optionsBitMask")&&p.length&&l.set({optionsBitMask:p.reduce(function(e,t){return e|(t.selected?t.bit:e)},0)}),p.forEach(function(e){e.selected=(e.bit&l.get("optionsBitMask"))>0});var f=p.reduce(function(e,t){return e+(t.selected?t.prices[0].cost:0)},0),m=u.reduce(function(i,n){return i[n.id]=s.map(function(i){return e.app.licensor.getFileSizePrice(e.app.licensor.getConfigForSize(n.id,i,c.bit),t)}),i},{});return o({},a,{total:m[h.id].reduce(function(e,t){return e+t.cost},0)+f*s.length,sizes:u.map(function(t){return e.addSizeCompositeLabel(t,s,m)}),options:p.map(function(t){return o({},t,{price:t.prices[0].cost,name:e.tr(t.name),formattedPrice:e.app.currency.get("list").get(e.app.user.get("enterprise").currencyId).parseAndFormat({amount:t.prices[0].cost})})})})})},addSizeCompositeLabel:function(e,t,i){var n="vect"===e.id?this.app.tr(c.VectImage):e.labels.short,o=1===t.length&&"vect"!==e.id?x.makeSizeLabel(t[0].attributes,e):"",s=i[e.id].every(function(t){return t.cost===i[e.id][0].cost})?this.app.currency.get("list").get(this.app.user.get("enterprise").currencyId).parseAndFormat({amount:e.prices[0].cost}):"";return e.compositeLabel=[n,o,s].filter(function(e){return e}).join(" | "),e},onFormFieldChange:function(e){this.model.set(e.currentTarget.name,e.currentTarget.value)},onInputKeyPress:function(e){(e.which||e.keyCode)===l.enter&&(e.preventDefault(),e.stopPropagation(),this.onSubmitAndDownloadClick())},onFieldKeyUp:function(e){e.stopPropagation()},onFormSubmit:function(e){e.preventDefault()},onLicenseAndSizeChange:function(e){var t,i=e.currentTarget,n=i.name,o=i.value,s=e.currentTarget.dataset.type,r=this.model.get("licensing").get({type:s});r.set(((t={})[n]="licenseId"===n?+o:o,t.optionsBitMask=null,t)),"licenseId"===n&&r.set({size:""}),this.render()},onOptionCheck:function(e){var t=e.currentTarget.checked,i=e.currentTarget.dataset,n=i.type,o=i.bit,s=this.model.get("licensing").get(n);s.set({optionsBitMask:t?s.get("optionsBitMask")|o:s.get("optionsBitMask")^o}),this.render()},onSubmitClick:function(){this.$("._buttons").trigger("loading"),this.purchase()},onSubmitAndDownloadClick:function(){this.downloadAfterLicensing=!0,this.onSubmitClick()},onGeneralError:function(e){var t=e[0];17001===t.error_code?this.app.router.redirect(this.app.makeUrl("subscribe/billing",{backURL:!0,query:{product:"account"}})):63002===t.error_code?this.app.router.redirect(this.app.makeUrl("login",{protocol:"https",backURL:!0})):this.showError(t.error_code,t.error_message)},showError:function(e,t){var i=this,n=this.errorTitlesMap[e]?this.errorTitlesMap[t]:c.ServiceModalTitle,o=this.errorMessagesMap[e]?this.errorMessagesMap[t]:t;this.insertView("ServiceModal",new h({app:this.app,title:n,message:o,onHideCallback:function(){i.getView("ServiceModal")&&i.getView("ServiceModal").remove()}})).show()},showSummary:function(e,t){var i=this;void 0===e&&(e=[]),void 0===t&&(t=[]);var n=this.app.user.get("firstName")&&this.app.user.get("lastName")?this.app.user.get("firstName")+" "+this.app.user.get("lastName"):this.app.user.get("username");this.insertView("ServiceModal",new h({app:this.app,title:c.ServiceModalTitle,body:function(){return new f({data:{username:n,filesOk:e.length?e.map(function(e){return"#"+e.id}).join(", "):null,filesFail:t.length?t.map(function(e){return"#"+e.id}).join(", "):null,filesOkAmount:e.length,filesFailAmount:t.length}})},onHideCallback:function(){i.getView("ServiceModal")&&i.getView("ServiceModal").remove()}})).show()},purchase:function(){this.model.save({},{success:this.onLicenseSuccess.bind(this)})},onModelError:function(e,t){t.errors.length&&this.onGeneralError(t.errors)},parseLicensingResult:function(e){var t=[],i=[];return r.each(e,function(e){"success"===e.result?t.push({id:e.fileId,link:e.downloadLink,transaction:e.transaction[0]}):i.push({id:e.fileId})}),[t,i]},handleLicensingResult:function(e,t){e.length&&!t.length?this.app.observer.fire("Notification",{type:"success",description:c.SuccessfullyLicensed}):this.showSummary(e,t)},handleLicensingResultAndDownload:function(e){1===this.files.length?e.length?y.singleDownload(this.app,r.first(e).link):this.app.observer.fire("Notification",{type:"error"}):y.sendFiles(this.app,e.map(function(e){return e.transaction.transactionId}),"transaction",{showModal:!0,errorCallback:this.onGeneralError.bind(this)})},onLicenseSuccess:function(e,t){if(this.$("._buttons").trigger("loaded"),"success"===t.status){this.app.user.fetch();var i=this.parseLicensingResult(t.result),n=i[0],o=i[1];this.downloadAfterLicensing?this.handleLicensingResultAndDownload(n,o):this.handleLicensingResult(n,o),this.trackSuccessLicense(e,n),this.onLicenseSuccessCallback(n,this.collection.serialize(),e.serialize(),this.downloadAfterLicensing)}},trackSuccessLicense:function(e,t){var i=this;void 0===t&&(t=[]);var n={id:"",size:"",route:this.app.router.routeName,cost_type:"enterprise",view:this.name},o=e.get("licensing");t.forEach(function(e){var t=o.findWhere({licenseId:e.transaction.license});i.app.observer.broadcast("Track:UE:File:License",Object.assign(n,{id:e.id,size:t.get("size"),file:i.collection.get(e.id)}))})},onLicenseSuccessCallback:function(){}});Object.assign(C.prototype,w),e.exports=C},function(e,t,i){"use strict";var n=i(1308),o=i(1524),s=i(922);e.exports={sendFiles:function(e,t,i,o){void 0===t&&(t=[]),void 0===i&&(i="transaction"),void 0===o&&(o={}),o.showModal&&this.showModal(e);var s=new n({transactions:t,type:i},{app:e});o.errorCallback&&s.on("error",function(e,t){return o.errorCallback(t.errors)}),o.onSuccess&&s.on("sync",function(e,t){return o.onSuccess(t)}),s.save()},singleDownload:function(e,t){s.downloadByUrl({app:e,link:t})},showModal:function(e){new o({app:e}).show()}}},function(e,t,i){"use strict";var n=i(12);e.exports={initSocialButtons:function(e){var t=this,i=this.app.user.isLoggedIn()?"-"+this.convertBaseNumber(this.app.user.get("id")):"";this.$("._share-button").each(function(n,o){var s=o.getAttribute("data-social"),r=e.shareData.title||o.getAttribute("data-title"),a=e.shareData.description||o.getAttribute("data-description"),l=t.getCustomSocialRedirectUrl({socialSuffix:e.socialNameMap[s],refId:i,element:o});switch(s){case"facebook":o.href=t.app.makeUrl("facebookSharer",{query:{u:l,title:r,description:a,caption:t.app.host,picture:e.shareData.image}});break;case"twitter":o.href=t.app.makeUrl("twitterSharer",{query:{url:l,via:"depositphotos",text:r+" #stock #photo"}});break;case"pinterest":o.href=t.app.makeUrl("pinterestSharer",{query:{url:l,media:e.shareData.image,description:r}});break;case"vk":o.href=t.app.makeUrl("vkSharer",{query:{url:l,title:r,description:a,image:e.shareData.image}});break;default:o.href=""}})},convertBaseNumber:function(e){return parseInt(e,10).toString(36)},getCustomSocialRedirectUrl:function(e){return this.getSocialRedirectUrl?this.getSocialRedirectUrl(e):this.getDefaultSocialRedirectUrl(e)},getDefaultSocialRedirectUrl:function(e){var t=this.convertBaseNumber(""+e.socialSuffix+this.model.get("id"));return n.urlFormat({protocol:this.app.parsedUrl.protocol,host:this.app.host,pathname:"/v/"+t+e.refId})},onShareButtonClick:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget,i=e.currentTarget.getAttribute("data-width"),n=e.currentTarget.getAttribute("data-height"),o="\n\t\t\ttop="+(screen.height/2-n/2).toFixed(0)+",left="+(screen.width/2-i/2).toFixed(0)+",width="+i+",height="+n+",resizable=yes,\n\t\t\tscrollbars=no,status=yes,location=no";window.open("about:blank",t.getAttribute("data-title"),o).location.href=t.href}}},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(677).FileViewModals,r=i(1582),a=i(919),l=i(1004),c=i(69),d=i(501),u=i(1317),h=i(1288),p=i(581);e.exports=a.extend({name:"ZoomModal",template:r,model:null,draggable:!1,destroyOnHide:!0,overlayOpacity:.92,reserve:{mobile:{width:24,height:18},desktop:{width:50,height:90}},dimensions:{},placeholderSRC:null,showDownloadButton:!1,enableListThroughNavigation:!0,events:Object.assign({},a.prototype.events,{"click ._download":"onDownloadClick","click ._zoom-prev":"onZoomPrev","click ._zoom-next":"onZoomNext","click ._img":"handleImageClick","touchstart ._modal":"handleModalTouchStart","touchmove ._modal":"handleModalTouchMove","touchend ._modal":"handleModalTouchEnd"}),globals:Object.assign({},a.prototype.globals,{keyup:"onKeyup","orientationchange window":"handleWindowOrientationChange"}),initialize:function(){Object.assign(this,h);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.prototype.initialize.apply(this,t),this.shouldHideTitle=s(this.app).shouldHideTitle,this.listenTo(this.model,"change",this.render)},prepareRender:function(){a.prototype.prepareRender.call(this),this.id=this.model.get("id"),this.dimensions=c.getThumbSizes(this.model.serialize(),"video"!==this.model.get("type")?"max":"huge"),this.navigation={left:this.enableListThroughNavigation&&!this.isFirstItem(this.id),right:this.enableListThroughNavigation&&!this.isLastItem(this.id)},this.model&&"video"===this.model.get("type")?this.setView("._wrap",new l({app:this.app,file:this.model,controls:!1,blackBackground:!0})):this.views["._wrap"]&&this.views["._wrap"].remove()},serialize:function(){return{file:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},p.injectFilesSEOMeta(this.app,this.model.serialize()),{src:this.makePlaceholderSRC(),preload:this.model.makeThumb("video"!==this.model.get("type")?"max":"huge"),type:this.model.get("type")}),navigation:this.navigation,modalClasses:this.modalClasses,dimensions:this.dimensions,showDownloadButton:this.showDownloadButton,opacity:[],lockInnerScroll:this.lockInnerScroll,shouldHideTitle:this.shouldHideTitle}},makePlaceholderSRC:function(){return this.placeholderSRC?this.placeholderSRC:this.model.makeThumb(this.isHugeImageVectorThumb()?"max":"huge")},hide:function(){this.zoomHideCallback(this.model);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.prototype.hide.apply(this,t)},canNavigate:function(){return"body"===document.activeElement.tagName.toLowerCase()},getModalRegisterId:function(){return{id:this.name}},clientAfterRender:function(){u(this.$("img.modal__zoom-image")),this.zoomShowCallback(this.model.get("id"));for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.prototype.clientAfterRender.apply(this,t),this.setModalSize(),this.app.user.isLoggedIn()||this.app.observer.broadcast("Track:UE:ZoomModal:DownloadShow",{id:this.id}),this.app.observer.broadcast("Track:UE:Zoom:Show",{file:this.model}),this.placeholderSRC=null,this.afterRenderCallback(this.model.id)},onShowCallback:function(){this.app.history.write({route:"FileViewZoomModal"})},onHideCallback:function(){this.app.history.write({route:this.app.router.routeName})},onWindowResize:function(){this.app.device.isMobile&&!this.shouldResize||(this.setModalSize(),this.shouldResize=!1)},onDownloadClick:function(e){e.stopPropagation(),this.app.observer.broadcast("Track:UE:ZoomModal:DownloadClick",{id:this.id}),this.app.observer.broadcast("Track:UE:Zoom:Click",{type:"Download"}),this.onHide(),this.onDownloadCallback(e,this.model)},onZoomPrev:function(e){e.stopPropagation(),this.app.observer.broadcast("Track:UE:Zoom:Click",{type:"Prev",file:this.model}),this.leftNavigation(e)},onZoomNext:function(e){e.stopPropagation(),this.app.observer.broadcast("Track:UE:Zoom:Click",{type:"Next",file:this.model}),this.rightNavigation(e)},handleImageClick:function(){this.app.device.isMobile||this.onHide()},handleWindowOrientationChange:function(){this.shouldResize=!0},handleModalTouchStart:function(e){this.$modal=this.$("._modal"),this.$overlay=this.$("._overlay"),this.touch={time:Date.now(),isZoom:window.innerWidth!==(document.documentElement.clientWidth||document.body.clientWidth),fingers:e.originalEvent.touches.length,startPositionY:e.originalEvent.touches[0].pageY,endPositionY:e.originalEvent.touches[0].pageY,opacity:this.$overlay[0].style.opacity},this.$modal.removeAttr("style")},handleModalTouchMove:function(e){if(!(this.touch.fingers>1||this.touch.isZoom)){e.preventDefault();var t=e.originalEvent.touches[0].pageY,i=t-this.touch.startPositionY;this.$modal.css({transform:"translateY("+i+"px)"}),this.$overlay.css({opacity:Math.max(1-Math.abs(i)/100,.8)}),this.touch.endPositionY=t}},handleModalTouchEnd:function(){var e=this;if(1===this.touch.fingers&&!this.touch.isZoom){var t=this.touch.endPositionY-this.touch.startPositionY,i=t>0?1:-1,n=Date.now()-this.touch.time;this.$modal.css({transition:"transform 0.2s"}),Math.abs(t)>=100||n<=200?(this.$modal.css({transform:"translateY("+i*window.innerHeight+"px)"}),setTimeout(function(){e.onHide()},Math.abs(t)?200:0)):(this.$modal.css({transform:"unset"}),this.$overlay.css({opacity:this.touch.opacity}))}},getReserve:function(e){return d.mobileMode()?this.reserve.mobile[e]:this.reserve.desktop[e]},resetZoom:function(){var e=document.querySelector("meta[name=viewport]"),t=e.getAttribute("content");e.setAttribute("content",t+", maximum-scale=1.0, minimum-scale=1.0"),e.setAttribute("content",t)},setModalSize:function(){this.app.device.isMobile&&this.resetZoom();var e=this.dimensions.w+this.getReserve("width"),t=this.dimensions.h+this.getReserve("height"),i=this.dimensions.w,n=this.dimensions.h;if(e>window.innerWidth||t>window.innerHeight){var o=window.innerWidth-this.getReserve("width"),s=Math.floor(o*this.dimensions.h/this.dimensions.w),r=window.innerHeight-this.getReserve("height"),a=Math.floor(r*this.dimensions.w/this.dimensions.h);o+this.getReserve("width")<=window.innerWidth&&s+this.getReserve("height")<=window.innerHeight?(i=o,n=s):(i=a,n=r)}if(!(i<=this.getReserve("width")||n<=this.getReserve("height"))){if(this.isHugeImageVectorThumb()){var l=Math.ceil(100/(this.dimensions.h/n));this.$("._body").width(i).height(n-l)}else this.$("._body").width(i).height(n);this.$("._wrap").width(i).height(n),this.$el.toggleClass("modal-zoom-compact",window.innerWidth-i<=200),this.$("._caption").width(i)}},isHugeImageVectorThumb:function(){return this.model.get("hasHugeImageThumb")||this.model.get("hasHugeVectorThumb")},onDownloadCallback:function(){},zoomShowCallback:function(){},zoomHideCallback:function(){},zoomLeftCallback:function(){},zoomRightCallback:function(){}})},,,,,,,,,function(e,t,i){var n,o,s;o=[i(104),i(674)],void 0===(s="function"==typeof(n=function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,o,s;for(s=0;null!=(o=i[s]);s++)try{(n=e._data(o,"events"))&&n.remove&&e(o).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,s,r,a={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(r=new i).options=e.widget.extend({},r.options),e.each(n,function(t,n){e.isFunction(n)?a[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function o(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}():a[t]=n}),s.prototype=e.widget.extend(r,{widgetEventPrefix:o&&r.widgetEventPrefix||t},a,{constructor:s,namespace:l,widgetName:t,widgetFullName:c}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var n,o,s=i.call(arguments,1),r=0,a=s.length;r<a;r++)for(n in s[r])o=s[r][n],s[r].hasOwnProperty(n)&&void 0!==o&&(e.isPlainObject(o)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],o):e.widget.extend({},o):t[n]=o);return t},e.widget.bridge=function(t,n){var o=n.prototype.widgetFullName||t;e.fn[t]=function(s){var r="string"==typeof s,a=i.call(arguments,1),l=this;return r?this.length||"instance"!==s?this.each(function(){var i,n=e.data(this,o);return"instance"===s?(l=n,!1):n?e.isFunction(n[s])&&"_"!==s.charAt(0)?(i=n[s].apply(n,a))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):l=void 0:(a.length&&(s=e.widget.extend.apply(null,[s].concat(a))),this.each(function(){var t=e.data(this,o);t?(t.option(s||{}),t._init&&t._init()):e.data(this,o,new n(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,s,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},t=(n=t.split(".")).shift(),n.length){for(o=r[t]=e.widget.extend({},this.options[t]),s=0;s<n.length-1;s++)o[n[s]]=o[n[s]]||{},o=o[n[s]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,o;for(i in t)o=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&o&&o.length&&(n=e(o.get()),this._removeClass(o,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var i=[],n=this;function o(o,s){var r,a;for(a=0;a<o.length;a++)r=n.classesElementLookup[o[a]]||e(),r=t.add?e(e.unique(r.get().concat(t.element.get()))):e(r.not(t.element).get()),n.classesElementLookup[o[a]]=r,i.push(o[a]),s&&t.classes[o[a]]&&i.push(t.classes[o[a]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&o(t.keys.match(/\S+/g)||[],!0),t.extra&&o(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,o){-1!==e.inArray(t.target,o)&&(i.classesElementLookup[n]=e(o.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var o="string"==typeof e||null===e,s={extra:o?t:i,keys:o?e:t,element:o?this.element:e,add:n};return s.element.toggleClass(this._classes(s),n),this},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,r){function a(){if(t||!0!==s.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?s[r]:r).apply(s,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,d=l[2];d?o.on(c,d,a):i.on(c,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var o,s,r=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(r)&&!1===r.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){var r;"string"==typeof o&&(o={effect:o});var a=o?!0===o||"number"==typeof o?i:o.effect||i:t;"number"==typeof(o=o||{})&&(o={duration:o}),r=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),r&&e.effects&&e.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}}),e.widget})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){"use strict";var n=i(0),o=i(4);e.exports=o.extend({url:"Promocode",defaults:{code:""},validation:{code:{required:!0,msg:!0,maxLength:32}},getQueryParams:function(){return this.toJSON()},parse:function(e){return e.errors&&n.size(e.errors)&&(this.validationError=e.errors,this.trigger("invalid",this,this.prepareError(e.errors))),{}},prepareError:function(e){return n.map(e,function(e){return{code:e.error_message}})}})},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(676),r=i(120);e.exports=s.extend({relations:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},s.prototype.relations,{product:r}),defineReBillStatus:function(e){e.product_type;var t=e.count;return null!=this.get("reBill")?this.get("reBill"):this.rebillAvailable()&&t>1}})},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(676),r=i(116);e.exports=s.extend({relations:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},s.prototype.relations,{product:r}),getTotalImagesCount:function(){var e=this.get("product");return e.isInstallment()?parseInt(e.get("installment").get("periodsCount")*e.get("count"),10):parseInt(e.get("period")/e.get("buy_period")*e.get("count"),10)}})},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(676),r=i(110);e.exports=s.extend({relations:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},s.prototype.relations,{product:r})})},function(e,t,i){"use strict";var n=i(534),o=i(1269),s=i(1270),r=i(0),a=i(13),l=i(496),c=i(531),d=i(565),u=i(671),h=l.extend({el:!1,template:o,isOpened:!1,destroyOnHide:!1,closeOnOverlayClick:!0,overlayOpacity:null,overlayBgColor:null,closeOnEscapeBtn:!0,lockInnerScroll:!1,single:!1,draggable:!1,noBorder:!1,showHeader:!0,showTitle:!0,leftBtn:!1,rightBtn:!1,zIndex:4e3,modalClasses:"",bodyClasses:"",title:"",lockBodyScroll:!0,body:[],escKeys:[n.esc],footer:[{selector:"",label:"OK",color:"blue",hide:!0,defaultAction:!0,callback:function(){}}],events:{"click ._overlay":"onOverlayClick","click ._close":"onCloseClick","click ._btn":"onModalButtonClick","click ._left-arrow-button":"onLeftArrowClick","click ._right-arrow-button":"onRightArrowClick"},globals:{keypress:"onKeypress","resize window":"onWindowResize"},initialize:function(){this.showHeader||(this.showTitle=!1),this.listenTo(this.app.observer,"Modal:HideAll",this.observeHideAll.bind(this))},getOverlaySchema:function(){return[{key:"opacity",value:this.overlayOpacity},{key:"background-color",value:this.overlayBgColor}]},getOverlayStyle:function(){return this.getOverlaySchema().filter(function(e){return null!==e.value}).map(function(e){return e.key+": "+e.value}).join("; ")},setOverlay:function(){var e=l.extend({name:"ModalOverlay",el:!1,template:s,styleString:this.getOverlayStyle(),serialize:function(){return{styleString:this.styleString}}});this.setView(new e,!0)},prepareRender:function(){this.setOverlay(),this.fillModalBody()},serialize:function(){return{modalClasses:this.modalClasses,bodyClasses:this.bodyClasses,noBorder:!!this.noBorder,showTitle:this.showTitle,showHeader:this.showHeader,title:this.title,footer:this.footer,leftBtn:this.leftBtn,rightBtn:this.rightBtn,lockInnerScroll:this.lockInnerScroll}},clientAfterRender:function(){this.setZindex(),this.draggable&&this.enableDraggable(),this.footer.length&&(c(this.$el.find("._footer"),a.$),d(this.$("._btn")))},fillModalBody:function(){!this.body.length&&"function"!=typeof this.body||this.getView("._body")||this.setViews({"._body":"function"==typeof this.body?this.body():this.body})},getModalRegisterId:function(){return{id:this.cid}},show:function(e){var t=this;void 0===e&&(e={}),this.app.observer.fire("Tooltip:GlobalHide",{cid:"all"}),this.single&&this.app.observer.fire("Modal:HideAll",{cid:this.cid}),{}.hasOwnProperty.call(e,"shouldTrackModalShow")||(e.shouldTrackModalShow=!0),Object.assign(this,e),this.isOpened||this.beforeShowCallback(),this.lockBodyScroll&&this.bodyScrollLock(),this.render().promise().then(function(){t.onShowCallback(),t.isOpened=!0})},hide:function(){this.isOpened&&(this.onHideCallback(this),this.$el.remove(),this.undelegateEvents(),this.isOpened=!1,this.bodyScrollUnlock(),this.destroyOnHide&&this.remove(),this.onAfterHideCallback())},onCloseClick:function(e){e.stopPropagation(),this.onHide()},onOverlayClick:function(e){e.stopPropagation(),this.closeOnOverlayClick&&e.target===e.currentTarget&&this.onHide()},onModalButtonClick:function(e){e.stopPropagation(),e.preventDefault(),this.executeButtonAction(e.currentTarget)},onKeypress:function(e){if(this.isOpened&&"textarea"!==e.target.tagName.toLowerCase()&&e.keyCode===n.enter){var t=this.footer.find(function(e){return!0===e.defaultAction});this.executeButtonAction(t)}},executeButtonAction:function(e){var t=this.footer[a.$(e).index()];r.isObject(t)&&(r.isFunction(t.callback)&&t.callback(this,e),r.isFunction(this[t.callback])&&this[t.callback](this,e),t.hide&&this.onHide())},onTouchEndCallback:function(e){e.stopPropagation(),this.onHide()},observeHideAll:function(e){e.cid!==this.cid&&this.onHide()},setZindex:function(){this.$el.css({zIndex:this.zIndex})},enableDraggable:function(){var e=this;u.initDragNDrop(),this.$el.find("._modal").draggable({handle:"._drag-handler",scroll:!1,create:function(t,i){e.$el.addClass("modal-container_lock-scroll")}})},isOpen:function(){return this.isOpened},bodyScrollLock:function(){this.setScrollGlitchSuppressor(),this.enableScrollCompensator(),a.$("html, body").addClass("lock-scroll")},bodyScrollUnlock:function(){this.removeScrollGlitchSuppressor(),this.disableScrollCompensator(),a.$("html, body").removeClass("lock-scroll")},enableScrollCompensator:function(){if(!(a.$(document).height()<=a.$(window).height())){var e=a.$(document.body),t=a.$(document.head),i=a.$('<div style="width: 100%; height: 50px; overflow: scroll;">').appendTo("body"),n=i[0].offsetWidth-i[0].clientWidth;i.remove(),n>0&&(t.append('<style data-id="scroll-compensator" type="text/css">\n\t\t\t\t\t.scroll-compensator {\n\t\t\t\t\t\tpadding-right: '+n+"px;\n\t\t\t\t\t}\n\t\t\t\t</style>"),document.documentElement.style.setProperty("--scroll-holder-width",n+"px",""),e.addClass("scroll-compensator"))}},disableScrollCompensator:function(){a.$('[data-id="scroll-compensator"]').remove(),a.$(document.body).removeClass("scroll-compensator"),document.documentElement.style.setProperty("--scroll-holder-width","0","")},getFixedHeightRules:function(){return"height: "+a.$(document).height()+"px !important;"},setScrollGlitchSuppressor:function(){var e=a.$(document.body);a.$(document.head).append('<style data-id="fixed-height" type="text/css">\n\t\t\t\t.fixed-height {\n\t\t\t\t\t'+this.getFixedHeightRules()+"\n\t\t\t\t}\n\t\t\t</style>"),e.addClass("fixed-height")},removeScrollGlitchSuppressor:function(){a.$('[data-id="fixed-height"]').remove(),a.$(document.body).removeClass("fixed-height")},onHide:function(){},onWindowResize:function(){},beforeShowCallback:function(){},onShowCallback:function(){},onHideCallback:function(){},onLeftArrowClick:function(){},onRightArrowClick:function(){},onAfterHideCallback:function(){},onAnimationComplete:function(){}});e.exports=h},function(e,t,i){"use strict";var n=i(16),o=i(496),s=i(1465);e.exports=o.extend({name:"BaseProduct",el:!1,serializeParams:{},useRebillMixin:!1,originalEvents:{"mouseenter ._help":"showHelpTooltip","mouseleave ._help":"hideHelpTooltip","mouseenter ._info":"showInfoTooltip","mouseleave ._info":"hideInfoTooltip"},additionalEvents:{},countries:[],userGroupInfo:void 0,showRebillDiscount:!0,initialize:function(){this.useRebillMixin&&Object.assign(this,s),this.statuses={active:this.tr("Active"),ended:this.tr("Ended"),blocked:this.tr("Blocked"),expired:this.tr("Expired"),pending:this.tr("Pending"),rejected:this.tr("Rejected"),waitingRebill:this.tr("Waiting for Rebill")}},events:function(){return Object.assign({},this.originalEvents,this.additionalEvents)},prepareRender:function(){this.useRebillMixin&&this.initRebillProduct()},serialize:function(){var e=this.app.user.serialize(),t=Object.assign({},this.product);return Object.assign({},{user:e,product:t,showRebillDiscount:this.showRebillDiscount,showWaitingRebill:"waitingRebill"===this.product.status,needToShowHelpTooltip:this.needToShowHelpTooltip(),labels:{base:this.getBaseLabel(),left:this.getLeftLabel(),expires:this.getExpiresLabel(),status:"active"===this.product.status?"":this.getStatusLabel(),splitCount:this.getSplitCountLabel(),renew:this.getRenewLabel(),daysLeft:this.getDaysLeft(),license:this.getLicenseLabel(),licenseType:this.getLicenseTypeLabel(),curated:this.getCuratedLabel()},content:this.getProductContent()},this.getAdditionalSerializeParams())},getAdditionalSerializeParams:function(){return this.serializeParams},getProductContent:function(e){void 0===e&&(e=this.product);var t={type:e.type,title:this.getBaseLabel(e),info:[{key:"left",value:this.getLeftLabel(e)}],action:this.tr("Buy More")};return["subscription"].includes(e.type)&&t.info.push({key:"renew",value:this.getRenewLabel(e)}),"membership"!==e.type&&"subscription"!==e.type&&t.info.push({key:"expires",value:this.getExpiresLabel(e)}),"membership"!==e.type&&e.split_count>0&&t.info.push({key:"splitCount",value:this.getSplitCountLabel(e)}),t},getStatusLabel:function(e){return void 0===e&&(e=this.product),this.tr("Status")+": <b>"+this.statuses[e.status]+"</b>"},getBaseLabel:function(e){return void 0===e&&(e=this.product),this.tr(e.baseLabel)},getLeftLabel:function(e){void 0===e&&(e=this.product);var t=n.productLeftLabels.find(function(t){return t.type===e.type}).label;return this.tr(t,e.left)},getSplitCountLabel:function(e){void 0===e&&(e=this.product);var t=n.productSplitCountLabels.find(function(t){return t.type===e.type});return t?this.tr(t.label):""},initRebillProduct:function(){},getExpiresLabel:function(){},getRenewLabel:function(){},getDaysLeft:function(){},getCuratedLabel:function(){},getLicenseLabel:function(){},getLicenseTypeLabel:function(){},needToShowHelpTooltip:function(){},showHelpTooltip:function(){},hideHelpTooltip:function(){},showInfoTooltip:function(){},hideInfoTooltip:function(){}})},function(e,t,i){"use strict";var n=i(16),o=i(920);e.exports=o.extend({name:"ImagePack",getExpiresLabel:function(e){void 0===e&&(e=this.product);var t=n.productExpiresLabels.find(function(t){return t.type===e.type}).label;return this.tr(t)}})},function(e,t,i){"use strict";var n=i(0),o=i(13),s=i(67);e.exports={downloadByUrl:function(e){e.app.device.isMobile?(n.isFunction(e.callback)&&e.callback(),e.app.router.redirect(e.link)):this.initIFrame(e)},initIFrame:function(e){var t=this,i="u"+Math.random(),s=o.$("<iframe />",{class:"invisible","data-uuid":i});o.$("body").append(s),s.attr({src:e.link+(-1!==e.link.indexOf("?")?"&":"?")+"uuid="+i}),n.isObject(this.iframeLoaderData)||(this.iframeLoaderData={}),this.iframeLoaderData[i]={$iframe:s,callback:e.callback,toDelete:!1,errors:!1},s.on("load.priceTable",function(e){var i=e.currentTarget.getAttribute("data-uuid");t.iframeLoaderData[i].toDelete=!0,t.iframeLoaderData[i].errors=!0}),this.iFrameDaemon()},iFrameDaemon:function(){var e=this;!function t(){return clearTimeout(e.iframeLoaderId),!o.$.isEmptyObject(e.iframeLoaderData)&&(n.each(e.iframeLoaderData,function(t,i){t.toDelete?(t.callback&&n.isFunction(t.callback)&&t.callback(!t.errors),setTimeout(function(e){e.remove()}.bind(e,e.iframeLoaderData[i].$iframe),6e4),delete e.iframeLoaderData[i],s.set(i,"",{path:"/",expires:new Date})):s.get(i)===i&&(t.toDelete=!0)},e),e.iframeLoaderId=setTimeout(t,1e3),!0)}()}}},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(1555),i(1556),i(1557);var r=i(739),a=i(1312),l=i(1559),c=i(69),d=i(1313),u=i(726),h=i(671),p=i(581),f=["normalSquare","big","wide","xwide","huge","large","max"],m=u.extend({name:"ConfigurableFilesList",el:!1,collection:null,template:l,layout:"wide",draggableOptions:{},scale:1,maxRows:2,thumbListHolderWidth:1200,isTitleInside:!1,isCartBtnEnabled:!0,isFavoriteBtnEnabled:!0,isSimilarBtnEnabled:!1,isZoomBtnEnabled:!1,isPanoramasImproveEnabled:!0,displaySeeMoreAsThumb:!1,shouldShowFreeLabel:!1,shouldShowVideoLength:!1,lazyLoadOptions:{},isSlidable:!1,sliderParams:{},makeLikeGrid:!1,isEditableFolder:!1,panoramasWidthToHeightMax:4,events:o({},u.prototype.events,{"click ._see-more":"handleSeeMoreClick","contextmenu ._thumb-link":"handleContextMenu","click ._thumb-link":"handleFileClick","mouseup ._thumb-link":"handleFileMouseup"}),initialize:function(){if(this.vanillaLazyload=h.initLazyLoad(),!f.includes(this.layout))throw new Error("Layout: "+this.layout+" is not supported!");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];u.prototype.initialize.apply(this,t),this.applyPropsAutoCorrection(),this.setFileEventsListeners(),this.listenTo(this.collection,"update reset",this.render)},applyPropsAutoCorrection:function(){this.isTitleInside="normalSquare"!==this.layout,this.maxRows=Math.max(Math.min(this.maxRows,4),1)},serialize:function(){this.serialized=this.serializeItems();var e=this.getSettingsData()||{};return{layout:this.layout,items:this.serialized,itemsData:this.makeLikeGrid?this.makeLikeGridDataSheet():this.makeRenderDataSheet(),classes:{list:a({"flex-files_wide":"wide"===this.layout,"flex-files_square":"normalSquare"===this.layout,"flex-files_xwide":"xwide"===this.layout,"flex-files_like-grid":this.makeLikeGrid,"flex-files_mobile":this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")}),slider:a({"files-slider":!0,"files-slider_enabled":this.shouldEnableSlider()})},styles:{list:this.makeListStyles()},shouldShowFreeLabel:this.shouldShowFreeLabel,shouldShowVideoLength:this.shouldShowVideoLength&&e.videoLength,isTitleInside:this.isTitleInside,isCartBtnEnabled:!this.app.user.isEnterprise()&&this.isCartBtnEnabled,isFavoriteBtnEnabled:this.isFavoriteBtnEnabled,isSimilarBtnEnabled:this.isSimilarBtnEnabled,isZoomBtnEnabled:this.isZoomBtnEnabled&&!e.linkTarget,isEditableFolder:this.isEditableFolder,settings:e}},clientAfterRender:function(){this.vanillaLazyload.update(),this.shouldEnableSlider()&&this.experimentalSliderPlug(),this.clientAfterRenderCallback()},getThumbGutter:function(){return"wide"===this.layout?12:17},makeListStyles:function(){return this.shouldEnableSlider()?"width: "+this.getItemsFullWidth()+"px;":1===this.maxRows?"":"max-height: "+((this.renderStats.averageThumbHeight+this.renderStats.averageCroppedThumbHeight)/2+this.getThumbGutter())*this.maxRows+"px;"},serializeItems:function(){var e=this,t=this.shouldEnableLazyLoad(),i=this.shouldDisplaySeeMore(),n=!0,o="",s=(i?this.collection.first(8):this.collection.models).map(function(i,s){o||(o=i.get("type")),o!==i.get("type")&&(n=!1);var r=i.toSearchResult();return r.lazyload={enabled:t&&s>=e.lazyLoadOptions.offset,dataSrc:r.thumbs[e.layout]},r});if(i){var r=this.makeSeeMoreData()||{};Object.assign(s[s.length-1],{seeMoreData:r,url:r.url})}return p.injectFilesSEOMeta(this.app,s,n)},calculatedDimensions:function(){var e=this;return this.serialized.length?this.serialized.map(function(t){var i=(c.config[t.type]||c.config.image)[e.layout],n=c.getThumbSizes(t,e.layout);return{id:t.id,thumb:c.calculateSize(t,i),w:n.w,h:n.h}}):[]},makeRenderStats:function(){this.dimensions=this.calculatedDimensions();var e={totalThumbWidth:0,totalThumbHeight:0,totalCroppedThumbWidth:0,totalCroppedThumbHeight:0,averageThumbWidth:0,averageThumbHeight:0,averageCroppedThumbWidth:0,averageCroppedThumbHeight:0};if(!this.dimensions.length)return e;for(var t=0;t<this.dimensions.length;t+=1)e.totalThumbWidth+=this.dimensions[t].thumb.w,e.totalThumbHeight+=this.dimensions[t].thumb.h,e.totalCroppedThumbWidth+=this.dimensions[t].w,e.totalCroppedThumbHeight+=this.dimensions[t].h;return e.averageThumbWidth=e.totalThumbWidth/this.dimensions.length*this.scale,e.averageThumbHeight=e.totalThumbHeight/this.dimensions.length*this.scale,e.averageCroppedThumbWidth=e.totalCroppedThumbWidth/this.dimensions.length,e.averageCroppedThumbHeight=e.totalCroppedThumbHeight/this.dimensions.length,e},makeLikeGridDataSheet:function(){var e=this.calculatePanoramasRatio(),t=200*e;return this.serialized.reduce(function(i,n){var o=n.width/n.height,s=Math.round(o*t);return i[n.id]={width:s,height:t,styles:"width:"+s+"px; width:calc("+(o*e).toFixed(3)+" * var(--grid-row-height)); flex-grow:"+(10*o).toFixed(2),linkStyles:"padding-bottom:"+n.height/n.width*100+"%;",classes:{box:s<150?"file-container_small":"",link:"file-container__link"}},i},{})},calculatePanoramasRatio:function(){var e=this,t=0;return this.serialized.forEach(function(i){var n=i.width/i.height;if(n>2.5){if(t+=1,n>e.panoramasWidthToHeightMax&&(i.width=i.height*e.panoramasWidthToHeightMax),!e.isPanoramasImproveEnabled)return;i.lazyload.enabled?i.lazyload.dataSrc=i.thumbs.large:i.lazyload={enabled:!0,src:i.thumbs[e.layout],dataSrc:i.thumbs.large}}}),1-t/this.serialized.length/2.75},makeRenderDataSheet:function(){var e=this;return this.renderStats=this.makeRenderStats(),this.dimensions.reduce(function(t,i){var n={width:110,height:110,styles:"",classes:{box:"_slider-item",link:"file-container__link"}};if("normalSquare"!==e.layout){n.classes.box="file-container_grow _slider-item",n.classes.link="file-container__link",n.styles="min-width: 160px;",n.width=i.w;var o=(e.renderStats.averageThumbHeight+e.renderStats.averageCroppedThumbHeight)/2;n.height=parseInt(o,10)}return t[i.id]=n,t},{})},experimentalSliderPlug:function(){var e=this.insertView("slider",new r(o({app:this.app},this.sliderParams)));e.el=this.el,e.$el=this.$el,e.delegateEvents(),e.clientAfterRender()},getItemsFullWidth:function(){return(this.renderStats.totalThumbWidth+this.renderStats.totalCroppedThumbWidth)/2},shouldDisplaySeeMore:function(){return!(this.collection.length<8)&&this.displaySeeMoreAsThumb},shouldEnableSlider:function(){if(!this.isSlidable||this.app.ampEnabled||!this.collection.length)return!1;var e=this.getItemsFullWidth();return 4!==this.maxRows&&e>this.thumbListHolderWidth&&e<this.thumbListHolderWidth*this.maxRows},shouldEnableLazyLoad:function(){return this.lazyLoadOptions.enabled&&!this.app.ampEnabled},onFileMouseEnter:function(e){var t=this;if(this.showFilePreview(e),this.draggableOptions.enabled){var i=this.$(e.currentTarget);i.data("ui-draggable")||d(i,this,{helperOptions:{app:this.app,mode:this.draggableOptions.mode,defaults:this.getDraggableData.bind(this),getModel:function(){return t.collection.get(parseInt(i.data("id"),10)).toSearchResult()}}})}},getDraggableData:function(){return{layout:this.layout,itemsData:this.makeLikeGrid?this.makeLikeGridDataSheet():this.makeRenderDataSheet(),settings:{},layoutClasses:a({"flex-files_like-grid":this.makeLikeGrid})}},onFileMouseLeave:function(){this.hideVideoPreview()},showFilePreview:function(e){var t=this.collection.get(e.currentTarget.getAttribute("data-id"));t&&this.isVideoFile(t)&&this.showVideoPreview({anchor:e.currentTarget,contentData:{file:t}})},handleFileMouseup:function(){},handleFileClick:function(){},handleSeeMoreClick:function(){},handleContextMenu:function(){},makeSeeMoreData:function(){},getSettingsData:function(){},showVideoPreview:function(){},hideVideoPreview:function(){},isVideoFile:function(){},clientAfterRenderCallback:function(){}});e.exports=m},function(e,t,i){"use strict";var n=i(1569);e.exports={showVideoPreview:function(e){void 0===e&&(e={});var t=this.$(e.anchor).find("._file-box-image");this.setView("videoPreview",new n({$mount:this.$(e.anchor).find("._file-box-holder"),$poster:t,width:t.outerWidth(),height:t.outerHeight(),file:e.contentData.file,app:this.app})).render()},hideVideoPreview:function(){this.getView("videoPreview")&&this.getView("videoPreview").remove()},isVideoFile:function(e){return"video"===e.get("type")}}},function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,o,s;o=[i(104),i(1272),i(674),i(914)],void 0===(s="function"==typeof(n=function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,s=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!s&&this._mouseCapture(i)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){"use strict";(function(t){var n=i(0),o=i(7),s=i(13),r=t.browser?i(74):null,a=i(40),l=i(539),c=i(733),d=3005,u=function(){function e(e){var t=this;this.app=e.app,this.lang=o.languages.default,this.model=new c([],{defaults:{code:null,accessToken:null,email:null,__utmz:null,signup_type:null,dp_unbounce_url:null,condition:!0}}),this.model.defaults=this.model.options.defaults,this.model.getRespErrors=function(e){return e.errors},this.model.set({__utmz:r.get("__utmz"),unbounce_url:r.get("unbounce_url"),signup_type:"download"===e.app.chain.name?"signup_download":"signup_direct"},{silent:!0}),s.listenTo(this.model,"sync",function(e,i){if(i&&!i.errors&&i.sessionid){var n=i.userid&&i.isNew?"Track:UE:SignUp:Success":"Track:UE:Login:Success";t.app.observer.broadcast(n,{userId:i.userid,action:"Social",label:"google"===t.actionName?"Google":"Facebook"}),t.onAuthCallback()}}),s.listenTo(this.model,"invalid error",function(i,n){var o=n.errors&&n.errors[0]||{};if(o.error_code===d){var s={data:i.attributes,callback:t.proceedWithAuthorisation.bind(t)};"google"===t.actionName&&(s.callback=function(){gauth2.grantOfflineAccess({redirect_uri:"postmessage"}).then(t.googleOnSuccess.bind(t)),t.setAccessCondition(function(){return!0}),t.app.observer.fire("SignUp:SocialEmailHide")}),t.app.observer.fire("SignUp:SocialConditionShow",s)}else o.error_message&&new l({app:t.app,title:"Login Error: "+o.error_code,message:o.error_message.replace("%s",e.app.makeUrl("contact_us"))}).show()})}var t=e.prototype;return t.setLang=function(e){this.lang=e||this.lang},t.setAccessCondition=function(e){this.accessCondition=e},t.injectFacebookScript=function(){var e=this;return new Promise(function(t){if("undefined"!=typeof FB)return e.listenToFacebookButton(),t();var i={en:"en_US",ru:"ru_RU",de:"de_DE",fr:"fr_FR",sp:"es_LA",it:"it_IT",pt:"pt_PT",pl:"pl_PL",nl:"nl_NL"},n=i[e.lang]?i[e.lang]:"en_US";return a({id:"facebook-jssdk",async:!0,src:"//connect.facebook.net/"+n+"/sdk.js"}),window.fbAsyncInit=function(){return FB.init({appId:o.social.facebook.appId,version:o.social.facebook.version,cookie:!0,logging:!o.isProduction,status:!0}),e.listenToFacebookButton(),t()},null})},t.listenToFacebookButton=function(){var e=this,t=document.getElementsByClassName("_social-facebook");"undefined"!=typeof FB&&t.length>0&&n.each(t,function(t){"string"!=typeof t.getAttribute("data-fb-init")&&t.addEventListener("click",e.executeFacebook.bind(e),!1),t.setAttribute("data-fb-init","")})},t.executeFacebook=function(){this.hasAccess()&&("undefined"==typeof FB?this.injectFacebookScript().then(this.executeFacebookLogin):this.executeFacebookLogin())},t.executeFacebookLogin=function(){var e=this;FB.login(function(t){t.authResponse&&t.authResponse.accessToken&&e.isFacebookEmailAllowed().then(function(i){var o=n.clone(t.authResponse);o.url="facebookLogin",e.actionName="facebook",i?e.proceedWithAuthorisation(o):e.socialFirstGetEmail(o)})},{scope:"email,publish_actions,public_profile,user_friends,user_hometown"})},t.socialFirstGetEmail=function(e){this.app.observer.fire("SignUp:SocialEmailShow",{data:e,callback:this.proceedWithAuthorisation.bind(this)})},t.isFacebookEmailAllowed=function(){return new Promise(function(e){try{FB.api(o.social.facebook.version+"//me/permissions",function(t){return t&&!t.error&&t.data&&t.data.forEach(function(t){return"email"===t.permission&&"granted"===t.status?e(!0):null}),e(!1)})}catch(t){return e(!1)}return null})},t.injectGoogleScript=function(){var e=this;return new Promise(function(t){var i={en:"en_US",ru:"ru",de:"de",fr:"fr",sp:"es",it:"it",pt:"pt_PT",pl:"pl",nl:"nl"},n=i[e.lang]?i[e.lang]:"en_US";return window.___gcfg={lang:n},"undefined"!=typeof gapi?(e.listenToGoogleButton(),t()):(a({async:!0,src:"https://apis.google.com/js/platform.js?onload=googleAsyncInit"}),window.googleAsyncInit=function(){return gapi.load("auth2",function(){window.gauth2=gapi.auth2.init({client_id:o.social.google.clientId,scope:"profile email"})}),e.listenToGoogleButton(),t()},null)})},t.listenToGoogleButton=function(){var e=this,t=document.getElementsByClassName("_social-google");"undefined"!=typeof gapi&&gapi.signin2&&t.length>0&&n.each(t,function(t){-1===t.id.search("google-login-")&&(t.id="google-login-"+Math.random(),t.addEventListener("click",function(){e.hasAccess()&&gauth2.grantOfflineAccess({redirect_uri:"postmessage"}).then(e.googleOnSuccess.bind(e))},!1))})},t.googleOnSuccess=function(e){this.actionName="google",this.proceedWithAuthorisation({url:"googleLogin",code:e.code})},t.proceedWithAuthorisation=function(e){this.model.url=e.url,this.model.set(Object.assign({condition:"function"==typeof this.accessCondition&&this.accessCondition()},e),{silent:!0}),this.model.fetch(),this.app.observer.fire("SignUp:SocialEmailHide")},t.socialLogout=function(e){this.model.url=e+"Logout",this.model.fetch()},t.hasAccess=function(){return!("function"==typeof this.accessCondition&&!this.accessCondition())},t.onAuthCallback=function(){this.app.chain.tempUserAfterLoginCommonLogic()},e}();e.exports=u}).call(this,i(17))},function(e,t,i){"use strict";var n=i(65),o=function(e){function t(t){var i;return(i=e.call(this,t)||this).title=i.tr("Promotion Code"),i.message=t.message||"",i.footer=[{label:n.OkBtn,hide:!0,color:"blue",defaultAction:!0,callback:function(){return i.def.resolve(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i))}}],i}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(i(539));e.exports=o},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(0),r=i(2),a=i(7),l=i(498),c=i(1293),d=i(65),u=i(68).captchaErrors,h=i(1294),p=i(1472),f=i(1473),m=i(496),g=i(497),b=i(805),v=i(558),_=i(646),w=i(722),y=s.range(1,13),x=".g-recaptcha-response";i(1474),i(1475);var C=m.extend({name:"MerchantCardManager",el:!1,template:h,useSaved:!1,useSavedState:!1,classNames:"",expireFields:["expiryMonth","expiryYear","expiry"],events:{"focusin input":"onFieldFocusIn","focusin select":"onFieldFocusIn",'focusin [name="expiryMonth"]':"onExpiryFocusIn",'focusin [name="expiryYear"]':"onExpiryFocusIn","mouseenter ._lock":"onLockMouseEnter","mouseleave ._lock":"onLockMouseLeave","mouseenter ._card-helper":"onCardHelperMouseEnter","mouseleave ._card-helper":"onCardHelperMouseLeave","input ._cardPan":"onCardPanInput","change ._cardPan":"onCardChange","change ._expiryMonth":"onSelectChange","change ._expiryYear":"onSelectChange","input ._cvv":"onRegularFieldChange","focusin ._field":"handleUpdateFieldFocus","focusout ._field":"handleUpdateFieldFocus","change ._field":"onUpdateField","keyup ._field":"onUpdateField","input ._field":"onUpdateField","paste ._field":"onUpdateField","input ._masked-exp":"handleMaskedExpirationInput"},initialize:function(e){this.setCardModel(e)},serialize:function(){return{useSaved:this.useSaved,useSavedState:this.useSavedState,attributes:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},this.model.serialize()),expiration:{months:y,years:this.model.getExpirationYears()},classNames:this.classNames,captcha:{siteKey:a.client.recaptcha.publicKey}}},clientAfterRender:function(){this.enableTooltips(),this.focusOn()},getActiveCard:function(){return this.model},getCaptchaValue:function(){var e=this.$(x);return e.length?e.val():""},enableTooltips:function(){this.setNotExistView("cardLock",g,{params:l.MerchantFormLock,content:new m({el:!1,template:p})}),this.setNotExistView("cardHelper",g,{params:l.MerchantManagerCard,content:new m({el:!1,template:f,app:this.app})})},focusOn:function(){this.$("._cardPan").focus()},setCardModel:function(e){this.model=e.model||new b({expiryMonth:y[0],expiryYear:+r().format("YY")},{app:this.app}),this.listenTo(this.model,{invalid:this.onModelInvalid,error:this.onModelError,change:this.onModelChangeCallback})},onModelInvalid:function(e,t){var i=this;s.each(t,function(e,t){return i.markError(t,e)})},onModelError:function(e,t){var i=this,n=_.parse(this.app,t.errors,{associate:!0});n=_.filterOwn(n,Object.keys(e.defaults),{global:!0}),this.$(x).length&&this.resetCaptcha(),s.each(n,function(e,o){var s=t.errors[Object.keys(n).indexOf(o)].error_code;i.markError(o,e,s)})},handleMaskedExpirationInput:function(e){var t=e.currentTarget.value,i=t.replace(/[/\s]/g,""),n=i.length>=2,o=n?i.replace(/^(\d{0,2})(\d{0,2})$/g,"$1/$2"):i,s=o.split("/"),r=s[0],a=s[1];this.model.set({expiryMonth:r,expiryYear:a}),this.$(e.currentTarget).val(o);var l=o.length===i.length?1:o.length-i.length+(n?1:0),c=t.lastIndexOf(i[i.length-1])+l;e.currentTarget.setSelectionRange(c,c)},markError:function(e,t,i){Object.values(u).includes(i)&&!this.$(x).length?this.showCaptcha():this.expireFields.includes(e)?this.markExpiryFieldsError(t):e!==c.get("default").field&&e?this.fieldIncorrect(this.$("[name="+e+"]").parent(),{errorMessage:t,errorHolder:this.getFieldErrorHolder(e)}):this.fieldIncorrect(this.$("._errorHolder"),{errorMessage:t})},markExpiryFieldsError:function(e){void 0===e&&(e=this.tr(d.InvalidExpirationDate)),this.fieldIncorrect(this.$('[name="expiryMonth"]').parent(),{errorMessage:e}),this.fieldIncorrect(this.$('[name="expiryYear"]').parent()),this.fieldIncorrect(this.$('[name="expiry"]').parent())},getFieldErrorHolder:function(e){var t=this.$("._fields-group-error");if(["pan","expiry","cvv"].includes(e)&&t.length)return t},validate:function(){return!(!this.useSaved||!this.useSavedState)||(this.model.get("number")&&this.model.set({number:this.model.prepareNumberForSet()}),this.$(x).length&&!this.$(x).val()?(this.fieldIncorrect(this.$("._captcha").parent(),{errorMessage:"Please check the ReCaptcha check box."}),!1):this.model.isValid(!0))},resetErrors:function(){var e=this;this.fieldReset(this.$("._errorHolder")),s.each(this.$("input, select, ._captcha"),function(t){return e.fieldReset(e.$(t).parent())})},showCaptcha:function(){var e=this;w.injectScript().then(function(){return w.render(e.$("._captcha")[0])})},resetCaptcha:function(){w.reset(this.$(x))},resetCaptchaError:function(){this.fieldReset(this.$("._captcha").parent())},onFieldFocusIn:function(e){this.fieldReset(this.$("._errorHolder")),this.fieldReset(this.$(e.currentTarget).parent(),{errorHolder:this.getFieldErrorHolder(e.currentTarget.getAttribute("name"))})},onExpiryFocusIn:function(){this.fieldReset(this.$('[name="expiryMonth"]').parent()),this.fieldReset(this.$('[name="expiryYear"]').parent())},onLockMouseEnter:function(e){this.getView("cardLock").show(e)},onLockMouseLeave:function(e){this.getView("cardLock").hide(e)},onCardHelperMouseEnter:function(e){this.getView("cardHelper").show(e)},onCardHelperMouseLeave:function(e){this.getView("cardHelper").hide(e)},onCardPanInput:function(e){var t=this.model.prepareNumberForSet(e.currentTarget.value);this.model.set({pan:t,number:t}),Backbone.$(e.currentTarget).val(this.model.getNumberLabel(t,!1))},onRegularFieldChange:function(e){this.model.set(e.currentTarget.name,e.currentTarget.value)},onSelectChange:function(e){this.model.set(e.currentTarget.name,parseInt(e.currentTarget.value,10))},onModelChangeCallback:function(){},onCardChange:function(){}});Object.assign(C.prototype,v),e.exports=C},function(e,t,i){"use strict";t.add=function(e,t){e.classList?e.classList.add(t):function(e,t){var i=e.className.split(" ");i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")}(e,t)},t.remove=function(e,t){e.classList?e.classList.remove(t):function(e,t){var i=e.className.split(" "),n=i.indexOf(t);n>=0&&i.splice(n,1),e.className=i.join(" ")}(e,t)},t.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},function(e,t,i){"use strict";var n=i(0),o=i(2),s=i(498),r=i(555).filePublishedFormat,a=i(534),l=i(1545),c=i(725),d=i(496),u=i(497),h=i(630),p=d.extend({name:"FileInfo",el:!1,template:l,viewMode:"page",isMobileMode:!1,events:{"mouseenter ._editorial-tooltip":"toggleEditorialTooltip","mouseleave ._editorial-tooltip":"toggleEditorialTooltip","click ._portfolio":"onPortfolioClick","contextmenu ._portfolio":"onPortfolioCustomClick","mouseup ._portfolio":"onPortfolioCustomClick"},prepareRender:function(){this.isMobileMode=this.isMobileModeEnabled(),this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")&&this.setMatchMedia(this.render.bind(this))},serialize:function(){return{isEnterpriseUser:this.app.user.isEnterprise(),file:this.model.serialize(),published:o.unix(this.model.get("published")).format(r),products:"page"===this.viewMode?this.app.user.serializeUserPlans():[],viewMode:this.viewMode,subscribeLink:this.app.makeUrl("subscribe",{backURL:!0,query:{ref:this.model.get("id")}}),portfolioLink:this.getPortfolioLink(),avatar:this.model.get("avatar")||this.app.user.avatar.constructor.prototype.defaults.default,isUpgraded:this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")&&this.isMobileMode}},clientAfterRender:function(){this.model.get("editorial")&&this.setNotExistView("editorialTooltip",u,{params:s.ViewInfoEditorial,content:new d({el:!1,template:c})})},getPortfolioLink:function(){var e={};if("page"===this.viewMode)e.absolute=!0;else if(this.app.user.isEnterprise()&&this.app.store.get("SearchQuery")){var t=this.app.store.get("SearchQuery").getNonDefaults(["dataSource"]);n.has(t,"dataSource")&&(e.query={data_source:t.dataSource})}return this.app.makeUrl({route:"Search",seller:this.model.get("sellerId")},e)},toggleEditorialTooltip:function(e){this.getView("editorialTooltip").toggle(e)},onPortfolioClick:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.trackPortfolioNewTabClick(e):(e.preventDefault(),this.app.observer.broadcast("Track:UE:Portfolio:Click",{sellerId:this.model.get("sellerId")}),this.app.router.redirect(e.currentTarget.href))},onPortfolioCustomClick:function(e){[a.rightMouse,a.middleMouse].includes(e.which)&&this.trackPortfolioNewTabClick(e)},trackPortfolioNewTabClick:function(){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"Portfolio",target:{target:"search"},params:{sellerId:this.model.get("sellerId")}})},enabledCuratedCollection:function(){}});Object.assign(p.prototype,h),e.exports=p},function(e,t,i){"use strict";(function(t){var n=i(1565),o=i(732);e.exports=n.extend({name:"BaseList",listSelector:null,partialItems:null,intersectionObserver:null,partialMountNode:null,initIntersecObserver:function(){this.intersectionObserver=new IntersectionObserver(this.listIntersectionCallback.bind(this),{root:null,rootMargin:"0px",threshold:[.1,.2,.5,1]})},observeLastItem:function(){if(t.browser){this.intersectionObserver||this.initIntersecObserver();var e=this.el.querySelector(this.listSelector),i=e&&e.lastElementChild;i&&this.intersectionObserver&&this.intersectionObserver.observe(i)}},getPartialMountNode:function(){return this.$(this.partialMountNode)||this.$el},_applyTemplate:function(e,t){this.partialItems?this.__applyPartialTemplate(e):o.prototype._applyTemplate.apply(this,[e,t])},__applyPartialTemplate:function(e){var t=this.getPartialMountNode();this.__partialPrepend?t.prepend(e):t.append(e)},__renderPartialTemplate:function(e,t){return this.mutateContextWithPartial(t),this.endless=!1,this.templatePartial.call(this,t).trim()},renderTemplate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Array.isArray(this.partialItems)?this.__renderPartialTemplate.apply(this,t):o.prototype.renderTemplate.apply(this,t)},_onCollectionUpdate:function(e,t){this.__partialPrepend=0===t.at,this.partialItems=this.endless&&t.add?t.changes.added:null,this.render(),this.scrollToStart()},_onCollectionReset:function(){this.partialItems=null,this.render(),this.scrollToStart()},mutateContextWithPartial:function(){},listIntersectionCallback:function(){}})}).call(this,i(17))},function(e,t,i){var n;!function(t,i){"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("Cropper requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,function(i,o){"use strict";var s=i.document,r=i.location,a=i.navigator,l=i.ArrayBuffer,c=i.Object,d=i.Array,u=i.String,h=i.Number,p=i.Math,f="cropper-hidden",m="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",g=/e|w|s|n|se|sw|ne|nw|all|crop|move|zoom/,b=/width|height|left|top|marginLeft|marginTop/,v=/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i,_=/^\s+(.*)\s+$/,w=/\s+/,y=/^data\:/,x=/^data\:([^\;]+)\;base64,/,C=/^data\:image\/jpeg.*;base64,/,k=/([a-z\d])([A-Z])/g,S=!!s.createElement("canvas").getContext,T=a&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(a.userAgent),P=p.min,M=p.max,O=p.abs,E=p.sin,A=p.cos,D=p.sqrt,L=p.round,I=p.floor,F=p.PI,R=c.prototype,z=R.toString,$=R.hasOwnProperty,N=d.prototype.slice,B=u.fromCharCode;function H(e){return z.call(e).slice(8,-1).toLowerCase()}function V(e){return"number"==typeof e&&!isNaN(e)}function U(e){return void 0===e}function j(e){return"object"==typeof e&&null!==e}function W(e){var t,i;if(!j(e))return!1;try{return i=(t=e.constructor).prototype,t&&i&&$.call(i,"isPrototypeOf")}catch(e){return!1}}function Y(e){return"function"===H(e)}function q(e,t){return t=t>=0?t:0,d.from?d.from(e).slice(t):N.call(e,t)}function X(e){return"string"==typeof e&&(e=e.trim?e.trim():e.replace(_,"$1")),e}function G(e,t){var i,n;if(e&&Y(t))if(function(e){return d.isArray?d.isArray(e):"array"===H(e)}(e)||V(e.length))for(n=0,i=e.length;n<i&&!1!==t.call(e,e[n],n,e);n++);else if(j(e))for(n in e)if(e.hasOwnProperty(n)&&!1===t.call(e,e[n],n,e))break;return e}function K(e){var t;if(arguments.length>1){if(t=q(arguments),c.assign)return c.assign.apply(c,t);t.shift(),G(t,function(t){G(t,function(t,i){e[i]=t})})}return e}function Z(e,t){var i=q(arguments,2);return function(){return e.apply(t,i.concat(q(arguments)))}}function Q(e,t){var i=e.style;G(t,function(e,t){b.test(t)&&V(e)&&(e+="px"),i[t]=e})}function J(e,t){var i;return V(e.length)?G(e,function(e){J(e,t)}):e.classList?e.classList.add(t):void((i=X(e.className))?i.indexOf(t)<0&&(e.className=i+" "+t):e.className=t)}function ee(e,t){return V(e.length)?G(e,function(e){ee(e,t)}):e.classList?e.classList.remove(t):void(e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function te(e,t,i){if(V(e.length))return G(e,function(e){te(e,t,i)});i?J(e,t):ee(e,t)}function ie(e){return e.replace(k,"$1-$2").toLowerCase()}function ne(e,t){return j(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+ie(t))}function oe(e,t,i){j(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-"+ie(t),i)}function se(e,t){j(e[t])?delete e[t]:e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+ie(t))}function re(e,t,i){var n=X(t).split(w);if(n.length>1)return G(n,function(t){re(e,t,i)});e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)}function ae(e,t,i,n){var o=X(t).split(w),s=i;if(o.length>1)return G(o,function(t){ae(e,t,i)});n&&(i=function(){return re(e,t,i),s.apply(e,arguments)}),e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)}function le(e,t,i){var n;return e.dispatchEvent?(Y(Event)&&Y(CustomEvent)?n=U(i)?new Event(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):U(i)?(n=s.createEvent("Event")).initEvent(t,!0,!0):(n=s.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)):e.fireEvent?e.fireEvent("on"+t):void 0}function ce(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function de(e){var t,n=e||i.event;return n.target||(n.target=n.srcElement||s),V(n.pageX)||(t=s.documentElement,n.pageX=n.clientX+(i.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0),n.pageY=n.clientY+(i.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0)),n}function ue(e){var t=s.documentElement,n=e.getBoundingClientRect();return{left:n.left+(i.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0),top:n.top+(i.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0)}}function he(e,t){return e.getElementsByTagName(t)}function pe(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function fe(e){return s.createElement(e)}function me(e,t){e.appendChild(t)}function ge(e){e.parentNode&&e.parentNode.removeChild(e)}function be(e){var t=e.match(v);return t&&(t[1]!==r.protocol||t[2]!==r.hostname||t[3]!==r.port)}function ve(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function _e(e){var t=[],i=e.rotate,n=e.scaleX,o=e.scaleY;return V(n)&&V(o)&&t.push("scale("+n+","+o+")"),V(i)&&t.push("rotate("+i+"deg)"),t.length?t.join(" "):"none"}function we(e,t){var i,n,o=O(e.degree)%180,s=(o>90?180-o:o)*F/180,r=E(s),a=A(s),l=e.width,c=e.height,d=e.aspectRatio;return t?n=(i=l/(a+r/d))/d:(i=l*a+c*r,n=l*r+c*a),{width:i,height:n}}function ye(e,t){var i,n,o,s=fe("canvas"),r=s.getContext("2d"),a=0,l=0,c=t.naturalWidth,d=t.naturalHeight,u=t.rotate,h=t.scaleX,p=t.scaleY,f=V(h)&&V(p)&&(1!==h||1!==p),m=V(u)&&0!==u,g=m||f,b=c*O(h||1),v=d*O(p||1);return f&&(i=b/2,n=v/2),m&&(i=(b=(o=we({width:b,height:v,degree:u})).width)/2,n=(v=o.height)/2),s.width=b,s.height=v,g&&(a=-c/2,l=-d/2,r.save(),r.translate(i,n)),f&&r.scale(h,p),m&&r.rotate(u*F/180),r.drawImage(e,I(a),I(l),I(c),I(d)),g&&r.restore(),s}function xe(e){var t,i,n,o,s,r,a,l,c,d=new DataView(e),u=d.byteLength;if(255===d.getUint8(0)&&216===d.getUint8(1))for(l=2;l<u;){if(255===d.getUint8(l)&&225===d.getUint8(l+1)){r=l;break}l++}if(r&&(i=r+10,"Exif"===function(e,t,i){var n="",o=t;for(i+=t;o<i;o++)n+=B(e.getUint8(o));return n}(d,r+4,4)&&((o=18761===(s=d.getUint16(i)))||19789===s)&&42===d.getUint16(i+2,o)&&(n=d.getUint32(i+4,o))>=8&&(a=i+n)),a)for(u=d.getUint16(a,o),c=0;c<u;c++)if(l=a+12*c+2,274===d.getUint16(l,o)){l+=8,t=d.getUint16(l,o),T&&d.setUint16(l,1,o);break}return t}function Ce(e,t){this.element=e,this.options=K({},Ce.DEFAULTS,W(t)&&t),this.ready=!1,this.built=!1,this.complete=!1,this.rotated=!1,this.cropped=!1,this.disabled=!1,this.replaced=!1,this.limited=!1,this.wheeling=!1,this.isImg=!1,this.originalUrl="",this.canvasData=null,this.cropBoxData=null,this.previews=null,this.init()}Ce.prototype={constructor:Ce,init:function(){var e,t=this.element,i=t.tagName.toLowerCase();if(!ne(t,"cropper")){if(oe(t,"cropper",this),"img"===i){if(this.isImg=!0,this.originalUrl=e=t.getAttribute("src"),!e)return;e=t.src}else"canvas"===i&&S&&(e=t.toDataURL());this.load(e)}},load:function(e){var t,i=this,n=i.options,o=i.element;if(e&&(Y(n.build)&&ae(o,"build",n.build,!0),!1!==le(o,"build"))){if(i.url=e,i.imageData={},!n.checkOrientation||!l)return i.clone();if(y.test(e))return C.test(e)?i.read(function(e){var t,i=e.replace(x,""),n=atob(i),o=n.length,s=new l(o),r=new Uint8Array(s);for(t=0;t<o;t++)r[t]=n.charCodeAt(t);return s}(e)):i.clone();(t=new XMLHttpRequest).onerror=t.onabort=function(){i.clone()},t.onload=function(){i.read(this.response)},n.checkCrossOrigin&&be(e)&&o.crossOrigin&&(e=ve(e)),t.open("get",e),t.responseType="arraybuffer",t.send()}},read:function(e){var t,i,n,o=this.options,s=xe(e),r=this.imageData;if(s>1)switch(this.url=function(e){var t,i=new Uint8Array(e),n=i.length,o="";for(t=0;t<n;t++)o+=B(i[t]);return"data:image/jpeg;base64,"+btoa(o)}(e),s){case 2:i=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}o.rotatable&&(r.rotate=t),o.scalable&&(r.scaleX=i,r.scaleY=n),this.clone()},clone:function(){var e,t,i,n,o,s=this.element,r=this.url;this.options.checkCrossOrigin&&be(r)&&((e=s.crossOrigin)?t=r:(e="anonymous",t=ve(r))),this.crossOrigin=e,this.crossOriginUrl=t,i=fe("img"),e&&(i.crossOrigin=e),i.src=t||r,this.image=i,this._start=n=Z(this.start,this),this._stop=o=Z(this.stop,this),this.isImg?s.complete?this.start():ae(s,"load",n):(ae(i,"load",n),ae(i,"error",o),J(i,"cropper-hide"),s.parentNode.insertBefore(i,s.nextSibling))},start:function(e){var t=this,i=t.isImg?t.element:t.image;e&&(re(i,"load",t._start),re(i,"error",t._stop)),function(e,t){var i;if(e.naturalWidth&&!T)return t(e.naturalWidth,e.naturalHeight);(i=fe("img")).onload=function(){t(this.width,this.height)},i.src=e.src}(i,function(e,i){K(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.ready=!0,t.build()})},stop:function(){var e=this.image;re(e,"load",this._start),re(e,"error",this._stop),ge(e),this.image=null},build:function(){var e,t,i,n,o,s,r,a=this,l=a.options,c=a.element,d=a.image;a.ready&&(a.built&&a.unbuild(),(t=fe("div")).innerHTML=Ce.TEMPLATE,a.container=e=c.parentNode,a.cropper=i=pe(t,"cropper-container")[0],a.canvas=n=pe(i,"cropper-canvas")[0],a.dragBox=o=pe(i,"cropper-drag-box")[0],a.cropBox=s=pe(i,"cropper-crop-box")[0],a.viewBox=pe(i,"cropper-view-box")[0],a.face=r=pe(s,"cropper-face")[0],me(n,d),J(c,f),e.insertBefore(i,c.nextSibling),a.isImg||ee(d,"cropper-hide"),a.initPreview(),a.bind(),l.aspectRatio=M(0,l.aspectRatio)||NaN,l.viewMode=M(0,P(3,L(l.viewMode)))||0,l.autoCrop?(a.cropped=!0,l.modal&&J(o,"cropper-modal")):J(s,f),l.guides||J(pe(s,"cropper-dashed"),f),l.center||J(pe(s,"cropper-center"),f),l.background&&J(i,"cropper-bg"),l.highlight||J(r,"cropper-invisible"),l.cropBoxMovable&&(J(r,"cropper-move"),oe(r,"action","all")),l.cropBoxResizable||(J(pe(s,"cropper-line"),f),J(pe(s,"cropper-point"),f)),a.setDragMode(l.dragMode),a.render(),a.built=!0,a.setData(l.data),setTimeout(function(){Y(l.built)&&ae(c,"built",l.built,!0),le(c,"built"),le(c,"crop",a.getData()),a.complete=!0},0))},unbuild:function(){this.built&&(this.built=!1,this.complete=!1,this.initialImageData=null,this.initialCanvasData=null,this.initialCropBoxData=null,this.containerData=null,this.canvasData=null,this.cropBoxData=null,this.unbind(),this.resetPreview(),this.previews=null,this.viewBox=null,this.cropBox=null,this.dragBox=null,this.canvas=null,this.container=null,ge(this.cropper),this.cropper=null)},render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e,t=this.options,i=this.element,n=this.container,o=this.cropper;J(o,f),ee(i,f),this.containerData=e={width:M(n.offsetWidth,h(t.minContainerWidth)||200),height:M(n.offsetHeight,h(t.minContainerHeight)||100)},Q(o,{width:e.width,height:e.height}),J(i,f),ee(o,f)},initCanvas:function(){var e,t=this.options.viewMode,i=this.containerData,n=this.imageData,o=90===O(n.rotate),s=o?n.naturalHeight:n.naturalWidth,r=o?n.naturalWidth:n.naturalHeight,a=s/r,l=i.width,c=i.height;i.height*a>i.width?3===t?l=i.height*a:c=i.width/a:3===t?c=i.width/a:l=i.height*a,(e={naturalWidth:s,naturalHeight:r,aspectRatio:a,width:l,height:c}).oldLeft=e.left=(i.width-l)/2,e.oldTop=e.top=(i.height-c)/2,this.canvasData=e,this.limited=1===t||2===t,this.limitCanvas(!0,!0),this.initialImageData=K({},n),this.initialCanvasData=K({},e)},limitCanvas:function(e,t){var i,n,o,s,r=this.options,a=r.viewMode,l=this.containerData,c=this.canvasData,d=c.aspectRatio,u=this.cropBoxData,p=this.cropped&&u;e&&(i=h(r.minCanvasWidth)||0,n=h(r.minCanvasHeight)||0,a>1?(i=M(i,l.width),n=M(n,l.height),3===a&&(n*d>i?i=n*d:n=i/d)):a>0&&(i?i=M(i,p?u.width:0):n?n=M(n,p?u.height:0):p&&(i=u.width,(n=u.height)*d>i?i=n*d:n=i/d)),i&&n?n*d>i?n=i/d:i=n*d:i?n=i/d:n&&(i=n*d),c.minWidth=i,c.minHeight=n,c.maxWidth=1/0,c.maxHeight=1/0),t&&(a?(o=l.width-c.width,s=l.height-c.height,c.minLeft=P(0,o),c.minTop=P(0,s),c.maxLeft=M(0,o),c.maxTop=M(0,s),p&&this.limited&&(c.minLeft=P(u.left,u.left+u.width-c.width),c.minTop=P(u.top,u.top+u.height-c.height),c.maxLeft=u.left,c.maxTop=u.top,2===a&&(c.width>=l.width&&(c.minLeft=P(0,o),c.maxLeft=M(0,o)),c.height>=l.height&&(c.minTop=P(0,s),c.maxTop=M(0,s))))):(c.minLeft=-c.width,c.minTop=-c.height,c.maxLeft=l.width,c.maxTop=l.height))},renderCanvas:function(e){var t,i,n=this.canvasData,o=this.imageData,s=o.rotate;this.rotated&&(this.rotated=!1,(t=(i=we({width:o.width,height:o.height,degree:s})).width/i.height)!==n.aspectRatio&&(n.left-=(i.width-n.width)/2,n.top-=(i.height-n.height)/2,n.width=i.width,n.height=i.height,n.aspectRatio=t,n.naturalWidth=o.naturalWidth,n.naturalHeight=o.naturalHeight,s%180&&(i=we({width:o.naturalWidth,height:o.naturalHeight,degree:s}),n.naturalWidth=i.width,n.naturalHeight=i.height),this.limitCanvas(!0,!1))),(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=P(M(n.width,n.minWidth),n.maxWidth),n.height=P(M(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.oldLeft=n.left=P(M(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=P(M(n.top,n.minTop),n.maxTop),Q(this.canvas,{width:n.width,height:n.height,left:n.left,top:n.top}),this.renderImage(),this.cropped&&this.limited&&this.limitCropBox(!0,!0),e&&this.output()},renderImage:function(e){var t,i,n,o,s,r=this.canvasData,a=this.imageData;a.rotate&&(t={width:n=(i=we({width:r.width,height:r.height,degree:a.rotate,aspectRatio:a.aspectRatio},!0)).width,height:o=i.height,left:(r.width-n)/2,top:(r.height-o)/2}),K(a,t||{width:r.width,height:r.height,left:0,top:0}),s=_e(a),Q(this.image,{width:a.width,height:a.height,marginLeft:a.left,marginTop:a.top,WebkitTransform:s,msTransform:s,transform:s}),e&&this.output()},initCropBox:function(){var e=this.options,t=e.aspectRatio,i=h(e.autoCropArea)||.8,n=this.canvasData,o={width:n.width,height:n.height};t&&(n.height*t>n.width?o.height=o.width/t:o.width=o.height*t),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=P(M(o.width,o.minWidth),o.maxWidth),o.height=P(M(o.height,o.minHeight),o.maxHeight),o.width=M(o.minWidth,o.width*i),o.height=M(o.minHeight,o.height*i),o.oldLeft=o.left=n.left+(n.width-o.width)/2,o.oldTop=o.top=n.top+(n.height-o.height)/2,this.initialCropBoxData=K({},o)},limitCropBox:function(e,t){var i,n,o,s,r=this.options,a=r.aspectRatio,l=this.containerData,c=this.canvasData,d=this.cropBoxData,u=this.limited;e&&(i=h(r.minCropBoxWidth)||0,n=h(r.minCropBoxHeight)||0,i=P(i,l.width),n=P(n,l.height),o=P(l.width,u?c.width:l.width),s=P(l.height,u?c.height:l.height),a&&(i&&n?n*a>i?n=i/a:i=n*a:i?n=i/a:n&&(i=n*a),s*a>o?s=o/a:o=s*a),d.minWidth=P(i,o),d.minHeight=P(n,s),d.maxWidth=o,d.maxHeight=s),t&&(u?(d.minLeft=M(0,c.left),d.minTop=M(0,c.top),d.maxLeft=P(l.width,c.left+c.width)-d.width,d.maxTop=P(l.height,c.top+c.height)-d.height):(d.minLeft=0,d.minTop=0,d.maxLeft=l.width-d.width,d.maxTop=l.height-d.height))},renderCropBox:function(){var e=this.options,t=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=P(M(i.width,i.minWidth),i.maxWidth),i.height=P(M(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.oldLeft=i.left=P(M(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=P(M(i.top,i.minTop),i.maxTop),e.movable&&e.cropBoxMovable&&oe(this.face,"action",i.width===t.width&&i.height===t.height?"move":"all"),Q(this.cropBox,{width:i.width,height:i.height,left:i.left,top:i.top}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.complete&&le(this.element,"crop",this.getData())},initPreview:function(){var e,t=this.options.preview,i=fe("img"),n=this.crossOrigin,o=n?this.crossOriginUrl:this.url;n&&(i.crossOrigin=n),i.src=o,me(this.viewBox,i),this.image2=i,t&&(this.previews=e=s.querySelectorAll(t),G(e,function(e){var t=fe("img");oe(e,"preview",{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),n&&(t.crossOrigin=n),t.src=o,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),me(e,t)}))},resetPreview:function(){G(this.previews,function(e){var t=ne(e,"preview");Q(e,{width:t.width,height:t.height}),e.innerHTML=t.html,se(e,"preview")})},preview:function(){var e=this.imageData,t=this.canvasData,i=this.cropBoxData,n=i.width,o=i.height,s=e.width,r=e.height,a=i.left-t.left-e.left,l=i.top-t.top-e.top,c=_e(e),d={WebkitTransform:c,msTransform:c,transform:c};this.cropped&&!this.disabled&&(Q(this.image2,K({width:s,height:r,marginLeft:-a,marginTop:-l},d)),G(this.previews,function(e){var t=ne(e,"preview"),i=t.width,c=t.height,u=i,h=c,p=1;n&&(h=o*(p=i/n)),o&&h>c&&(u=n*(p=c/o),h=c),Q(e,{width:u,height:h}),Q(he(e,"img")[0],K({width:s*p,height:r*p,marginLeft:-a*p,marginTop:-l*p},d))}))},bind:function(){var e=this.options,t=this.element,n=this.cropper;Y(e.cropstart)&&ae(t,"cropstart",e.cropstart),Y(e.cropmove)&&ae(t,"cropmove",e.cropmove),Y(e.cropend)&&ae(t,"cropend",e.cropend),Y(e.crop)&&ae(t,"crop",e.crop),Y(e.zoom)&&ae(t,"zoom",e.zoom),ae(n,"mousedown touchstart pointerdown MSPointerDown",this._cropStart=Z(this.cropStart,this)),e.zoomable&&e.zoomOnWheel&&ae(n,"wheel mousewheel DOMMouseScroll",this._wheel=Z(this.wheel,this)),e.toggleDragModeOnDblclick&&ae(n,"dblclick",this._dblclick=Z(this.dblclick,this)),ae(s,"mousemove touchmove pointermove MSPointerMove",this._cropMove=Z(this.cropMove,this)),ae(s,m,this._cropEnd=Z(this.cropEnd,this)),e.responsive&&ae(i,"resize",this._resize=Z(this.resize,this))},unbind:function(){var e=this.options,t=this.element,n=this.cropper;Y(e.cropstart)&&re(t,"cropstart",e.cropstart),Y(e.cropmove)&&re(t,"cropmove",e.cropmove),Y(e.cropend)&&re(t,"cropend",e.cropend),Y(e.crop)&&re(t,"crop",e.crop),Y(e.zoom)&&re(t,"zoom",e.zoom),re(n,"mousedown touchstart pointerdown MSPointerDown",this._cropStart),e.zoomable&&e.zoomOnWheel&&re(n,"wheel mousewheel DOMMouseScroll",this._wheel),e.toggleDragModeOnDblclick&&re(n,"dblclick",this._dblclick),re(s,"mousemove touchmove pointermove MSPointerMove",this._cropMove),re(s,m,this._cropEnd),e.responsive&&re(i,"resize",this._resize)},resize:function(){var e,t,i,n=this.options.restore,o=this.container,s=this.containerData;!this.disabled&&s&&(1===(i=o.offsetWidth/s.width)&&o.offsetHeight===s.height||(n&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n&&(this.setCanvasData(G(e,function(t,n){e[n]=t*i})),this.setCropBoxData(G(t,function(e,n){t[n]=e*i})))))},dblclick:function(){this.disabled||this.setDragMode(function(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}(this.dragBox,"cropper-crop")?"move":"crop")},wheel:function(e){var t=this,i=de(e),n=h(t.options.wheelZoomRatio)||.1,o=1;t.disabled||(ce(i),t.wheeling||(t.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),i.deltaY?o=i.deltaY>0?1:-1:i.wheelDelta?o=-i.wheelDelta/120:i.detail&&(o=i.detail>0?1:-1),t.zoom(-o*n,i)))},cropStart:function(e){var t,i,n,o=this.options,s=de(e),r=s.touches;if(!this.disabled){if(r){if((t=r.length)>1){if(!o.zoomable||!o.zoomOnTouch||2!==t)return;i=r[1],this.startX2=i.pageX,this.startY2=i.pageY,n="zoom"}i=r[0]}if(n=n||ne(s.target,"action"),g.test(n)){if(!1===le(this.element,"cropstart",{originalEvent:s,action:n}))return;ce(s),this.action=n,this.cropping=!1,this.startX=i?i.pageX:s.pageX,this.startY=i?i.pageY:s.pageY,"crop"===n&&(this.cropping=!0,J(this.dragBox,"cropper-modal"))}}},cropMove:function(e){var t,i,n=this.options,o=de(e),s=o.touches,r=this.action;if(!this.disabled){if(s){if((t=s.length)>1){if(!n.zoomable||!n.zoomOnTouch||2!==t)return;i=s[1],this.endX2=i.pageX,this.endY2=i.pageY}i=s[0]}if(r){if(!1===le(this.element,"cropmove",{originalEvent:o,action:r}))return;ce(o),this.endX=i?i.pageX:o.pageX,this.endY=i?i.pageY:o.pageY,this.change(o.shiftKey,"zoom"===r?o:null)}}},cropEnd:function(e){var t=this.options,i=de(e),n=this.action;this.disabled||n&&(ce(i),this.cropping&&(this.cropping=!1,te(this.dragBox,"cropper-modal",this.cropped&&t.modal)),this.action="",le(this.element,"cropend",{originalEvent:i,action:n}))},change:function(e,t){var i,n,o=this.options.aspectRatio,s=this.action,r=this.containerData,a=this.canvasData,l=this.cropBoxData,c=l.width,d=l.height,u=l.left,h=l.top,p=u+c,m=h+d,g=0,b=0,v=r.width,_=r.height,w=!0;switch(!o&&e&&(o=c&&d?c/d:1),this.limited&&(g=l.minLeft,b=l.minTop,v=g+P(r.width,a.left+a.width),_=b+P(r.height,a.top+a.height)),n={x:this.endX-this.startX,y:this.endY-this.startY},o&&(n.X=n.y*o,n.Y=n.x/o),s){case"all":u+=n.x,h+=n.y;break;case"e":if(n.x>=0&&(p>=v||o&&(h<=b||m>=_))){w=!1;break}c+=n.x,o&&(d=c/o,h-=n.Y/2),c<0&&(s="w",c=0);break;case"n":if(n.y<=0&&(h<=b||o&&(u<=g||p>=v))){w=!1;break}d-=n.y,h+=n.y,o&&(c=d*o,u+=n.X/2),d<0&&(s="s",d=0);break;case"w":if(n.x<=0&&(u<=g||o&&(h<=b||m>=_))){w=!1;break}c-=n.x,u+=n.x,o&&(d=c/o,h+=n.Y/2),c<0&&(s="e",c=0);break;case"s":if(n.y>=0&&(m>=_||o&&(u<=g||p>=v))){w=!1;break}d+=n.y,o&&(c=d*o,u-=n.X/2),d<0&&(s="n",d=0);break;case"ne":if(o){if(n.y<=0&&(h<=b||p>=v)){w=!1;break}d-=n.y,h+=n.y,c=d*o}else n.x>=0?p<v?c+=n.x:n.y<=0&&h<=b&&(w=!1):c+=n.x,n.y<=0?h>b&&(d-=n.y,h+=n.y):(d-=n.y,h+=n.y);c<0&&d<0?(s="sw",d=0,c=0):c<0?(s="nw",c=0):d<0&&(s="se",d=0);break;case"nw":if(o){if(n.y<=0&&(h<=b||u<=g)){w=!1;break}d-=n.y,h+=n.y,c=d*o,u+=n.X}else n.x<=0?u>g?(c-=n.x,u+=n.x):n.y<=0&&h<=b&&(w=!1):(c-=n.x,u+=n.x),n.y<=0?h>b&&(d-=n.y,h+=n.y):(d-=n.y,h+=n.y);c<0&&d<0?(s="se",d=0,c=0):c<0?(s="ne",c=0):d<0&&(s="sw",d=0);break;case"sw":if(o){if(n.x<=0&&(u<=g||m>=_)){w=!1;break}c-=n.x,u+=n.x,d=c/o}else n.x<=0?u>g?(c-=n.x,u+=n.x):n.y>=0&&m>=_&&(w=!1):(c-=n.x,u+=n.x),n.y>=0?m<_&&(d+=n.y):d+=n.y;c<0&&d<0?(s="ne",d=0,c=0):c<0?(s="se",c=0):d<0&&(s="nw",d=0);break;case"se":if(o){if(n.x>=0&&(p>=v||m>=_)){w=!1;break}d=(c+=n.x)/o}else n.x>=0?p<v?c+=n.x:n.y>=0&&m>=_&&(w=!1):c+=n.x,n.y>=0?m<_&&(d+=n.y):d+=n.y;c<0&&d<0?(s="nw",d=0,c=0):c<0?(s="sw",c=0):d<0&&(s="ne",d=0);break;case"move":this.move(n.x,n.y),w=!1;break;case"zoom":this.zoom(function(e,t,i,n){var o=D(e*e+t*t);return(D(i*i+n*n)-o)/o}(O(this.startX-this.startX2),O(this.startY-this.startY2),O(this.endX-this.endX2),O(this.endY-this.endY2)),t),this.startX2=this.endX2,this.startY2=this.endY2,w=!1;break;case"crop":if(!n.x||!n.y){w=!1;break}i=ue(this.cropper),u=this.startX-i.left,h=this.startY-i.top,c=l.minWidth,d=l.minHeight,n.x>0?s=n.y>0?"se":"ne":n.x<0&&(u-=c,s=n.y>0?"sw":"nw"),n.y<0&&(h-=d),this.cropped||(ee(this.cropBox,f),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}w&&(l.width=c,l.height=d,l.left=u,l.top=h,this.action=s,this.renderCropBox()),this.startX=this.endX,this.startY=this.endY},crop:function(){return this.built&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&J(this.dragBox,"cropper-modal"),ee(this.cropBox,f)),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.built&&!this.disabled&&(this.imageData=K({},this.initialImageData),this.canvasData=K({},this.initialCanvasData),this.cropBoxData=K({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(K(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(),this.renderCanvas(),ee(this.dragBox,"cropper-modal"),J(this.cropBox,f)),this},replace:function(e,t){return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.built&&(this.image2.src=e,G(this.previews,function(t){he(t,"img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(e))),this},enable:function(){return this.built&&(this.disabled=!1,ee(this.cropper,"cropper-disabled")),this},disable:function(){return this.built&&(this.disabled=!0,J(this.cropper,"cropper-disabled")),this},destroy:function(){var e=this.element,t=this.image;return this.ready?(this.isImg&&this.replaced&&(e.src=this.originalUrl),this.unbuild(),ee(e,f)):this.isImg?re(e,"load",this.start):t&&ge(t),se(e,"cropper"),this},move:function(e,t){var i=this.canvasData;return this.moveTo(U(e)?e:i.left+h(e),U(t)?t:i.top+h(t))},moveTo:function(e,t){var i=this.canvasData,n=!1;return U(t)&&(t=e),e=h(e),t=h(t),this.built&&!this.disabled&&this.options.movable&&(V(e)&&(i.left=e,n=!0),V(t)&&(i.top=t,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(e,t){var i=this.canvasData;return e=(e=h(e))<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,t)},zoomTo:function(e,t){var i,n,o,s,r=this.options,a=this.canvasData,l=a.width,c=a.height,d=a.naturalWidth,u=a.naturalHeight;if((e=h(e))>=0&&this.built&&!this.disabled&&r.zoomable){if(i=d*e,n=u*e,!1===le(this.element,"zoom",{originalEvent:t,oldRatio:l/d,ratio:i/d}))return this;t?(o=ue(this.cropper),s=t.touches?function(e){var t=e.length,i=0,n=0;return t&&(G(e,function(e){i+=e.pageX,n+=e.pageY}),i/=t,n/=t),{pageX:i,pageY:n}}(t.touches):{pageX:t.pageX,pageY:t.pageY},a.left-=(i-l)*((s.pageX-o.left-a.left)/l),a.top-=(n-c)*((s.pageY-o.top-a.top)/c)):(a.left-=(i-l)/2,a.top-=(n-c)/2),a.width=i,a.height=n,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+h(e))},rotateTo:function(e){return V(e=h(e))&&this.built&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.rotated=!0,this.renderCanvas(!0)),this},scale:function(e,t){var i=this.imageData,n=!1;return U(t)&&(t=e),e=h(e),t=h(t),this.built&&!this.disabled&&this.options.scalable&&(V(e)&&(i.scaleX=e,n=!0),V(t)&&(i.scaleY=t,n=!0),n&&this.renderImage(!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,V(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(V(t)?t:1,e)},getData:function(e){var t,i,n=this.options,o=this.imageData,s=this.canvasData,r=this.cropBoxData;return this.built&&this.cropped?(i={x:r.left-s.left,y:r.top-s.top,width:r.width,height:r.height},t=o.width/o.naturalWidth,G(i,function(n,o){n/=t,i[o]=e?L(n):n})):i={x:0,y:0,width:0,height:0},n.rotatable&&(i.rotate=o.rotate||0),n.scalable&&(i.scaleX=o.scaleX||1,i.scaleY=o.scaleY||1),i},setData:function(e){var t,i,n,o=this.options,s=this.imageData,r=this.canvasData,a={};return Y(e)&&(e=e.call(this.element)),this.built&&!this.disabled&&W(e)&&(o.rotatable&&V(e.rotate)&&e.rotate!==s.rotate&&(s.rotate=e.rotate,this.rotated=t=!0),o.scalable&&(V(e.scaleX)&&e.scaleX!==s.scaleX&&(s.scaleX=e.scaleX,i=!0),V(e.scaleY)&&e.scaleY!==s.scaleY&&(s.scaleY=e.scaleY,i=!0)),t?this.renderCanvas():i&&this.renderImage(),n=s.width/s.naturalWidth,V(e.x)&&(a.left=e.x*n+r.left),V(e.y)&&(a.top=e.y*n+r.top),V(e.width)&&(a.width=e.width*n),V(e.height)&&(a.height=e.height*n),this.setCropBoxData(a)),this},getContainerData:function(){return this.built?this.containerData:{}},getImageData:function(){return this.ready?this.imageData:{}},getCanvasData:function(){var e=this.canvasData,t={};return this.built&&G(["left","top","width","height","naturalWidth","naturalHeight"],function(i){t[i]=e[i]}),t},setCanvasData:function(e){var t=this.canvasData,i=t.aspectRatio;return Y(e)&&(e=e.call(this.element)),this.built&&!this.disabled&&W(e)&&(V(e.left)&&(t.left=e.left),V(e.top)&&(t.top=e.top),V(e.width)?(t.width=e.width,t.height=e.width/i):V(e.height)&&(t.height=e.height,t.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.built&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,i,n=this.cropBoxData,o=this.options.aspectRatio;return Y(e)&&(e=e.call(this.element)),this.built&&this.cropped&&!this.disabled&&W(e)&&(V(e.left)&&(n.left=e.left),V(e.top)&&(n.top=e.top),V(e.width)&&(t=!0,n.width=e.width),V(e.height)&&(i=!0,n.height=e.height),o&&(t?n.height=n.width/o:i&&(n.width=n.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(e){var t,i,n,o,s,r,a,l,c,d,u,h=this;if(h.built&&S)return h.cropped?(W(e)||(e={}),u=h.getData(),t=u.width,i=u.height,l=t/i,W(e)&&(s=e.width,r=e.height,s?(r=s/l,a=s/t):r&&(s=r*l,a=r/i)),n=I(s||t),o=I(r||i),(c=fe("canvas")).width=n,c.height=o,d=c.getContext("2d"),e.fillColor&&(d.fillStyle=e.fillColor,d.fillRect(0,0,n,o)),d.drawImage.apply(d,function(){var e,n,o,s,r,l,c=ye(h.image,h.imageData),d=c.width,p=c.height,f=h.canvasData,m=[c],g=u.x+f.naturalWidth*(O(u.scaleX||1)-1)/2,b=u.y+f.naturalHeight*(O(u.scaleY||1)-1)/2;return g<=-t||g>d?g=e=o=r=0:g<=0?(o=-g,e=r=P(d,t+(g=0))):g<=d&&(o=0,e=r=P(t,d-g)),e<=0||b<=-i||b>p?b=n=s=l=0:b<=0?(s=-b,n=l=P(p,i+(b=0))):b<=p&&(s=0,n=l=P(i,p-b)),m.push(I(g),I(b),I(e),I(n)),a&&(o*=a,s*=a,r*=a,l*=a),r>0&&l>0&&m.push(I(o),I(s),I(r),I(l)),m}.call(h)),c):ye(h.image,h.imageData)},setAspectRatio:function(e){var t=this.options;return this.disabled||U(e)||(t.aspectRatio=M(0,e)||NaN,this.built&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t,i,n=this.options,o=this.dragBox,s=this.face;return this.ready&&!this.disabled&&(t="crop"===e,i=n.movable&&"move"===e,oe(o,"action",e=t||i?e:"none"),te(o,"cropper-crop",t),te(o,"cropper-move",i),n.cropBoxMovable||(oe(s,"action",e),te(s,"cropper-crop",t),te(s,"cropper-move",i))),this}},Ce.DEFAULTS={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Ce.TEMPLATE=function(e,t){return t=t.split(","),'<0 6="5-container"><0 6="5-wrap-9"><0 6="5-canvas"></0></0><0 6="5-drag-9"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-center"></1><1 6="5-face"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>'.replace(/\d+/g,function(e){return t[e]})}(0,"div,span,action,data,point,cropper,class,line,dashed,box");var ke=i.Cropper;return Ce.noConflict=function(){return i.Cropper=ke,Ce},Ce.setDefaults=function(e){K(Ce.DEFAULTS,e)},void 0===(n=function(){return Ce}.apply(t,[]))||(e.exports=n),o||(i.Cropper=Ce),Ce})},function(e,t,i){"use strict";(function(t){i(1570),i(925);var n=i(0),o=i(542).videoPlayer,s=i(1571),r=i(13),a=i(541),l=i(496),c=i(69),d=null;e.exports=l.extend({name:"FilePreviewVideo",el:!1,template:s,file:null,RAWVideoFiles:null,$mount:void 0,$poster:void 0,mountMethod:"append",mountOn:"ready",playerId:null,preload:!0,loop:!0,width:0,height:0,controls:!0,autoplay:!0,hasPoster:!0,muted:!1,controlBar:{muteToggle:!1,volumeControl:!0},spinner:{top:void 0,left:void 0,color:void 0},startPoint:0,startPointAutoCalculation:!0,blackBackground:!1,viewMode:"modal",initialize:function(){var e=this;this.spinner=new a(n.defaults(this.spinner,n.clone(o))),this.app&&this.app.device&&this.app.device.isMobile?this.on("ready loadstart",function(){e.toggleSpinner(),e.$el.addClass("video-playing"),e.$(".video-js").addClass("vjs-has-started")}):this.once("playing",function(){return e.$el.addClass("video-playing")}),this.$mount&&this.once(this.mountOn,this.mountHandler)},serialize:function(){return n.extend({files:this.RAWVideoFiles||this.file.getVideoThumbs(this.getVideoThumbsSize(!1)),isEditorial:this.file&&this.file.get("editorial"),showTitle:this.getShowTitle(),title:this.file&&this.file.get("title"),isWebmAllowed:this.app.features.isFeatureOnValue("Is webm video thumb allowed")},this.makeVideoInfo(),this.makePlayerOptions())},clientAfterRender:function(){this.initVideoPlayer()},getShowTitle:function(){return this.app&&this.app.features&&this.app.features.isFeatureOnValue("Show file title in preview")},initVideoPlayer:function(){var e=this;this.toggleSpinner(!0),i.e(104).then(function(t){d=d||i(2211),e.destroyInactivePlayers(),e.playerId=d(e.getPlayerElement(),n.extend(e.makePlayerOptions(),e.makeVideoInfo())).id(),e.initPlayerEvents()}.bind(null,i)).catch(i.oe)},initPlayerEvents:function(){var e=this,t=this.getPlayer();t&&t.ready(function(){e.trigger("ready",e),t.muted(e.muted),t.userActive(!1),t.currentTime(e.makeStartPoint()),t.on("loadeddata",function(){e.checkVideoSoundTrack(),e.getPlayerElement().currentTime=e.makeStartPoint()}),t.on("loadstart",function(){e.toggleSpinner(!0),e.trigger("loadstart",e)}),t.on("playing",function(){e.toggleSpinner(!1),e.trigger("playing",e)}),t.on("error",function(){return e.onPlayerError()}),t.on("dispose",function(){e.stopListening(),e.undelegateEvents()}),t.on("touchend",function(i){e.el.getElementsByClassName("vjs-control-bar")[0].contains(i.target)||(t.paused()?e.startPlayer():e.pausePlayer())}),e.autoplay&&t.paused()&&e.startPlayer()})},calculateStartPoint:function(){var e=this.file&&this.file.get("mp")||0;return e>5?Math.floor(e/5):0},makeStartPoint:function(){return this.startPointAutoCalculation?this.calculateStartPoint():this.startPoint},makeVideoInfo:function(){var e={width:this.width,height:this.height};if(this.file){var t=c.getThumbSizes(this.file.serialize(),"huge");e.width=this.width||t.w,e.height=this.height||t.h}return e},makePlayerOptions:function(){return{controls:this.controls,preload:!!t.browser&&this.preload,loop:this.loop,blackBackground:this.blackBackground,poster:this.hasPoster?this.makePoster():null,controlBar:this.controlBar}},makePoster:function(){var e=this.file&&this.file.getVideoThumbs(this.getVideoThumbsSize(!0));return e&&e.jpg?e.jpg:this.RAWVideoFiles&&this.RAWVideoFiles.jpg?this.RAWVideoFiles.jpg:null},getVideoThumbsSize:function(e){var t=["modal","page"].includes(this.viewMode)?"huge":"wide";return e?t:c.getVideoClipThumbSize(this.file.serialize(),t)},getPlayerElement:function(){return"video"===this.el.tagName.toLowerCase()?this.el:this.$("video").get(0)},mountHandler:function(){this.mountPreview();var e=this.getPlayer();this.autoplay&&e&&e.paused()&&this.startPlayer(),this.app.observer.fire("Responsive:VideoPreviewMounted")},mountPreview:function(){return"html"===this.mountMethod?this.$mount.html(this.$el):-1===this.mountMethod.indexOf("insert")?this.$mount[this.mountMethod](this.$el):this.$el[this.mountMethod](this.$mount)},onPlayerError:function(){this.spinner.stop(),this.spinner=new a(n.extend(n.clone(o),{color:"#ff0000"})),this.toggleSpinner(!0)},checkVideoSoundTrack:function(){var e=this.getPlayer();if(e){var t=this.$("video").get(0),i=n.isUndefined(t.webkitAudioDecodedByteCount||t.mozHasAudio);e.toggleClass("vjs-silent-video",i)}},toggleSpinner:function(e){e?this.spinner.spin(this.$mount&&this.$mount.get(0)||this.el):this.spinner.stop()},getPlayer:function(){return d&&this.playerId?d.getPlayers()[this.playerId]:null},startPlayer:function(){var e=this.getPlayer();e&&e.play()},pausePlayer:function(){var e=this.getPlayer();e&&e.pause()},destroyInactivePlayers:function(){d&&n.each(d.getPlayers(),function(e,t){e?r.$("#"+t).length||e.dispose():delete d.players[t]})},cleanup:function(){this.toggleSpinner(),this.pausePlayer()}})}).call(this,i(17))},,,,,,,,,,,,,,function(e,t,i){},function(e,t,i){"use strict";var n=i(1446),o=i(496);e.exports=o.extend({name:"EarnedMoney",el:!1,template:n,balance:0,serialize:function(){return{balance:this.balance.toFixed(2)}}})},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(1459);var s=i(13),r=i(498),a=i(1460),l=i(496),c=i(497),d=i(1291),u=i(1502),h=i(20).classNames,p=i(501);e.exports=l.extend({name:"DownloadMethodSelector",el:!1,template:a,viewMode:"page",classNames:"",onlyDesktopView:!1,mobileTablets:!1,events:{"click ._methods":"togglePlansToolTip"},globals:{click:"onGlobalClick","resize window":"onWindowResize"},initialize:function(){this.userPlansManager=this.userPlansManager||this.app.store.get("UserPlansManager"),this.listenTo(this.userPlansManager,"change",this.render),this.collection&&this.listenTo(this.collection,"reset",this.render)},prepareRender:function(){return!(!this.isNeedToBeShown()||this.collection&&0===this.collection.length)||(this.$el&&this.$el.hide&&this.$el.hide(),!1)},serialize:function(){var e;return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({viewMode:this.viewMode,classNames:h((e={},e[this.classNames]=!0,e["download-method_white"]="page"===this.viewMode,e["download-method_black"]="modal"===this.viewMode,e))},this.userPlansManager.get("preferred"))},clientAfterRender:function(){this.getView("PlansTooltip")&&this.getView("PlansTooltip").isOpen()&&this.getView("PlansTooltip").repin(this.$("._methods")),!this.onlyDesktopView&&p.mobileTablets()?this.makePlansListMobile():this.makePlansList()},makePlansList:function(){this.setNotExistView("PlansTooltip",c,{name:"PlansTooltip",keep:!0,params:r.Products,classes:{"tooltip_extra-shadow":!0,"tooltip_not-border":!0,tooltip_rounding:!0},content:new d({app:this.app,plans:this.userPlansManager,handleProductClick:!1,chooseProductCallback:this.onChoosePlan.bind(this)})})},makePlansListMobile:function(){var e=new u({viewMode:this.viewMode,app:this.app,plans:this.userPlansManager,chooseProductCallback:this.onChoosePlan.bind(this)});this.setView("._mobile-products",e),e.render().promise().then(function(e){return s.$("._mobile-products").append(e.$el)})},isNeedToBeShown:function(){return this.userPlansManager.get("available").length>0},onGlobalClick:function(e){e.stopPropagation(),this.hidePlansToolTip()},onWindowResize:function(){if(!this.onlyDesktopView){var e=p.mobileTablets();e!==this.mobileTablets&&(this.mobileTablets=e,this.mobileTablets?(this.getView("PlansTooltip")&&this.getView("PlansTooltip").remove(),this.makePlansListMobile()):(this.getView("._mobile-products")&&this.getView("._mobile-products").remove(),this.makePlansList()))}},onChoosePlan:function(e){this.hidePlansToolTip(),this.userPlansManager.set({preferred:e}),this.chooseProductCallback(e)},togglePlansToolTip:function(e){e.preventDefault(),e.stopPropagation(),this.getView("._mobile-products")&&this.getView("._mobile-products").toggle(e),this.getView("PlansTooltip")&&this.getView("PlansTooltip").toggle(e)},hidePlansToolTip:function(){this.getView("._mobile-products")&&this.getView("._mobile-products").hide(),this.getView("PlansTooltip")&&this.getView("PlansTooltip").hide()},chooseProductCallback:function(){}})},function(e,t,i){"use strict";var n=i(1466),o=i(496);e.exports=o.extend({name:"Card",el:!1,template:n,mode:"view",size:"medium",initialize:function(){this.listenTo(this.model,"change",this.render)},serialize:function(){return{model:this.model.serialize(),classes:this.createCardClasses(),numberLength:this.model.prepareNumberForSet(this.model.get("number")).length}},createCardClasses:function(){var e=this.model.getTypeFromNumber(),t="card-box_size-"+this.size[0].toLowerCase();return"edit"===this.mode&&(t+=" card-box_edit"),e&&(t+=" card-box_type-"+e.replace(/_/g,"-")),t}})},function(e,t,i){"use strict";var n=i(4);e.exports=n.extend({url:"Rebill",isHttps:!0,defaults:{cardId:null,productId:null,productType:null,rebillState:null},validation:{cardId:{required:!1,pattern:"number"},productId:{required:!0,pattern:"number"},productType:{required:!0},rebillState:{required:!0,boolean:!0}}})},function(e,t,i){"use strict";i(1470);var n=i(0),o=i(1471),s=i(557),r=i(999),a=i(1295),l=i(1476),c=i(805),d=i(646);e.exports=s.extend({name:"MerchantForm",template:o,classNames:"",savedCards:[],useSaved:!1,initialize:function(e){var t=this;this.formId=e.formId||this.cid,this.model=e.model||new c(e.modelAttrs||{},{app:this.app}),this.listenTo(this.model,{request:this.onModelRequest,sync:this.onModelSyncSuccess,invalid:this.onModelInvalid,error:this.onModelError}),this.setViews({"._merchant-card-manager":new(this.useSaved?a:r)({app:this.app,model:this.model,savedCards:this.savedCards,onModelChangeCallback:function(){return t.onCardChangeCallback.apply(t,arguments)}})})},serialize:function(){return{formId:this.formId,classNames:this.classNames}},prepareSubmit:function(){var e=this.getView("._merchant-card-manager");e&&(this.model.set({captcha:e.getCaptchaValue()}),e.resetErrors())},validate:function(){return this.getView("._merchant-card-manager").validate()},submit:function(e){var t=this;void 0===e&&(e=!0);var i=function(){t.onStartFormSubmit(),t.model.save({},{success:t.onSaveSuccess.bind(t)})};e?this.confirmSubmit().then(function(){return i()}):i()},confirmSubmit:function(){var e=new Backbone.$.Deferred;return this.setNotExistView("ConfirmationModal",l).show().then(function(){return e.resolve()}),e},markError:function(e,t){this.getView("._merchant-card-manager").markError(e,t)},onSaveSuccess:function(e,t){e.validationError||t.errors||this.onSuccessFormSubmit(e,t)},onModelRequest:function(){this.getView("._merchant-card-manager").resetCaptchaError()},onModelSyncSuccess:function(e,t){this.onFinishFormSubmit(),t.errors&&this.getView("._merchant-card-manager").resetCaptcha()},onModelInvalid:function(e,t){this.checkForExternalErrors(e,t)},onModelError:function(e,t){this.onFinishFormSubmit();var i=d.parse(this.app,t.errors,{associate:!0});this.checkForExternalErrors(e,i)},checkForExternalErrors:function(e,t){var i=n.omit(t,Object.keys(e.defaults));n.isEmpty(i)||this.onModelExternalError(i)},onCardChangeCallback:function(){},onModelExternalError:function(){},onStartFormSubmit:function(){},onFinishFormSubmit:function(){},onSuccessFormSubmit:function(){}})},function(e,t,i){},function(e,t,i){"use strict";i(1489);var n=i(1490),o=i(0),s=i(539),r=i(1491),a=i(692),l=i(693);e.exports=s.extend({name:"RefillMembership",template:n,destroyOnHide:!0,defaultActiveOfferIndex:1,defaultActiveOfferID:0,footer:[{hide:!1,color:"green",defaultAction:!0,callback:"submitRefillMembership"}],body:function(){var e=this;return new r({app:this.app,type:this.type,backUrl:this.backUrl||this.app.parsedUrl.path,collection:this.offers,cards:this.cards,changeActiveOfferCallback:function(t){return e.setActiveOfferByOfferID(t)},onRequestCallback:this.onRequestCallback.bind(this),onSyncCallback:this.onSyncCallback.bind(this),onSuccessCallback:this.onSuccessCallback.bind(this)})},initialize:function(){var e=this;this.cards=new a([],{app:this.app,allCards:!0,url:"CreditCardsWithTax"}),this.listenTo(this.cards,"sync",function(t,i){var n=e.app.user.get("taxHelper");n.set(n.parse(i)),e.render()}),this.cards.fetch(),this.offers=new l([],{url:"FlexDownloads",app:this.app}),this.listenTo(this.offers,{sync:this.setDefaultActiveOffer,"change update reset":function(){e.render().promise().then(function(){e.findView("RefillMembershipForm").loading(!1)})}}),this.offers.fetch(),this.app.currency.init()},serialize:function(){var e=this.offers.findWhere({checked:!0}),t=e?this.app.user.getUserPlanDiscount(e.serialize()):0;return o.extend(s.prototype.serialize(),{discount:t&&parseInt(100*t.discount,10)||0})},clientAfterRender:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s.prototype.clientAfterRender.apply(this,t),this.offers.length&&this.trackOffersList()},trackOffersList:function(){this.app.observer.broadcast("Track:UE:Plans:UserSeePlans",{plans:this.offers.serializeLikeOffers(),currency:this.app.currency.get("active"),constructorIndex:1,view:this.name})},trackPurchase:function(){var e=this.offers.findWhere({checked:!0});this.app.observer.broadcast("Track:UE:Plans:UserWantToBuyPlan",{plan:e.serializeLikeOffer(),currency:this.app.currency.get("active"),constructorIndex:1,index:this.offers.indexOf(e)})},setDefaultActiveOffer:function(){this.offers.length>0&&!this.offers.findWhere({checked:!0})&&(this.defaultActiveOfferID?this.setActiveOfferByOfferID(this.defaultActiveOfferID,{silent:!0}):this.setActiveOffer(this.defaultActiveOfferIndex,{silent:!0})),this.findView("RefillMembershipForm").loading(!1)},setActiveOffer:function(e,t){o.each(this.offers.where({checked:!0}),function(e){return e.set({checked:!1},{silent:!0})});var i=this.offers.length>=e?this.offers.at(e):this.offers.first();i&&i.set({checked:!0},t)},setActiveOfferByOfferID:function(e){var t=this.offers.serializeLikeOffers(),i=Math.max(o.findIndex(t,function(t){return t.offerID===e}),0);this.setActiveOffer(i)},submitRefillMembership:function(){this.trackPurchase(),this.findView("RefillMembershipForm").submitForm(),this.app.observer.broadcast("Track:UE:Billing:FlexDownloadBuyClick")},onRequestCallback:function(){this.$("._btn").trigger("loading")},onSyncCallback:function(){this.$("._btn").trigger("loaded")},onSuccessCallback:function(){this.hide()}})},function(e,t,i){"use strict";var n=i(4),o=["address","city","zip","country","state"];e.exports=n.extend({defaults:{firstName:"",lastName:"",address:"",city:"",zip:"",state:"",country:""},validation:{firstName:{required:!1,msg:!0},lastName:{required:!1,msg:!0},address:{required:!1,msg:!0},city:{required:!0,msg:!0},zip:{required:!0,msg:!0},state:{required:!0,msg:!0},country:{required:!0,msg:!0}},initialize:function(){var e=this;this.on("change",function(t){Object.keys(t.changed).some(function(e){return o.includes(e)})&&e.trigger("addressChanged",e)})},parse:function(e){return void 0===e&&(e={}),this.pickDefaultsFrom(e.data)}})},function(e,t,i){},function(e,t,i){"use strict";(function(e){function t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(1531),i(1532),i(1533),i(1534);var o=i(0),s=i(13),r=i(7),a=i(498),l=i(65),c=i(68).apiErrors,d=i(68).captchaErrors,u=i(1535),h=i(1536),p=i(1537),f=i(1538),m=i(725),g=i(496),b=i(497),v=i(539),_=i(1025),w=i(574),y=i(1539),x=i(1540),C=i(531),k=i(565),S=i(922),T=i(501),P=i(20),M=P.bankerRounding,O=P.classNames,E=i(722),A=i(6).getLogger,D=i(1541),L=i(630),I=A(e),F=g.extend({name:"PriceTable",el:!1,template:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.shouldUseMobileView()?f.apply(this,t):this.app.features.isFeatureOnValue("File View Classic")?p.apply(this,t):u.apply(this,t)},viewMode:"page",mobileTablets:!1,signUpModalAllowed:!1,downloadModels:{},downloading:0,refPrefix:"",isDesktopSmall:!1,isPinnedButton:!0,isMobileMode:!1,buttonClassNames:"",licenseButtonClassNames:"",events:{"change ._save":"onSaveChange","click ._row":"onTableRowClick","click ._tab":"onSwitcherTabClick","click ._license":"onLicenseClick","click ._download-button":"onDownloadClick","mouseenter ._tooltip-vector":"showVectorTooltip","mouseleave ._tooltip-vector":"hideVectorTooltip","mouseenter ._editorial-tooltip":"toggleEditorialTooltip","mouseleave ._editorial-tooltip":"toggleEditorialTooltip"},globals:{"resize window":"onWindowResize","scroll window":"onWindowScroll"},initialize:function(){var e=this;this.userPlansManager=this.userPlansManager||this.app.store.get("UserPlansManager"),this.priceTable=new y({file:this.file,product:this.userPlansManager.get("preferred")},{app:this.app}),this.listenTo(this.file,"change:purchased change:sizeMask change:licensed",this.render),this.on("item.downloaded",this.render),this.listenTo(this.priceTable,"change",this.render),this.listenTo(this.userPlansManager,{change:function(){return e.priceTable.set({product:e.userPlansManager.get("preferred")})}}),this.listenTo(this.app.observer,"Sidebar:PurchaseComplete",function(t){var i=t.fileId,n=void 0===i?null:i;n&&n!==e.file.get("id")||(e.userPlansManager.definePreferredBuyingPlan({priorUserAvailable:!0}),e.render().promise().then(function(){return e.proceedDownloadForAuthUser()}))}),this.listenTo(this.app.observer,"Responsive:VideoPreviewMounted",this.togglePin)},prepareRender:function(){var e=this;return this.isMobileMode=this.isMobileModeEnabled(),this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")&&(this.isPinnedButton=!1,this.setMatchMedia(this.render.bind(this))),this.table=this.priceTable.buildTable(this.file),this.table.body.length?0===this.downloading&&(o.each(this.downloadModels,function(t,i){i!==e.file.get("id")&&delete e.downloadModels[i]}),!0):(this.template=h,!0)},serialize:function(){var e,t,i=this.priceTable.get("chosen"),n=this.getDownloadModel(i).serialize(),s=this.checkSizeCanBeDownload(),a=this.app.user.isEnterprise(),l=this.elChosen()&&"video"!==this.file.get("type")&&!s&&!a,c=this.isSaveAvailable();return{table:this.table,file:this.file.serialize(),download:n,searchQuery:this.app.store.get("SearchQuery")?o.pick(this.app.store.get("SearchQuery").attributes,"offset","hash"):void 0,userHasPermissionsToLicense:this.app.user.hasPermissionsTo("enterprise","license"),userHasPermissionsToDownload:this.app.user.hasPermissionsToDownload()||this.file.isLicensed(i),isEnterpriseUser:a,isFooterWithNote:!this.canBeDownload&&!this.isEnterpriseUser,canBeDownload:s,viewMode:this.viewMode,classNames:O((e={},e[this.classNames]=!0,e["price-table-classic_mobile"]=this.shouldUseMobileView(),e["price-table-classic_upgrade"]="page"===this.viewMode&&this.app.features.isFeatureOnValue("File View Mobile Design Upgrade"),e)),footerClassNames:O((t={},t[this.footerClassNames]=!0,t["price-table-classic__footer_noted"]=c,t)),licenseButtonClassNames:this.licenseButtonClassNames,buttonClassNames:this.buttonClassNames,notedDownload:c,priceInButton:this.app.user.isLoggedIn(),captcha:{siteKey:r.client.recaptcha.publicKey},downloadButtonText:this.getDownloadButtonText(),availableMethods:this.userPlansManager.get("available"),elLabel:l?this.getElLabel():"",save:c?{checked:this.priceTable.get("save"),profit:this.getSavedProfit()}:null,formActionUrl:"/cart/purchase.html"}},clientAfterRender:function(){var e=this;"vector"===this.file.get("type")&&this.setNotExistView("vectorTooltip",b,{name:"VectorTooltip",params:a.PriceTableVector,content:new g({el:!1,template:function(){return this.tr(l.AIFilesHelpMessage)}})}),this.file.get("editorial")&&this.setNotExistView("editorialTooltip",b,{params:a.ViewInfoEditorial,content:new g({el:!1,template:m})}),C(this.$el,s.$),this.$("._download-button").each(function(t,i){return k(e.$(i),{color:"modal"===e.viewMode?"#fff":void 0})}),this.setPricePosition(),this.sizeChangedCallback(),this.isPinnedButton&&(this.setVariablesForHandlePin(),this.togglePin())},setVariablesForHandlePin:function(){"page"!==this.viewMode&&(this.scrollElement=document.querySelector("._modal-container"),this.setScrollElementListener()),this.breakPointEl=document.querySelector("footer"),this.element=this.$("._price-table-footer"),this.hiddenPinnedClass=this.app.features.isFeatureOnValue("File View Classic")?"price-table-classic__footer_pinned-hidden":"price-table__footer_pinned-hidden",this.pinnedClass=this.app.features.isFeatureOnValue("File View Classic")?"price-table-classic__footer_pinned":"price-table__footer_pinned",this.modalExtraSpaceClass="file-view-modal_extra-space"},shouldUseMobileView:function(){return"page"===this.viewMode&&this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")&&this.isMobileMode},checkSizeCanBeDownload:function(e){void 0===e&&(e=this.priceTable.get("chosen"));var t=this.priceTable.get("product");return this.app.user.isLoggedIn()&&(this.app.user.isEnterprise()||this.file.isPurchased(e)||this.file.isLicensed(e)||this.app.user.hasPlans()&&this.app.licensor.checkSizeCanBeDownload(this.file,t,e)&&t.left)},elChosen:function(){return"el0"===this.priceTable.get("chosen")},getSavedProfit:function(){var e=this.getSingleDownloadOffer(),t=this.getCheapestDownloadOffer();return e&&t?M(t.get("price")/t.get("count")/e.get("price")*100)+"%":null},isSaveAvailable:function(){return this.app.features.isFeatureEnabled("Plans with Member Collection",2)&&this.app.store.get("PresetOffers")&&["image","vector"].includes(this.file.get("type"))&&!this.file.isPurchased(this.priceTable.get("chosen"))&&!this.file.get("free")&&!this.elChosen()&&!this.checkSizeCanBeDownload()},getCheapestDownloadOffer:function(){return this.app.store.get("PresetOffers").where({bit_price:this.app.config.prices.resources.membership,period:360}).sort(function(e,t){return e.get("count")-t.get("count")}).pop()},getSingleDownloadOffer:function(){return this.app.store.get("PresetOffers").findWhere({bit_price:this.app.config.prices.resources.ondemand_image_standart,count:1})},getSavedDownloadPrice:function(){var e=this.getSingleDownloadOffer();return e?e.get("price"):null},getDownloadButtonText:function(){var e=this.priceTable.get("chosen"),t=this.getFileTypeOverride(this.file.get("type"),e),i=[{type:"image",label:this.tr("Download Image")},{type:"vector",label:this.tr("Download Vector")},{type:"video",label:this.tr("Download Video")}];if(this.file.isPurchased(e)||this.file.isLicensed(e))return this.tr("Re-Download_full");if(this.app.user.isEnterprise())return this.tr("Download Comp");if(this.isSaveAvailable()){var n=this.getSingleDownloadOffer(),o=n&&n.get("currency"),s=this.app.currency.get("list").getByCode(o).format(this.getSavedDownloadPrice());i=[{type:"image",label:this.tr("Download Image for %s",s)},{type:"vector",label:this.tr("Download Vector for %s",s)}]}return i.find(function(e){return e.type===t}).label},getElLabel:function(){return this.tr("Files under the Extended license can be<br /> downloaded using On Demand Downloads<br /> for Extended License only.")},getFileTypeOverride:function(e,t){return"vector"!==this.file.get("type")||["vect","el0"].includes(t)?this.file.get("type"):"image"},setPricePosition:function(){var e=this.$("._size-box"),t=parseInt(e.css("marginLeft"),10)+parseInt(e.css("marginRight"),10),i=e.outerWidth()*e.length+t*(e.length-1),n=this.$("._price-box"),o=this.$("._download-button"),s=o.length?o.outerWidth():0,r=0;r=s+n.outerWidth()<=i?i-n.outerWidth():s,n.css({left:r})},onSaveChange:function(e){this.priceTable.set({save:e.currentTarget.checked})},onTableRowClick:function(e){this.setChosenSize(s.$(e.currentTarget).find('input[name="size"]').val())},onSwitcherTabClick:function(e){this.priceTable.set({units:e.currentTarget.getAttribute("data-key")})},onLicenseClick:function(e){e.preventDefault(),e.stopPropagation(),this.onLicenseBtnClick()},onDownloadClick:function(e){e.preventDefault(),this.resetError(),this.app.observer.broadcast("Track:UE:File:DownloadClick",{id:this.file.get("id"),file:this.file,product:this.file.get("free")?0:this.userPlansManager.get("preferred").bit_price,size:this.priceTable.get("chosen"),route:this.app.router.routeName,view:this.name}),this.app.user.isLoggedIn()?this.proceedDownloadForAuthUser():this.proceedDownloadForGuest()},proceedDownloadForGuest:function(){"Cart"!==this.app.router.routeName?(this.listenToOnce(this.app.observer,"Cart:added",this.doPurchaseAndDownloadForGuest),this.app.observer.fire("Cart:add",{fileId:this.file.get("id")})):this.doPurchaseAndDownloadForGuest()},proceedDownloadForAuthUser:function(){var e=this.$("._note");e.is(":visible")&&!e.hasClass("animation-el-note")&&this.app.user.checkExtendedProduct()?(e.addClass("animation-el-note"),this.getDownloadButton(this.priceTable.get("chosen")).trigger("loaded")):this.doPurchaseAndDownload()},doPurchaseAndDownloadForGuest:function(){var e=this;if(this.signUpModalAllowed){var t=new w({app:this.app});this.initDownloadChain().then(function(){return e.app.chain.addNextStepDummyRoute(function(){e.isSaveAvailable()?(t.hide(),e.app.user.fetch().then(function(){e.app.chain.destroyChain(),e.doPurchaseAndDownload()})):e.app.chain.execute("Signup",!0)})}),t.show(),this.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:this.app.history.first().get("route")+"/download"})}else this.doPurchaseAndDownload()},getDownloadButton:function(e){var t=this.$('._download-button[value="'+e+'"]');return t.length>0?t:this.$("._download-button")},getDownloadChainName:function(){return this.file.get("free")&&!this.elChosen()?"download-free":"download"},injectPurchased:function(e,t){var i=this;void 0===t&&(t=[]);var n=t[0]&&t[0].error_message,o=!n||{error:n},s=this.app.config.prices.singlePaySizes&&this.app.config.prices.singlePaySizes[e];this.app.features.isFeatureEnabled("Single pay for multiple sizes",1)&&s?s.forEach(function(e){i.file.setPurchase(e,o)}):this.file.setPurchase(e,o)},initDownloadChain:function(){return this.app.chain.initChain(this.getDownloadChainName(),{refPrefix:this.refPrefix,fileId:this.file.get("id"),fileType:this.file.get("type")})},createDownloadModel:function(e,i){var o=this,s=this.priceTable.get("product"),r=i?this.app.licensor.getConfigForSize(i,this.file,void 0,!0):{},a=i?this.app.licensor.getLicenseByBit(r.licenseBit):{},l=function(){return{source:"item",itemId:e,size:i,license:2===a.id?"extended":"standard",purchased:o.file.isPurchased(i),fileType:"video"===o.file.get("type")?"video":"image",method:"imagepack"===s.type?"bonus":s.type,subscription:"subscription"===s.type?s.id:0,resolution:s.subproduct||"standart",splitCount:s.split_count||0}},c=new x(l(),function(e){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?t(o,!0).forEach(function(t){n(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({app:this.app},this.app.user.isEnterprise()?{url:this.getEnterpriseDownloadUrl()}:{}));return c.listenTo(this.priceTable,"change",function(){return c.secureSet(l())}),this.listenTo(c,{"change:link":this.onGetDownloadLink,invalid:this.onInvalidDownload,error:this.onDownloadError}),c},getEnterpriseDownloadUrl:function(){var e=this.priceTable.get("chosen");return this.file.isPurchased(e)||this.file.isLicensed(e)?"GetDownloadLink":"ComplimentaryDownload"},getDownloadModel:function(e){var t=this.file.get("id");return this.downloadModels[t]||(this.downloadModels[t]={}),this.downloadModels[t][e]||(this.downloadModels[t][e]=this.createDownloadModel(t,e)),this.downloadModels[t][e].set({"g-recaptcha-response":this.$(".g-recaptcha-response").val()||""}),this.downloadModels[t][e]},downloadPreparationsDone:function(){if(this.isSaveAvailable()){if(this.priceTable.get("save"))return this.app.router.redirect(this.app.makeUrl("subscribe",{backURL:!0,query:{ref:this.file.get("id")}})),!1;var e=this.getSingleDownloadOffer();return this.app.observer.fire("Sidebar:PurchaseEnable",{file:this.file,offers:[e],offersMask:e.get("bit_price")}),!1}return this.isNeedToShowElSidebar()?(this.app.observer.fire("Sidebar:PurchaseEnable",{file:this.file,offersMask:this.app.config.prices.resources.ondemand_image_el}),!1):!this.isNeedToRefillPlan()||(this.showRefillMembershipModal(),!1)},doPurchaseAndDownload:function(){var e=this.priceTable.get("chosen");(this.file.get("free")&&!this.elChosen()||this.file.isPurchased(e)||this.downloadPreparationsDone())&&(this.downloading+=1,this.getDownloadButton(e).trigger("loading"),this.getDownloadModel(e).requestLink())},isNeedToShowElSidebar:function(){return this.app.features.isFeatureEnabled("Plans with Member Collection",2)&&this.elChosen()&&!this.app.user.isEnterprise()&&!this.checkSizeCanBeDownload()},isNeedToRefillPlan:function(){var e=this.priceTable.get("product").type;if("membership"!==e)return!1;var t=o.chain(this.app.user.serializeUserPlans({type:e})).sortBy("order").first().value();return!(t&&this.app.user.products.findWhere({type:e,id:t.id}).canBePurchased())},onGetDownloadLink:function(e,t){var i=this,n=e.get("size");S.downloadByUrl({app:this.app,link:t,callback:function(){i.getDownloadButton(n).trigger("loaded"),i.downloading-=1,0===i.downloading&&i.trigger("item.downloaded"),i.app.user.fetch()}});var o=this.file.isLicensed(this.priceTable.get("chosen")),s=["EnterpriseLicensedDownloads","EnterpriseCompDownloads"].indexOf(this.app.router.routeName)>-1,r=this.userPlansManager.get("preferred"),a=r.type;if(!this.app.user.isEnterprise()||o||s){if(!this.app.user.isEnterprise()){var l=r.bit_price;this.file.get("free")&&(l="Free",this.file.isFreeCurated()&&(l="FreeCurated",a="membership")),this.app.observer.broadcast("Track:UE:File:Download",{route:this.app.router.routeName,id:this.file.get("id"),file:this.file,size:e.get("size"),reDownload:this.file.isPurchased(e.get("size")),cost_type:l,view:this.name,plan:this.app.tracking.rewriteProduct(a)})}}else this.app.observer.broadcast("Track:UE:File:AddToCart",{id:this.file.get("id"),file:this.file.serialize(),view:this.name});this.injectPurchased(e.get("size")),this.onDownloadBegins()},onInvalidDownload:function(e,t){var i=this;if(this.downloading-=1,t.length&&o.some(t,function(e){return e.error_code===c.haveNoPermissionToSection}))return this.getDownloadButton(e.get("size")).trigger("loaded"),new v({app:this.app,title:this.tr("Service Message"),message:o.map(t,function(e){return e.error_message}).join(" ")}).show(),void I.warn("DOWNLOAD ERROR: Cannot get download link. Something wrong with arrived data",t);var n=o.find(t,function(e){return!!o.contains(Object.values(d),+e.error_code)&&e});if(n)return this.getDownloadButton(e.get("size")).trigger("loaded"),this.showError(n.error_code,n.error_message),void E.injectScript().then(function(){return E.render(i.$(".g-recaptcha")[0])}).then(function(){return i.sizeChangedCallback()});t.length&&("Cart"!==this.app.router.routeName&&this.app.observer.broadcast("Track:UE:File:AddToCart",{id:this.file.get("id"),file:this.file.serialize(),view:this.name}),this.injectPurchased(e.get("size"),t),this.initDownloadChain().then(function(){return i.app.chain.start(t[0])}))},onDownloadError:function(e,t){E.reset(this.$(".g-recaptcha-response")),t.responseJSON&&t.responseJSON.errors?this.onInvalidDownload(e,t.responseJSON.errors):I.warn("DOWNLOAD ERROR: Cannot get download link. Server returns error: ",t)},setChosenSize:function(e,t){this.priceTable.set({chosen:e},t||{})},showRefillMembershipModal:function(){new _({app:this.app,type:"notAvailable"}).show()},resetError:function(){this.$("._download-error").text("")},showError:function(e,t){this.$("._download-error").text(e+"::"+t),this.sizeChangedCallback()},getActiveTableRowData:function(){return this.table&&this.table.body&&o.findWhere(this.table.body,{active:!0})||null},showVectorTooltip:function(e){e.preventDefault(),this.getView("vectorTooltip").show(e)},hideVectorTooltip:function(e){e.preventDefault(),this.getView("vectorTooltip").hide(e)},toggleEditorialTooltip:function(e){this.getView("editorialTooltip").toggle(e)},onWindowResize:o.throttle(function(){T.desktopSmall()!==this.isDesktopSmall&&(this.isDesktopSmall=T.desktopSmall(),this.setPricePosition()),this.togglePin()},100),onLicenseBtnClick:function(){},onDownloadBegins:function(){},sizeChangedCallback:function(){},onWindowScroll:function(){},togglePin:function(){}});Object.assign(F.prototype,D,L),e.exports=F}).call(this,i(3)(e))},function(e,t){e.exports="/_img/depositphotos-logo.png?fb7630d97be192b959d977a43cf4d47f"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="modal-container _modal-container"><div class="modal _modal '+t(e.modalClasses)+'" '+t(e.modalAttrs)+">";if(e.noBorder||(i+='<div class="modal__border"></div>'),i+='<div class="modal__dialog">',e.showHeader&&(i+='<div class="modal__header _drag-handler">',e.showTitle&&(i+='<div class="modal__title">'+this.tr(e.title)+"</div>"),e.roundCloseButton?i+='<i class="modal__close-round icon icon-close-cross icon-round-hover _close"></i>':i+='<i class="modal__close-button button-close-simple _close"></i>',i+="</div>"),i+='<div class="modal__body _body '+t(e.bodyClasses)+'">\x3c!--body mount--\x3e</div>',e.footer.length){i+='<div class="modal__footer _footer '+t(e.footerClasses)+'">';var n=e.footer;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<button class="button button-l button-pill button-modal-footer button-'+t((o=n[s+=1]).color||"white")+" modal__footer-button "+t(o.selector||"")+' _btn"',o.disabled&&(i+="disabled"),i+=">"+this.tr(o.label)+"</button>";i+="</div>"}return e.leftBtn&&(i+='<div class="modal__arrow modal__arrow-left"><span class="modal__arrow-border"></span><span class="modal__arrow-container _left-arrow-button"><i class="modal__arrow-container-content"></i></span></div>'),e.rightBtn&&(i+='<div class="modal__arrow  modal__arrow-right"><span class="modal__arrow-border"></span><span class="modal__arrow-container _right-arrow-button"><i class="modal__arrow-container-content"></i></span></div>'),i+="</div></div></div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="_overlay modal-overlay';return e.overlayClasses&&(i+=" "+t(e.overlayClasses)),i+='"',e.styleString&&(i+=' style="'+t(e.styleString)+'"'),i+="></div>"}},function(e,t,i){var n,o,s;o=[i(104),i(996),i(1273),i(1386),i(1387),i(1388),i(1274),i(674),i(914)],void 0===(s="function"==typeof(n=function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",t)&&i._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),o=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options,s=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(n=(i=e(o.containment))[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=o.containment:this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,o,s,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-r.grid[0]:s+r.grid[0]:s),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var o=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i,n){var o=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){this.isOver?(this.isOver=0,n.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,o))})},drag:function(t,i,n){e.each(n.sortables,function(){var o=!1,s=this;s.positionAbs=n.positionAbs,s.helperProportions=n.helperProportions,s.offset.click=n.offset.click,s._intersectsWith(s.containerCache)&&(o=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(o=!1),o})),o?(s.isOver||(s.isOver=1,n._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=n.offset.click.top,s.offset.click.left=n.offset.click.left,s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top,n._trigger("toSortable",t),n.dropped=s.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,s.fromOutside=n),s.currentItem&&(s._mouseDrag(t),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var o=e("body"),s=n.options;o.css("cursor")&&(s._cursor=o.css("cursor")),o.css("cursor",s.cursor)},stop:function(t,i,n){var o=n.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var o=e(i.helper),s=n.options;o.css("opacity")&&(s._opacity=o.css("opacity")),o.css("opacity",s.opacity)},stop:function(t,i,n){var o=n.options;o._opacity&&e(i.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var o=n.options,s=!1,r=n.scrollParentNotHidden[0],a=n.document[0];r!==a&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+r.offsetHeight-t.pageY<o.scrollSensitivity?r.scrollTop=s=r.scrollTop+o.scrollSpeed:t.pageY-n.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=s=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+r.offsetWidth-t.pageX<o.scrollSensitivity?r.scrollLeft=s=r.scrollLeft+o.scrollSpeed:t.pageX-n.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=s=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(a).scrollTop()<o.scrollSensitivity?s=e(a).scrollTop(e(a).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<o.scrollSensitivity&&(s=e(a).scrollTop(e(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(a).scrollLeft()<o.scrollSensitivity?s=e(a).scrollLeft(e(a).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<o.scrollSensitivity&&(s=e(a).scrollLeft(e(a).scrollLeft()+o.scrollSpeed)))),!1!==s&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var o=n.options;n.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var o,s,r,a,l,c,d,u,h,p,f=n.options,m=f.snapTolerance,g=i.offset.left,b=g+n.helperProportions.width,v=i.offset.top,_=v+n.helperProportions.height;for(h=n.snapElements.length-1;h>=0;h--)c=(l=n.snapElements[h].left-n.margins.left)+n.snapElements[h].width,u=(d=n.snapElements[h].top-n.margins.top)+n.snapElements[h].height,b<l-m||g>c+m||_<d-m||v>u+m||!e.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(d-_)<=m,s=Math.abs(u-v)<=m,r=Math.abs(l-b)<=m,a=Math.abs(c-g)<=m,o&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=o||s||r||a,"outer"!==f.snapMode&&(o=Math.abs(d-v)<=m,s=Math.abs(u-_)<=m,r=Math.abs(l-g)<=m,a=Math.abs(c-b)<=m,o&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(o||s||r||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=o||s||r||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var o,s=n.options,r=e.makeArray(e(s.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});r.length&&(o=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var o=e(i.helper),s=n.options;o.css("zIndex")&&(s._zIndex=o.css("zIndex")),o.css("zIndex",s.zIndex)},stop:function(t,i,n){var o=n.options;o._zIndex&&e(i.helper).css("zIndex",o._zIndex)}}),e.ui.draggable})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){var n,o,s;o=[i(104),i(674)],void 0===(s="function"==typeof(n=function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){var n,o,s;o=[i(104),i(674)],void 0===(s="function"==typeof(n=function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])}})})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){var n,o,s;o=[i(104),i(674)],void 0===(s="function"==typeof(n=function(e){return e.fn.scrollParent=function(t){var i=this.css("position"),n="absolute"===i,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:e(this[0].ownerDocument||document)}})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){"use strict";!function(e){var t=e.Callbacks("once unique memory"),i=0,n=null;if(window.FileReader)e.fn.fileReader=function(){return this};else{e.fn.fileReader=function(i){i=e.extend(e.fn.fileReader.defaults,i);var n=this;return t.add(function(){return o(n,i)}),e.isFunction(i.callback)&&t.add(i.callback),FileAPIProxy.ready||FileAPIProxy.init(i),this},e.fn.fileReader.defaults={id:"fileReaderSWFObject",multiple:null,accept:null,label:null,extensions:null,filereader:"files/filereader.swf",expressInstall:null,debugMode:!1,callback:!1};var o=function(t,o){return t.each(function(t,s){var r,a,l=(s=e(s)).attr("id");l||(l="flashFileInput"+i,i++),r=s.parent("label"),(a=r.length>0?r:s).attr("id",a.attr("id")||l),o.multiple=!!(null===o.multiple?s.attr("multiple"):o.multiple),o.accept=null===o.accept?s.attr("accept"):o.accept,FileAPIProxy.inputs[l]=s,FileAPIProxy.swfObject.add(a.attr("id"),o.multiple,o.accept,o.label,o.extensions),a.css("z-index",0).mouseover(function(e){l!==n&&(e=e||window.event,n=l,FileAPIProxy.swfObject.mouseover(a.attr("id")),FileAPIProxy.container.height(a.outerHeight()).width(a.outerWidth()).css(a.offset()))}).click(function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1})})};window.FileAPIProxy={ready:!1,init:function(i){var o=this;this.debugMode=i.debugMode,this.container=e("<div>").attr("id",i.id).wrap("<div>").parent().css({position:"fixed",width:"1px",height:"1px",display:"inline-block",background:"transparent","z-index":99999}).on("mouseover mouseout mousedown mouseup",function(t){n&&e("#"+n).trigger(t.type)}).appendTo("body"),swfobject.embedSWF(i.filereader,i.id,"100%","100%","10",i.expressInstall,{debugMode:!!i.debugMode||""},{wmode:"transparent",allowScriptAccess:"sameDomain"},{},function(i){o.swfObject=i.ref,e(o.swfObject).css({display:"block",outline:0}).attr("tabindex",0),o.ready&&t.fire(),o.ready=i.success&&"function"==typeof i.ref.add})},swfObject:null,container:null,inputs:{},readers:{},onFileInputEvent:function(e){if(this.debugMode&&console.info("FileInput Event ",e.type,e),e.target in this.inputs){var t=this.inputs[e.target];e.target=t[0],"change"===e.type&&(e.files=new FileList(e.files),e.target={files:e.files}),t.trigger(e)}window.focus()},onFileReaderEvent:function(e){if(this.debugMode&&console.info("FileReader Event ",e.type,e,e.target in this.readers),e.target in this.readers){var t=this.readers[e.target];e.target=t,t._handleFlashEvent.call(t,e)}},onFileReaderError:function(e){this.debugMode&&console.log(e)},onSWFReady:function(){return this.container.css({position:"absolute"}),this.ready="function"==typeof this.swfObject.add,this.ready&&t.fire(),!0}},window.FileReader=function(){this.EMPTY=0,this.LOADING=1,this.DONE=2,this.readyState=0,this.result=null,this.error=null,this.onloadstart=null,this.onprogress=null,this.onload=null,this.onabort=null,this.onerror=null,this.onloadend=null,this._callbacks={loadstart:e.Callbacks("unique"),progress:e.Callbacks("unique"),abort:e.Callbacks("unique"),error:e.Callbacks("unique"),load:e.Callbacks("unique"),loadend:e.Callbacks("unique")},this._id=null},window.FileReader.prototype={readAsBinaryString:function(e){this._start(e),FileAPIProxy.swfObject.read(e.input,e.name,"readAsBinaryString")},readAsText:function(e,t){this._start(e),FileAPIProxy.swfObject.read(e.input,e.name,"readAsText")},readAsDataURL:function(e){this._start(e),FileAPIProxy.swfObject.read(e.input,e.name,"readAsDataURL")},readAsArrayBuffer:function(e){throw"Whoops FileReader.readAsArrayBuffer is unimplemented"},abort:function(){this.result=null,this.readyState!==this.EMPTY&&this.readyState!==this.DONE&&FileAPIProxy.swfObject.abort(this._id)},addEventListener:function(e,t){e in this._callbacks&&this._callbacks[e].add(t)},removeEventListener:function(e,t){e in this._callbacks&&this._callbacks[e].remove(t)},dispatchEvent:function(t){if(t.target=this,t.type in this._callbacks){var i=this["on"+t.type];e.isFunction(i)&&i(t),this._callbacks[t.type].fire(t)}return!0},_register:function(e){this._id=e.input+"."+e.name,FileAPIProxy.readers[this._id]=this},_start:function(e){if(this._register(e),this.readyState===this.LOADING)throw{type:"InvalidStateError",code:11,message:"The object is in an invalid state."}},_handleFlashEvent:function(e){switch(e.type){case"loadstart":this.readyState=this.LOADING;break;case"loadend":this.readyState=this.DONE;break;case"load":this.readyState=this.DONE,this.result=FileAPIProxy.swfObject.result(this._id);break;case"error":this.result=null,this.error={name:"NotReadableError",message:"The File cannot be read!"}}this.dispatchEvent(new FileReaderEvent(e))}},FileReaderEvent=function(e){this.initEvent(e)},FileReaderEvent.prototype={initEvent:function(t){e.extend(this,{type:null,target:null,currentTarget:null,eventPhase:2,bubbles:!1,cancelable:!1,defaultPrevented:!1,isTrusted:!1,timeStamp:(new Date).getTime()},t)},stopPropagation:function(){},stopImmediatePropagation:function(){},preventDefault:function(){}},FileList=function(e){if(e){for(var t=0;t<e.length;t++)this[t]=e[t];this.length=e.length}else this.length=0},FileList.prototype={item:function(e){return e in this?this[e]:null}}}}(Backbone.$)},function(e,t){var i=function(){var e,t,n,o,s,r,a="undefined",l="object",c="Shockwave Flash",d="application/x-shockwave-flash",u="SWFObjectExprInst",h="onreadystatechange",p=window,f=document,m=navigator,g=!1,b=[function(){g?function(){var e=f.getElementsByTagName("body")[0],t=$(l);t.setAttribute("type",d);var i=e.appendChild(t);if(i){var n=0;!function(){if(typeof i.GetVariable!=a){var o=i.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),k.pv=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)])}else if(n<10)return n++,void setTimeout(arguments.callee,10);e.removeChild(t),i=null,M()}()}else M()}():M()}],v=[],_=[],w=[],y=!1,x=!1,C=!0,k=function(){var e=typeof f.getElementById!=a&&typeof f.getElementsByTagName!=a&&typeof f.createElement!=a,t=m.userAgent.toLowerCase(),i=m.platform.toLowerCase(),n=/win/.test(i||t),o=/mac/.test(i||t),s=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),r=!1,u=[0,0,0],h=null;if(typeof m.plugins!=a&&typeof m.plugins[c]==l)!(h=m.plugins[c].description)||typeof m.mimeTypes!=a&&m.mimeTypes[d]&&!m.mimeTypes[d].enabledPlugin||(g=!0,r=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),u[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),u[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,"$1"),10),u[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof p[["Active"].concat("Object").join("X")]!=a)try{var b=new(window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");b&&(h=b.GetVariable("$version"))&&(r=!0,h=h.split(" ")[1].split(","),u=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(e){}return{w3:e,pv:u,wk:s,ie:r,win:n,mac:o}}();k.w3&&((typeof f.readyState!=a&&"complete"==f.readyState||typeof f.readyState==a&&(f.getElementsByTagName("body")[0]||f.body))&&S(),y||(typeof f.addEventListener!=a&&f.addEventListener("DOMContentLoaded",S,!1),k.ie&&k.win&&(f.attachEvent(h,function(){"complete"==f.readyState&&(f.detachEvent(h,arguments.callee),S())}),p==top&&function(){if(!y){try{f.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}S()}}()),k.wk&&function(){y||(/loaded|complete/.test(f.readyState)?S():setTimeout(arguments.callee,0))}(),P(S)));function S(){if(!y){try{var e=f.getElementsByTagName("body")[0].appendChild($("span"));e.parentNode.removeChild(e)}catch(e){return}y=!0;for(var t=b.length,i=0;i<t;i++)b[i]()}}function T(e){y?e():b[b.length]=e}function P(e){if(typeof p.addEventListener!=a)p.addEventListener("load",e,!1);else if(typeof f.addEventListener!=a)f.addEventListener("load",e,!1);else if(typeof p.attachEvent!=a)!function(e,t,i){e.attachEvent(t,i),w[w.length]=[e,t,i]}(p,"onload",e);else if("function"==typeof p.onload){var t=p.onload;p.onload=function(){t(),e()}}else p.onload=e}function M(){var e=v.length;if(e>0)for(var t=0;t<e;t++){var i=v[t].id,n=v[t].callbackFn,o={success:!1,id:i};if(k.pv[0]>0){var s=z(i);if(s)if(!N(v[t].swfVersion)||k.wk&&k.wk<312)if(v[t].expressInstall&&E()){var r={};r.data=v[t].expressInstall,r.width=s.getAttribute("width")||"0",r.height=s.getAttribute("height")||"0",s.getAttribute("class")&&(r.styleclass=s.getAttribute("class")),s.getAttribute("align")&&(r.align=s.getAttribute("align"));for(var l={},c=s.getElementsByTagName("param"),d=c.length,u=0;u<d;u++)"movie"!=c[u].getAttribute("name").toLowerCase()&&(l[c[u].getAttribute("name")]=c[u].getAttribute("value"));A(r,l,i,n)}else D(s),n&&n(o);else H(i,!0),n&&(o.success=!0,o.ref=O(i),n(o))}else if(H(i,!0),n){var h=O(i);h&&typeof h.SetVariable!=a&&(o.success=!0,o.ref=h),n(o)}}}function O(e){var t=null,i=z(e);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=a)t=i;else{var n=i.getElementsByTagName(l)[0];n&&(t=n)}return t}function E(){return!x&&N("6.0.65")&&(k.win||k.mac)&&!(k.wk&&k.wk<312)}function A(i,s,r,l){x=!0,n=l||null,o={success:!1,id:r};var c=z(r);if(c){"OBJECT"==c.nodeName?(e=L(c),t=null):(e=c,t=r),i.id=u,(typeof i.width==a||!/%$/.test(i.width)&&parseInt(i.width,10)<310)&&(i.width="310"),(typeof i.height==a||!/%$/.test(i.height)&&parseInt(i.height,10)<137)&&(i.height="137"),f.title=f.title.slice(0,47)+" - Flash Player Installation";var d=k.ie&&k.win?["Active"].concat("").join("X"):"PlugIn",h="MMredirectURL="+p.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+f.title;if(typeof s.flashvars!=a?s.flashvars+="&"+h:s.flashvars=h,k.ie&&k.win&&4!=c.readyState){var m=$("div");r+="SWFObjectNew",m.setAttribute("id",r),c.parentNode.insertBefore(m,c),c.style.display="none",function(){4==c.readyState?c.parentNode.removeChild(c):setTimeout(arguments.callee,10)}()}I(i,s,r)}}function D(e){if(k.ie&&k.win&&4!=e.readyState){var t=$("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(L(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(L(e),e)}function L(e){var t=$("div");if(k.win&&k.ie)t.innerHTML=e.innerHTML;else{var i=e.getElementsByTagName(l)[0];if(i){var n=i.childNodes;if(n)for(var o=n.length,s=0;s<o;s++)1==n[s].nodeType&&"PARAM"==n[s].nodeName||8==n[s].nodeType||t.appendChild(n[s].cloneNode(!0))}}return t}function I(e,t,i){var n,o=z(i);if(k.wk&&k.wk<312)return n;if(o)if(typeof e.id==a&&(e.id=i),k.ie&&k.win){var s="";for(var r in e)e[r]!=Object.prototype[r]&&("data"==r.toLowerCase()?t.movie=e[r]:"styleclass"==r.toLowerCase()?s+=' class="'+e[r]+'"':"classid"!=r.toLowerCase()&&(s+=" "+r+'="'+e[r]+'"'));var c="";for(var u in t)t[u]!=Object.prototype[u]&&(c+='<param name="'+u+'" value="'+t[u]+'" />');o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+s+">"+c+"</object>",_[_.length]=e.id,n=z(e.id)}else{var h=$(l);for(var p in h.setAttribute("type",d),e)e[p]!=Object.prototype[p]&&("styleclass"==p.toLowerCase()?h.setAttribute("class",e[p]):"classid"!=p.toLowerCase()&&h.setAttribute(p,e[p]));for(var f in t)t[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&F(h,f,t[f]);o.parentNode.replaceChild(h,o),n=h}return n}function F(e,t,i){var n=$("param");n.setAttribute("name",t),n.setAttribute("value",i),e.appendChild(n)}function R(e){var t=z(e);t&&"OBJECT"==t.nodeName&&(k.ie&&k.win?(t.style.display="none",function(){4==t.readyState?function(e){var t=z(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function z(e){var t=null;try{t=f.getElementById(e)}catch(e){}return t}function $(e){return f.createElement(e)}function N(e){var t=k.pv,i=e.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,t[0]>i[0]||t[0]==i[0]&&t[1]>i[1]||t[0]==i[0]&&t[1]==i[1]&&t[2]>=i[2]}function B(e,t,i,n){if(!k.ie||!k.mac){var o=f.getElementsByTagName("head")[0];if(o){var c=i&&"string"==typeof i?i:"screen";if(n&&(s=null,r=null),!s||r!=c){var d=$("style");d.setAttribute("type","text/css"),d.setAttribute("media",c),s=o.appendChild(d),k.ie&&k.win&&typeof f.styleSheets!=a&&f.styleSheets.length>0&&(s=f.styleSheets[f.styleSheets.length-1]),r=c}k.ie&&k.win?s&&typeof s.addRule==l&&s.addRule(e,t):s&&typeof f.createTextNode!=a&&s.appendChild(f.createTextNode(e+" {"+t+"}"))}}}function H(e,t){if(C){var i=t?"visible":"hidden";y&&z(e)?z(e).style.visibility=i:B("#"+e,"visibility:"+i)}}function V(e){return null!=/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!=a?encodeURIComponent(e):e}k.ie&&k.win&&window.attachEvent("onunload",function(){for(var e=w.length,t=0;t<e;t++)w[t][0].detachEvent(w[t][1],w[t][2]);for(var n=_.length,o=0;o<n;o++)R(_[o]);for(var s in k)k[s]=null;for(var r in k=null,i)i[r]=null;i=null});return{registerObject:function(e,t,i,n){if(k.w3&&e&&t){var o={};o.id=e,o.swfVersion=t,o.expressInstall=i,o.callbackFn=n,v[v.length]=o,H(e,!1)}else n&&n({success:!1,id:e})},getObjectById:function(e){if(k.w3)return O(e)},embedSWF:function(e,t,i,n,o,s,r,c,d,u){var h={success:!1,id:t};k.w3&&!(k.wk&&k.wk<312)&&e&&t&&i&&n&&o?(H(t,!1),T(function(){i+="",n+="";var p={};if(d&&typeof d===l)for(var f in d)p[f]=d[f];p.data=e,p.width=i,p.height=n;var m={};if(c&&typeof c===l)for(var g in c)m[g]=c[g];if(r&&typeof r===l)for(var b in r)typeof m.flashvars!=a?m.flashvars+="&"+b+"="+r[b]:m.flashvars=b+"="+r[b];if(N(o)){var v=I(p,m,t);p.id==t&&H(t,!0),h.success=!0,h.ref=v}else{if(s&&E())return p.data=s,void A(p,m,t,u);H(t,!0)}u&&u(h)})):u&&u(h)},switchOffAutoHideShow:function(){C=!1},ua:k,getFlashPlayerVersion:function(){return{major:k.pv[0],minor:k.pv[1],release:k.pv[2]}},hasFlashPlayerVersion:N,createSWF:function(e,t,i){return k.w3?I(e,t,i):void 0},showExpressInstall:function(e,t,i,n){k.w3&&E()&&A(e,t,i,n)},removeSWF:function(e){k.w3&&R(e)},createCSS:function(e,t,i,n){k.w3&&B(e,t,i,n)},addDomLoadEvent:T,addLoadEvent:P,getQueryParamValue:function(e){var t=f.location.search||f.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return V(t);for(var i=t.split("&"),n=0;n<i.length;n++)if(i[n].substring(0,i[n].indexOf("="))==e)return V(i[n].substring(i[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(x){var i=z(u);i&&e&&(i.parentNode.replaceChild(e,i),t&&(H(t,!0),k.ie&&k.win&&(e.style.display="block")),n&&n(o)),x=!1}}}}();e.exports=i},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(1394),r=i(496),a=i(900);e.exports=r.extend({name:"SuccessPurchaseInfo",el:!1,template:s,invoice:null,events:{"click ._pdf":"onPdfClick"},onPdfClick:function(e){var t="payment-completed__pdf_disabled";e.currentTarget.classList.add(t),setTimeout(function(){return e.currentTarget.classList.remove(t)},3e3)},serialize:function(){var e=this.app.currency.get("list").getByCode(this.invoice.get("currencyCode"))||this.app.currency.get("active");return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},this.invoice.serialize(),{pdfLink:this.app.makeUrl("pdf/invoice/"+this.invoice.get("orderNumber")),marketPrice:e.parseAndFormat({amount:this.invoice.get("currencyPrice"),decimals:2}),productName:this.defineProductName(this.invoice.serialize()),showPdfLink:this.needToShowPdfLink(this.invoice.serialize())})},clientAfterRender:function(){a.sendRequest({url:"InvoiceShown"})},defineProductName:function(e){var t=e.productType,i=e.offer&&e.offer.product&&e.offer.product.baseLabel||t;return"subscription"===t?i=this.tr("Subscription Plan"):"flex_download"===t?i=this.tr("%s Downloads",e.count):"ondemand"===t?i=this.tr("ondemand_"+e.info.name_orig+"_"+e.subproduct):"item_transaction"===t?i=this.tr("File Invoice"):"promocode"===t?i=this.tr("Promocode"):"refill"===t||"enterprise"===t?i=this.tr("Balance Refill"):"bonus"===t&&(i=this.tr("Image Pack")),i},needToShowPdfLink:function(e){return"enterprise"!==e.productType&&"item_transaction"!==e.productType}})},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){return'<div class="signup-user-box__social"><div class="signup-user-box__social-btn signup-user-box__social-btn_google _social-google">'+this.tr("Sign Up with <b>Google</b>")+'</div><div class="signup-user-box__social-btn signup-user-box__social-btn_facebook _social-facebook">'+this.tr("Sign Up with <b>Facebook</b>")+"</div></div>"}},function(e){e.exports=JSON.parse('[{"mobile_begin_with":["3","4","6"],"phone_number_lengths":[6],"country_code":"AD","country_name":"Andorra","phoneCode":"376"},{"mobile_begin_with":["5"],"phone_number_lengths":[9],"country_code":"AE","country_name":"United Arab Emirates","phoneCode":"971"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"AF","country_name":"Afghanistan","phoneCode":"93"},{"mobile_begin_with":["2687"],"phone_number_lengths":[10],"country_code":"AG","country_name":"Antigua and Barbuda","phoneCode":"1268"},{"mobile_begin_with":["2645","2647"],"phone_number_lengths":[10],"country_code":"AI","country_name":"Anguilla","phoneCode":"1264"},{"mobile_begin_with":["6"],"phone_number_lengths":[9],"country_code":"AL","country_name":"Albania","phoneCode":"355"},{"mobile_begin_with":["4","5","7","9"],"phone_number_lengths":[8],"country_code":"AM","country_name":"Armenia","phoneCode":"374"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"AO","country_name":"Angola","phoneCode":"244"},{"mobile_begin_with":[],"phone_number_lengths":[6,7,8,9],"country_code":"AR","country_name":"Argentina","phoneCode":"54"},{"mobile_begin_with":["684733","684258"],"phone_number_lengths":[10],"country_code":"AS","country_name":"American Samoa","phoneCode":"1684"},{"mobile_begin_with":["6"],"phone_number_lengths":[10,11,12,13,14],"country_code":"AT","country_name":"Austria","phoneCode":"43"},{"mobile_begin_with":["4"],"phone_number_lengths":[9],"country_code":"AU","country_name":"Australia","phoneCode":"61"},{"mobile_begin_with":["5","6","7","9"],"phone_number_lengths":[7],"country_code":"AW","country_name":"Aruba","phoneCode":"297"},{"mobile_begin_with":["18"],"phone_number_lengths":[6,7,8],"country_code":"AX","country_name":"Aland Islands","phoneCode":"358"},{"mobile_begin_with":["4","5","6","7"],"phone_number_lengths":[9],"country_code":"AZ","country_name":"Azerbaijan","phoneCode":"994"},{"mobile_begin_with":["6"],"phone_number_lengths":[8],"country_code":"BA","country_name":"Bosnia and Herzegovina","phoneCode":"387"},{"mobile_begin_with":[246],"phone_number_lengths":[10],"country_code":"BB","country_name":"Barbados","phoneCode":"1246"},{"mobile_begin_with":["1"],"phone_number_lengths":[8,9,10],"country_code":"BD","country_name":"Bangladesh","phoneCode":"880"},{"mobile_begin_with":["4"],"phone_number_lengths":[9],"country_code":"BE","country_name":"Belgium","phoneCode":"32"},{"mobile_begin_with":["6","7"],"phone_number_lengths":[8],"country_code":"BF","country_name":"Burkina Faso","phoneCode":"226"},{"mobile_begin_with":["87","88","89","98","99","43"],"phone_number_lengths":[8,9],"country_code":"BG","country_name":"Bulgaria","phoneCode":"359"},{"mobile_begin_with":["3"],"phone_number_lengths":[8],"country_code":"BH","country_name":"Bahrain","phoneCode":"973"},{"mobile_begin_with":["7","29"],"phone_number_lengths":[8],"country_code":"BI","country_name":"Burundi","phoneCode":"257"},{"mobile_begin_with":["9"],"phone_number_lengths":[8],"country_code":"BJ","country_name":"Benin","phoneCode":"229"},{"mobile_begin_with":["4413","4415","4417"],"phone_number_lengths":[10],"country_code":"BM","country_name":"Bermuda","phoneCode":"1441"},{"mobile_begin_with":["7","8"],"phone_number_lengths":[7],"country_code":"BN","country_name":"Brunei Darussalam","phoneCode":"673"},{"mobile_begin_with":["7"],"phone_number_lengths":[8],"country_code":"BO","country_name":"Bolivia","phoneCode":"591"},{"mobile_begin_with":["119","129","139","149","159","169","179","189","199","219","229","249","279","289","31","32","34","38","41","43","44","45","47","48","51","53","54","55","61","62","65","67","68","69","71","73","75","77","79","81","82","83","84","85","86","91","92","95","96","98"],"phone_number_lengths":[10,11],"country_code":"BR","country_name":"Brazil","phoneCode":"55"},{"mobile_begin_with":["242"],"phone_number_lengths":[10],"country_code":"BS","country_name":"Bahamas","phoneCode":"1242"},{"mobile_begin_with":["17"],"phone_number_lengths":[8],"country_code":"BT","country_name":"Bhutan","phoneCode":"975"},{"mobile_begin_with":["71","72","73","74","75","76"],"phone_number_lengths":[8],"country_code":"BW","country_name":"Botswana","phoneCode":"267"},{"mobile_begin_with":["25","29","33","44"],"phone_number_lengths":[9],"country_code":"BY","country_name":"Belarus","phoneCode":"375"},{"mobile_begin_with":["6"],"phone_number_lengths":[7],"country_code":"BZ","country_name":"Belize","phoneCode":"501"},{"mobile_begin_with":["204","226","236","249","250","289","306","343","365","403","416","418","431","437","438","450","506","514","519","579","581","587","600","604","613","639","647","705","709","778","780","807","819","867","873","902","905"],"phone_number_lengths":[10],"country_code":"CA","country_name":"Canada","phoneCode":"1"},{"mobile_begin_with":["8","9"],"phone_number_lengths":[9],"country_code":"CD","country_name":"Congo","phoneCode":"243"},{"mobile_begin_with":["7"],"phone_number_lengths":[8],"country_code":"CF","country_name":"Central African Republic","phoneCode":"236"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"CH","country_name":"Switzerland","phoneCode":"41"},{"mobile_begin_with":["0","4","5","6"],"phone_number_lengths":[8],"country_code":"CI","country_name":"Cote D\'Ivoire","phoneCode":"225"},{"mobile_begin_with":["5","7"],"phone_number_lengths":[5],"country_code":"CK","country_name":"Cook Islands","phoneCode":"682"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"CL","country_name":"Chile","phoneCode":"56"},{"mobile_begin_with":["7","9"],"phone_number_lengths":[8],"country_code":"CM","country_name":"Cameroon","phoneCode":"237"},{"mobile_begin_with":["13","14","15","17","18"],"phone_number_lengths":[11],"country_code":"CN","country_name":"China","phoneCode":"86"},{"mobile_begin_with":["3"],"phone_number_lengths":[10],"country_code":"CO","country_name":"Colombia","phoneCode":"57"},{"mobile_begin_with":["5","6","7","8"],"phone_number_lengths":[8],"country_code":"CR","country_name":"Costa Rica","phoneCode":"506"},{"mobile_begin_with":["5"],"phone_number_lengths":[8],"country_code":"CU","country_name":"Cuba","phoneCode":"53"},{"mobile_begin_with":["5","9"],"phone_number_lengths":[7],"country_code":"CV","country_name":"Cape Verde","phoneCode":"238"},{"mobile_begin_with":["9"],"phone_number_lengths":[8],"country_code":"CY","country_name":"Cyprus","phoneCode":"357"},{"mobile_begin_with":["6","7"],"phone_number_lengths":[9],"country_code":"CZ","country_name":"Czech Republic","phoneCode":"420"},{"mobile_begin_with":["15","16","17"],"phone_number_lengths":[10,11],"country_code":"DE","country_name":"Germany","phoneCode":"49"},{"mobile_begin_with":["77"],"phone_number_lengths":[8],"country_code":"DJ","country_name":"Djibouti","phoneCode":"253"},{"mobile_begin_with":["2","30","31","40","41","42","50","51","52","53","60","61","71","81","91","92","93"],"phone_number_lengths":[8],"country_code":"DK","country_name":"Denmark","phoneCode":"45"},{"mobile_begin_with":["767"],"phone_number_lengths":[10],"country_code":"DM","country_name":"Dominica","phoneCode":"1767"},{"mobile_begin_with":["809","829","849"],"phone_number_lengths":[10],"country_code":"DO","country_name":"Dominican Republic","phoneCode":"1"},{"mobile_begin_with":["5","6","7"],"phone_number_lengths":[9],"country_code":"DZ","country_name":"Algeria","phoneCode":"213"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"EC","country_name":"Ecuador","phoneCode":"593"},{"mobile_begin_with":["5"],"phone_number_lengths":[8],"country_code":"EE","country_name":"Estonia","phoneCode":"372"},{"mobile_begin_with":["1"],"phone_number_lengths":[10],"country_code":"EG","country_name":"Egypt","phoneCode":"20"},{"mobile_begin_with":["1","7","8"],"phone_number_lengths":[7],"country_code":"ER","country_name":"Eritrea","phoneCode":"291"},{"mobile_begin_with":["6","7"],"phone_number_lengths":[9],"country_code":"ES","country_name":"Spain","phoneCode":"34"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"ET","country_name":"Ethiopia","phoneCode":"251"},{"mobile_begin_with":["4","5"],"phone_number_lengths":[9],"country_code":"FI","country_name":"Finland","phoneCode":"358"},{"mobile_begin_with":["7","9"],"phone_number_lengths":[7],"country_code":"FJ","country_name":"Fiji","phoneCode":"679"},{"mobile_begin_with":["5","6"],"phone_number_lengths":[5],"country_code":"FK","country_name":"Falkland Islands (Malvinas)","phoneCode":"500"},{"mobile_begin_with":[],"phone_number_lengths":[7],"country_code":"FM","country_name":"Micronesia","phoneCode":"691"},{"mobile_begin_with":[],"phone_number_lengths":[6],"country_code":"FO","country_name":"Faroe Islands","phoneCode":"298"},{"mobile_begin_with":["6","7"],"phone_number_lengths":[9],"country_code":"FR","country_name":"France","phoneCode":"33"},{"mobile_begin_with":["05","06","07"],"phone_number_lengths":[8],"country_code":"GA","country_name":"Gabon","phoneCode":"241"},{"mobile_begin_with":["7"],"phone_number_lengths":[10],"country_code":"GB","country_name":"United Kingdom","phoneCode":"44"},{"mobile_begin_with":["473"],"phone_number_lengths":[10],"country_code":"GD","country_name":"Grenada","phoneCode":"1473"},{"mobile_begin_with":["5","7"],"phone_number_lengths":[9],"country_code":"GE","country_name":"Georgia","phoneCode":"995"},{"mobile_begin_with":["694"],"phone_number_lengths":[9],"country_code":"GF","country_name":"French Guiana","phoneCode":"594"},{"mobile_begin_with":["2","5"],"phone_number_lengths":[9],"country_code":"GH","country_name":"Ghana","phoneCode":"233"},{"mobile_begin_with":["5"],"phone_number_lengths":[8],"country_code":"GI","country_name":"Gibraltar","phoneCode":"350"},{"mobile_begin_with":["4","5"],"phone_number_lengths":[6],"country_code":"GL","country_name":"Greenland","phoneCode":"299"},{"mobile_begin_with":["7","9"],"phone_number_lengths":[7],"country_code":"GM","country_name":"Gambia","phoneCode":"220"},{"mobile_begin_with":["6"],"phone_number_lengths":[8],"country_code":"GN","country_name":"Guinea","phoneCode":"224"},{"mobile_begin_with":["690"],"phone_number_lengths":[9],"country_code":"GP","country_name":"Guadeloupe","phoneCode":"590"},{"mobile_begin_with":["222","551"],"phone_number_lengths":[9],"country_code":"GQ","country_name":"Equatorial Guinea","phoneCode":"240"},{"mobile_begin_with":["6"],"phone_number_lengths":[10],"country_code":"GR","country_name":"Greece","phoneCode":"30"},{"mobile_begin_with":["3","4","5"],"phone_number_lengths":[8],"country_code":"GT","country_name":"Guatemala","phoneCode":"502"},{"mobile_begin_with":["671"],"phone_number_lengths":[10],"country_code":"GU","country_name":"Guam","phoneCode":"1671"},{"mobile_begin_with":["5","6","7"],"phone_number_lengths":[7],"country_code":"GW","country_name":"Guinea-Bissau","phoneCode":"245"},{"mobile_begin_with":["6"],"phone_number_lengths":[7],"country_code":"GY","country_name":"Guyana","phoneCode":"592"},{"mobile_begin_with":["5","6","9"],"phone_number_lengths":[8],"country_code":"HK","country_name":"Hong Kong","phoneCode":"852"},{"mobile_begin_with":["3","7","8","9"],"phone_number_lengths":[8],"country_code":"HN","country_name":"Honduras","phoneCode":"504"},{"mobile_begin_with":["9"],"phone_number_lengths":[8,9],"country_code":"HR","country_name":"Croatia","phoneCode":"385"},{"mobile_begin_with":["3","4"],"phone_number_lengths":[8],"country_code":"HT","country_name":"Haiti","phoneCode":"509"},{"mobile_begin_with":["20","30","31","70"],"phone_number_lengths":[9],"country_code":"HU","country_name":"Hungary","phoneCode":"36"},{"mobile_begin_with":["8"],"phone_number_lengths":[9,10,11],"country_code":"ID","country_name":"Indonesia","phoneCode":"62"},{"mobile_begin_with":["82","83","84","85","86","87","88","89"],"phone_number_lengths":[9],"country_code":"IE","country_name":"Ireland","phoneCode":"353"},{"mobile_begin_with":["5"],"phone_number_lengths":[9],"country_code":"IL","country_name":"Israel","phoneCode":"972"},{"mobile_begin_with":["7","8","9"],"phone_number_lengths":[10],"country_code":"IN","country_name":"India","phoneCode":"91"},{"mobile_begin_with":["7"],"phone_number_lengths":[10],"country_code":"IQ","country_name":"Iraq","phoneCode":"964"},{"mobile_begin_with":["9"],"phone_number_lengths":[10],"country_code":"IR","country_name":"Iran","phoneCode":"98"},{"mobile_begin_with":["6","7","8"],"phone_number_lengths":[7],"country_code":"IS","country_name":"Iceland","phoneCode":"354"},{"mobile_begin_with":["3"],"phone_number_lengths":[10],"country_code":"IT","country_name":"Italy","phoneCode":"39"},{"mobile_begin_with":["876"],"phone_number_lengths":[10],"country_code":"JM","country_name":"Jamaica","phoneCode":"1876"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"JO","country_name":"Jordan","phoneCode":"962"},{"mobile_begin_with":["70","80","90"],"phone_number_lengths":[10],"country_code":"JP","country_name":"Japan","phoneCode":"81"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"KE","country_name":"Kenya","phoneCode":"254"},{"mobile_begin_with":["5","7"],"phone_number_lengths":[9],"country_code":"KG","country_name":"Kyrgyzstan","phoneCode":"996"},{"mobile_begin_with":["1","6","7","8","9"],"phone_number_lengths":[8,9],"country_code":"KH","country_name":"Cambodia","phoneCode":"855"},{"mobile_begin_with":["9","30"],"phone_number_lengths":[5],"country_code":"KI","country_name":"Kiribati","phoneCode":"686"},{"mobile_begin_with":["3","76"],"phone_number_lengths":[7],"country_code":"KM","country_name":"Comoros","phoneCode":"269"},{"mobile_begin_with":["869"],"phone_number_lengths":[10],"country_code":"KN","country_name":"Saint Kitts and Nevis","phoneCode":"1869"},{"mobile_begin_with":["1"],"phone_number_lengths":[9,10],"country_code":"KR","country_name":"Korea, Republic of","phoneCode":"82"},{"mobile_begin_with":["5","6","9"],"phone_number_lengths":[8],"country_code":"KW","country_name":"Kuwait","phoneCode":"965"},{"mobile_begin_with":["345"],"phone_number_lengths":[10],"country_code":"KY","country_name":"Cayman Islands","phoneCode":"1345"},{"mobile_begin_with":["70","77"],"phone_number_lengths":[10],"country_code":"KZ","country_name":"Kazakhstan","phoneCode":"7"},{"mobile_begin_with":["20"],"phone_number_lengths":[10],"country_code":"LA","country_name":"Lao People\'s Democratic Republic","phoneCode":"856"},{"mobile_begin_with":["3","7"],"phone_number_lengths":[7,8],"country_code":"LB","country_name":"Lebanon","phoneCode":"961"},{"mobile_begin_with":["758"],"phone_number_lengths":[10],"country_code":"LC","country_name":"Saint Lucia","phoneCode":"1758"},{"mobile_begin_with":["7"],"phone_number_lengths":[7],"country_code":"LI","country_name":"Liechtenstein","phoneCode":"423"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"LK","country_name":"Sri Lanka","phoneCode":"94"},{"mobile_begin_with":["4","5","6","7"],"phone_number_lengths":[7,8],"country_code":"LR","country_name":"Liberia","phoneCode":"231"},{"mobile_begin_with":["5","6"],"phone_number_lengths":[8],"country_code":"LS","country_name":"Lesotho","phoneCode":"266"},{"mobile_begin_with":["6"],"phone_number_lengths":[8],"country_code":"LT","country_name":"Lithuania","phoneCode":"370"},{"mobile_begin_with":["6"],"phone_number_lengths":[9],"country_code":"LU","country_name":"Luxembourg","phoneCode":"352"},{"mobile_begin_with":["2"],"phone_number_lengths":[8],"country_code":"LV","country_name":"Latvia","phoneCode":"371"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"LY","country_name":"Libyan Arab Jamahiriya","phoneCode":"218"},{"mobile_begin_with":["6"],"phone_number_lengths":[9],"country_code":"MA","country_name":"Morocco","phoneCode":"212"},{"mobile_begin_with":["4","6"],"phone_number_lengths":[8,9],"country_code":"MC","country_name":"Monaco","phoneCode":"377"},{"mobile_begin_with":["6","7"],"phone_number_lengths":[8],"country_code":"MD","country_name":"Moldova","phoneCode":"373"},{"mobile_begin_with":["6"],"phone_number_lengths":[8],"country_code":"ME","country_name":"Montenegro","phoneCode":"382"},{"mobile_begin_with":["3"],"phone_number_lengths":[9],"country_code":"MG","country_name":"Madagascar","phoneCode":"261"},{"mobile_begin_with":[],"phone_number_lengths":[7],"country_code":"MH","country_name":"Marshall Islands","phoneCode":"692"},{"mobile_begin_with":["7"],"phone_number_lengths":[8],"country_code":"MK","country_name":"Macedonia","phoneCode":"389"},{"mobile_begin_with":["6","7"],"phone_number_lengths":[8],"country_code":"ML","country_name":"Mali","phoneCode":"223"},{"mobile_begin_with":["9"],"phone_number_lengths":[8],"country_code":"MM","country_name":"Myanmar","phoneCode":"95"},{"mobile_begin_with":["5","8","9"],"phone_number_lengths":[8],"country_code":"MN","country_name":"Mongolia","phoneCode":"976"},{"mobile_begin_with":["6"],"phone_number_lengths":[8],"country_code":"MO","country_name":"Macau","phoneCode":"853"},{"mobile_begin_with":["670"],"phone_number_lengths":[10],"country_code":"MP","country_name":"Northern Mariana Islands","phoneCode":"1670"},{"mobile_begin_with":["696"],"phone_number_lengths":[9],"country_code":"MQ","country_name":"Martinique","phoneCode":"596"},{"mobile_begin_with":[],"phone_number_lengths":[8],"country_code":"MR","country_name":"Mauritania","phoneCode":"222"},{"mobile_begin_with":["664"],"phone_number_lengths":[10],"country_code":"MS","country_name":"Montserrat","phoneCode":"1664"},{"mobile_begin_with":["79","99"],"phone_number_lengths":[8],"country_code":"MT","country_name":"Malta","phoneCode":"356"},{"mobile_begin_with":[],"phone_number_lengths":[7],"country_code":"MU","country_name":"Mauritius","phoneCode":"230"},{"mobile_begin_with":["7","9"],"phone_number_lengths":[7],"country_code":"MV","country_name":"Maldives","phoneCode":"960"},{"mobile_begin_with":["77","88","99"],"phone_number_lengths":[9],"country_code":"MW","country_name":"Malawi","phoneCode":"265"},{"mobile_begin_with":[""],"phone_number_lengths":[10,11],"country_code":"MX","country_name":"Mexico","phoneCode":"52"},{"mobile_begin_with":["1"],"phone_number_lengths":[9,10],"country_code":"MY","country_name":"Malaysia","phoneCode":"60"},{"mobile_begin_with":["8"],"phone_number_lengths":[9],"country_code":"MZ","country_name":"Mozambique","phoneCode":"258"},{"mobile_begin_with":["60","81","82","85"],"phone_number_lengths":[9],"country_code":"NA","country_name":"Namibia","phoneCode":"264"},{"mobile_begin_with":[],"phone_number_lengths":[6],"country_code":"NC","country_name":"New Caledonia","phoneCode":"687"},{"mobile_begin_with":["9"],"phone_number_lengths":[8],"country_code":"NE","country_name":"Niger","phoneCode":"227"},{"mobile_begin_with":["5","8"],"phone_number_lengths":[5],"country_code":"NF","country_name":"Norfolk Island","phoneCode":"672"},{"mobile_begin_with":["70","80","81"],"phone_number_lengths":[10],"country_code":"NG","country_name":"Nigeria","phoneCode":"234"},{"mobile_begin_with":["8"],"phone_number_lengths":[8],"country_code":"NI","country_name":"Nicaragua","phoneCode":"505"},{"mobile_begin_with":["6"],"phone_number_lengths":[9],"country_code":"NL","country_name":"Netherlands","phoneCode":"31"},{"mobile_begin_with":["4","9"],"phone_number_lengths":[8],"country_code":"NO","country_name":"Norway","phoneCode":"47"},{"mobile_begin_with":["97","98"],"phone_number_lengths":[10],"country_code":"NP","country_name":"Nepal","phoneCode":"977"},{"mobile_begin_with":["555"],"phone_number_lengths":[7],"country_code":"NR","country_name":"Nauru","phoneCode":"674"},{"mobile_begin_with":[],"phone_number_lengths":[4],"country_code":"NU","country_name":"Niue","phoneCode":"683"},{"mobile_begin_with":["2"],"phone_number_lengths":[8,9,10],"country_code":"NZ","country_name":"New Zealand","phoneCode":"64"},{"mobile_begin_with":["9"],"phone_number_lengths":[8],"country_code":"OM","country_name":"Oman","phoneCode":"968"},{"mobile_begin_with":["5","6"],"phone_number_lengths":[8],"country_code":"PA","country_name":"Panama","phoneCode":"507"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"PE","country_name":"Peru","phoneCode":"51"},{"mobile_begin_with":[],"phone_number_lengths":[6],"country_code":"PF","country_name":"French Polynesia","phoneCode":"689"},{"mobile_begin_with":["7"],"phone_number_lengths":[8],"country_code":"PG","country_name":"Papua New Guinea","phoneCode":"675"},{"mobile_begin_with":["9"],"phone_number_lengths":[10],"country_code":"PH","country_name":"Philippines","phoneCode":"63"},{"mobile_begin_with":["3"],"phone_number_lengths":[10],"country_code":"PK","country_name":"Pakistan","phoneCode":"92"},{"mobile_begin_with":["5","6","7","8"],"phone_number_lengths":[9],"country_code":"PL","country_name":"Poland","phoneCode":"48"},{"mobile_begin_with":["55"],"phone_number_lengths":[6],"country_code":"PM","country_name":"Saint Pierre and Miquelon","phoneCode":"508"},{"mobile_begin_with":["787","939"],"phone_number_lengths":[10],"country_code":"PR","country_name":"Puerto Rico","phoneCode":"1"},{"mobile_begin_with":["5"],"phone_number_lengths":[9],"country_code":"PS","country_name":"Palestinian Territory","phoneCode":"970"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"PT","country_name":"Portugal","phoneCode":"351"},{"mobile_begin_with":[],"phone_number_lengths":[7],"country_code":"PW","country_name":"Palau","phoneCode":"680"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"PY","country_name":"Paraguay","phoneCode":"595"},{"mobile_begin_with":["33","55","66","77"],"phone_number_lengths":[8],"country_code":"QA","country_name":"Qatar","phoneCode":"974"},{"mobile_begin_with":["692","693"],"phone_number_lengths":[9],"country_code":"RE","country_name":"Reunion","phoneCode":"262"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"RO","country_name":"Romania","phoneCode":"40"},{"mobile_begin_with":["6"],"phone_number_lengths":[8,9],"country_code":"RS","country_name":"Serbia","phoneCode":"381"},{"mobile_begin_with":["9","4"],"phone_number_lengths":[10],"country_code":"RU","country_name":"Russian Federation","phoneCode":"7"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"RW","country_name":"Rwanda","phoneCode":"250"},{"mobile_begin_with":["5"],"phone_number_lengths":[9],"country_code":"SA","country_name":"Saudi Arabia","phoneCode":"966"},{"mobile_begin_with":["7","8"],"phone_number_lengths":[7],"country_code":"SB","country_name":"Solomon Islands","phoneCode":"677"},{"mobile_begin_with":["2"],"phone_number_lengths":[7],"country_code":"SC","country_name":"Seychelles","phoneCode":"248"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"SD","country_name":"Sudan","phoneCode":"249"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"SE","country_name":"Sweden","phoneCode":"46"},{"mobile_begin_with":["8","9"],"phone_number_lengths":[8],"country_code":"SG","country_name":"Singapore","phoneCode":"65"},{"mobile_begin_with":[],"phone_number_lengths":[4],"country_code":"SH","country_name":"Saint Helena","phoneCode":"290"},{"mobile_begin_with":["3","4","5","6","7"],"phone_number_lengths":[8],"country_code":"SI","country_name":"Slovenia","phoneCode":"386"},{"mobile_begin_with":[],"phone_number_lengths":[8],"country_code":"SJ","country_name":"Svalbard and Jan Mayen","phoneCode":"47"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"SK","country_name":"Slovakia","phoneCode":"421"},{"mobile_begin_with":["21","25","30","33","34","40","44","50","55","76","77","78","79","88"],"phone_number_lengths":[8],"country_code":"SL","country_name":"Sierra Leone","phoneCode":"232"},{"mobile_begin_with":["3","6"],"phone_number_lengths":[10],"country_code":"SM","country_name":"San Marino","phoneCode":"378"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"SN","country_name":"Senegal","phoneCode":"221"},{"mobile_begin_with":["9"],"phone_number_lengths":[8],"country_code":"SO","country_name":"Somalia","phoneCode":"252"},{"mobile_begin_with":["6","7","8"],"phone_number_lengths":[7],"country_code":"SR","country_name":"Suriname","phoneCode":"597"},{"mobile_begin_with":["98","99"],"phone_number_lengths":[7],"country_code":"ST","country_name":"Sao Tome and Principe","phoneCode":"239"},{"mobile_begin_with":["7"],"phone_number_lengths":[8],"country_code":"SV","country_name":"El Salvador","phoneCode":"503"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"SY","country_name":"Syrian Arab Republic","phoneCode":"963"},{"mobile_begin_with":["6492","6493","6494"],"phone_number_lengths":[10],"country_code":"TC","country_name":"Turks and Caicos Islands","phoneCode":"1649"},{"mobile_begin_with":["6","7","9"],"phone_number_lengths":[8],"country_code":"TD","country_name":"Chad","phoneCode":"235"},{"mobile_begin_with":["9"],"phone_number_lengths":[8],"country_code":"TG","country_name":"Togo","phoneCode":"228"},{"mobile_begin_with":["8","9"],"phone_number_lengths":[9],"country_code":"TH","country_name":"Thailand","phoneCode":"66"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"TJ","country_name":"Tajikistan","phoneCode":"992"},{"mobile_begin_with":[],"phone_number_lengths":[4],"country_code":"TK","country_name":"Tokelau","phoneCode":"690"},{"mobile_begin_with":["7"],"phone_number_lengths":[8],"country_code":"TL","country_name":"Timor-Leste","phoneCode":"670"},{"mobile_begin_with":["6"],"phone_number_lengths":[8],"country_code":"TM","country_name":"Turkmenistan","phoneCode":"993"},{"mobile_begin_with":["2","9"],"phone_number_lengths":[8],"country_code":"TN","country_name":"Tunisia","phoneCode":"216"},{"mobile_begin_with":[],"phone_number_lengths":[5],"country_code":"TO","country_name":"Tonga","phoneCode":"676"},{"mobile_begin_with":["5"],"phone_number_lengths":[10],"country_code":"TR","country_name":"Turkey","phoneCode":"90"},{"mobile_begin_with":["868"],"phone_number_lengths":[10],"country_code":"TT","country_name":"Trinidad and Tobago","phoneCode":"1868"},{"mobile_begin_with":[],"phone_number_lengths":[5],"country_code":"TV","country_name":"Tuvalu","phoneCode":"688"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"TW","country_name":"Taiwan","phoneCode":"886"},{"mobile_begin_with":["7","6"],"phone_number_lengths":[9],"country_code":"TZ","country_name":"Tanzania","phoneCode":"255"},{"mobile_begin_with":["39","50","63","66","67","68","9","73","44"],"phone_number_lengths":[9],"country_code":"UA","country_name":"Ukraine","phoneCode":"380"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"UG","country_name":"Uganda","phoneCode":"256"},{"mobile_begin_with":["201","202","203","205","206","207","208","209","210","212","213","214","215","216","217","218","219","224","225","227","228","229","231","234","239","240","248","251","252","253","254","256","260","262","267","269","270","272","274","276","278","281","283","301","302","303","304","305","307","308","309","310","312","313","314","315","316","317","318","319","320","321","323","325","327","330","331","334","336","337","339","341","346","347","351","352","360","361","364","369","380","385","386","401","402","404","405","406","407","408","409","410","412","413","414","415","417","419","423","424","425","430","432","434","435","440","442","443","445","447","458","464","469","470","475","478","479","480","484","501","502","503","504","505","507","508","509","510","512","513","515","516","517","518","520","530","531","534","539","540","541","551","557","559","561","562","563","564","567","570","571","573","574","575","580","582","585","586","601","602","603","605","606","607","608","609","610","612","614","615","616","617","618","619","620","623","626","627","628","630","631","636","641","646","650","651","657","659","660","661","662","667","669","678","679","681","682","689","701","702","703","704","706","707","708","712","713","714","715","716","717","718","719","720","724","725","727","730","731","732","734","737","740","747","752","754","757","760","762","763","764","765","769","770","772","773","774","775","779","781","785","786","801","802","803","804","805","806","808","810","812","813","814","815","816","817","818","828","830","831","832","835","843","845","847","848","850","856","857","858","859","860","862","863","864","865","870","872","878","901","903","904","906","907","908","909","910","912","913","914","915","916","917","918","919","920","925","927","928","929","931","935","936","937","938","940","941","947","949","951","952","954","956","957","959","970","971","972","973","975","978","979","980","984","985","989"],"phone_number_lengths":[10],"country_code":"US","country_name":"United States","phoneCode":"1"},{"mobile_begin_with":["9"],"phone_number_lengths":[8],"country_code":"UY","country_name":"Uruguay","phoneCode":"598"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"UZ","country_name":"Uzbekistan","phoneCode":"998"},{"mobile_begin_with":["784"],"phone_number_lengths":[10],"country_code":"VC","country_name":"Saint Vincent and the Grenadines","phoneCode":"1784"},{"mobile_begin_with":["4"],"phone_number_lengths":[10],"country_code":"VE","country_name":"Venezuela","phoneCode":"58"},{"mobile_begin_with":["284"],"phone_number_lengths":[10],"country_code":"VG","country_name":"Virgin Islands, British","phoneCode":"1284"},{"mobile_begin_with":["340"],"phone_number_lengths":[10],"country_code":"VI","country_name":"Virgin Islands, U.S.","phoneCode":"1340"},{"mobile_begin_with":["9","1"],"phone_number_lengths":[9,10],"country_code":"VN","country_name":"Vietnam","phoneCode":"84"},{"mobile_begin_with":["5","7"],"phone_number_lengths":[7],"country_code":"VU","country_name":"Vanuatu","phoneCode":"678"},{"mobile_begin_with":[],"phone_number_lengths":[6],"country_code":"WF","country_name":"Wallis and Futuna","phoneCode":"681"},{"mobile_begin_with":["7"],"phone_number_lengths":[7],"country_code":"WS","country_name":"Samoa","phoneCode":"685"},{"mobile_begin_with":["7"],"phone_number_lengths":[9],"country_code":"YE","country_name":"Yemen","phoneCode":"967"},{"mobile_begin_with":["639"],"phone_number_lengths":[9],"country_code":"YT","country_name":"Mayotte","phoneCode":"262"},{"mobile_begin_with":["6","7","8"],"phone_number_lengths":[9],"country_code":"ZA","country_name":"South Africa","phoneCode":"27"},{"mobile_begin_with":["9"],"phone_number_lengths":[9],"country_code":"ZM","country_name":"Zambia","phoneCode":"260"},{"mobile_begin_with":["71","73","77"],"phone_number_lengths":[9],"country_code":"ZW","country_name":"Zimbabwe","phoneCode":"263"}]')},function(e,t,i){"use strict";e.exports=[{number:"7-495-283-98-24",country:["RU","BY"],lang:["ru"]},{number:"38-099-062-45-70",additionalNumbers:["38-096-400-68-24","38-044-333-92-87"],country:["UA"],lang:["ua"]},{number:"49-305-683-84-59",country:["DE"],lang:["de"]},{number:"43 72 088 4523",country:["AT"],lang:["de"]},{number:"33-9-77-55-67-71",country:["FR"],lang:["fr"]},{number:"34-518-889-349",country:["ES","PE","VE","EC","GT","AR","CL","DO","NI","UY","CU","BO","HN","PY","SV","CR","PA"],lang:["sp"]},{number:"39-02-9475-1656",country:["IT"],lang:["it"]},{number:"351-30-880-7015",country:["PT"],lang:["pt"]},{number:"55-61-3550-0953",country:["BR"],lang:["br"]},{number:"48-22-397-0136",country:["PL"],lang:["pl"]},{number:"90-850-390-2134",country:["TR"],lang:["tr"]},{number:"1-954-990-0075",additionalNumbers:["1-800-980-8759"],country:["JP","US"],lang:["jp","en"]},{number:"852-5808-4944",additionalNumbers:["QQ 2779194051"],country:["CN"],lang:["zh","cn"]},{number:"44-20-3695-9270",country:["SE","NL","GB"],lang:["se","nl","en"]},{number:"420-255-790-503",country:["CZ"],lang:["cz"]},{number:"357-2200-7448",additionalNumbers:["357-9615-7071"],country:["CY"],lang:["gr"]},{number:"52-55-4170-9268",country:["MX"],lang:["mx"]},{number:"91-00-800-100-94-17",country:["IN"],lang:["in"]},{number:"57-1-508-6947",country:["CO"],lang:["sp"]},{number:"1-581-701-06-28",country:["CA"],lang:["en","fr"]},{number:"7-727-339-1062",country:["KZ"],lang:["ru"]}]},function(e,t,i){"use strict";i(1444);var n=i(1445),o=i(496);e.exports=o.extend({name:"ShoppingCartIndicator",el:!1,template:n,initialize:function(){this.model=this.app.store.get("CartIndicator"),this.listenTo(this.model,"change:count",this.render)},serialize:function(){return{count:this.model.get("count"),cartLink:this.app.makeUrl("cart")}}})},function(e,t,i){"use strict";var n=i(1447),o=i(496);e.exports=o.extend({el:!1,template:n,events:{click:"onBalanceClick"},teamBalance:0,prepareRender:function(){return!this.app.user.get("enterprise").hideBalance||this.app.user.isEnterpriseAdmin()||this.app.user.hasPermissionsTo("enterprise_group:"+this.app.user.get("enterprise").groupId,"billing")},teamBalanceFormatted:function(){var e=this.app.currency.get("list").get(this.app.user.get("enterprise").currencyId);return e?(this.teamBalance<0?"-":"")+e.parseAndFormat({amount:Math.abs(this.teamBalance)}):null},getBillingLink:function(){return this.app.user.isOverdraftEnabled()?"":this.app.makeUrl("subscribe/billing/balance",{backURL:!0})},serialize:function(){return{isEnterprise:this.isEnterprise,billingLink:this.getBillingLink(),billingLinkDisabled:this.billingLinkDisabled(),$teamBalance:this.teamBalanceFormatted()}},billingLinkDisabled:function(){var e=this.app.user.get("enterprise").groupId;return this.app.user.isOverdraftEnabled()||!(this.app.user.isEnterpriseAdmin()||this.app.user.hasPermissionsTo("enterprise_group:"+e,"billing"))},onBalanceClick:function(e){this.app.user.isOverdraftEnabled()&&e.preventDefault()}})},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="file-view__link-content search-similar-box '+t(e.classNames)+'">';return e.displayAsLink?i+='<a class="file-view__link-button button" href="'+e.url+'"><i class="search-similar-box__icon icon '+t(e.iconClassNames)+'"></i><span class="search-similar-box__text">'+t(e.btnText)+"</span></a>":i+='<button class="file-view__link-button button _find-similar-btn"><i class="search-similar-box__icon icon '+t(e.iconClassNames)+'"></i><span class="search-similar-box__text">'+t(e.btnText)+"</span></button>",i+="</div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}();return'<div class="file-view__link-content create-design '+t(e.classNames)+'"><button class="file-view__link-button button _btn"><i class="create-design__icon icon '+t(e.iconClassNames)+'"></i><span class="create-design__text">'+t(e.btnText)+"</span></button></div>"}},function(e,t,i){"use strict";var n=i(534),o=i(103);e.exports={onKeyup:function(e){this.enableListThroughNavigation&&this.canNavigate()&&(e.keyCode===n.left?this.navigate("prev"):e.keyCode===n.right&&this.navigate("next"))},navigate:function(e){var t=this.getFile(e);t&&!this.collection.pending&&(this.model.id===t.id?(this.app.observer.broadcast("Track:UE:FileViewModal:Edge",{direction:e}),this.edgeCallback(e)):(this.app.observer.broadcast("Track:UE:FileViewModal:Navigate",{direction:e,file:t.serialize(),sourceFile:this.model}),this.updateModal(t)))},getFile:function(e){var t=this.getFileIndex();return this.directions[e].call(this,t)},getFileIndex:function(e){return void 0===e&&(e=this.model.id),this.collection.indexOf(this.collection.get(e))},edgeCallback:function(e){return"prev"===e?this.leftEdgeCallback():this.rightEdgeCallback()},leftNavigation:function(e){e.stopPropagation(),this.navigate("prev")},rightNavigation:function(e){e.stopPropagation(),this.navigate("next")},directions:{prev:function(e){return this.collection.at(Math.max(e-1,0))},next:function(e){return this.collection.at(Math.min(e+1,this.collection.length-1))}},updateModal:function(e){this.asyncFileViewModalLoad?(!this.fetchXhr||this.fetchXhr&&"pending"!==this.fetchXhr.state())&&(this.fetchXhr=this.fetchFile(e.id,this.showModal)):this.showModal(e)},showModal:function(e){this.app.store.get("ModalsManager").get(this.name)&&(this.app.observer.fire("Responsive:ClearMatchMedia"),this.app.store.get("ModalsManager").show(this.name,{model:e}))},fetchFile:function(e,t){var i=this,n=new o({id:e},{app:this.app,validate:!0});return n.fetch({parser:"parseFromFile"}).then(function(){t.call(i,n)})}}},function(e,t,i){"use strict";var n=i(501);e.exports={scrollWindowToTop:function(){n.mobileMode()&&this.isOpened&&window.scrollTo(0,0)},stopDefaultDocumentEvents:function(e){n.mobileMode()&&this.isOpened&&(e.preventDefault(),e.stopPropagation())},scrollContainerToTop:function(){if(n.mobileMode()&&this.isOpened){var e=Backbone.$(this.scrollContainer),t=e.scrollTop();0===t?e.scrollTop(1):e.get(0).scrollHeight-t===e.outerHeight()&&e.scrollTop(t-1)}},stopCurrentEventPropagation:function(e){n.mobileMode()&&this.isOpened&&e.stopPropagation()},saveMobileScrollPosition:function(){n.mobileMode()&&(this.msrScrollPosition=Backbone.$(window).scrollTop())},setMobileScrollPosition:function(){n.mobileMode()&&this.msrScrollPosition&&Backbone.$(window).scrollTop(this.msrScrollPosition)}}},function(e,t,i){"use strict";var n=i(0),o=i(4).extend({url:"itemViewedInternal",getQueryParams:function(){return n.clone(this.attributes)}},{write:function(e,t){return new o(e,t).save()}});e.exports=o},function(e,t,i){"use strict";i(1462);var n=i(1463),o=i(1464),s=i(0),r=i(13),a=i(496),l=i(1019),c={credits:{},subscription:{},ondemand:{},membership:{},imagepack:{}};c.credits.View=i(736),c.credits.template=i(1300),c.subscription.View=i(691),c.subscription.template=i(1301),c.ondemand.View=i(723),c.ondemand.template=i(1302),c.imagepack.View=i(921),c.imagepack.template=i(1303),c.membership.View=i(654),c.membership.template=i(1307),e.exports=a.extend({name:"UserProductsList",el:!1,template:n,showBalance:!1,linksEnabled:!1,handleProductClick:!0,showRebillDiscount:!1,plans:void 0,events:{"click ._product":"onUserProductClick"},initialize:function(){this.listenTo(this.app.user,"sync",this.render)},prepareRender:function(){this.showBalance&&this.insertView("._list",new l({app:this.app,template:o,balance:this.app.user.get("balance")})),s.each(this.plans.serializeUserPlans(),function(e){this.insertView("._list",this.getProductView(e))},this)},serialize:function(){return{products:this.plans.serializeUserPlans()}},getProductView:function(e){var t=this.linksEnabled?this.app.makeUrl("subscribe",{backURL:!0}):"",i=c[e.type],n=this.app.user.products.findWhere({type:e.type,id:e.id});return i&&n?new i.View({app:this.app,template:i.template,product:n.serialize(),model:n,showRebillDiscount:this.showRebillDiscount,showRefillModalOnClick:this.handleProductClick,serializeParams:{href:t}}):null},onUserProductClick:function(e){this.linksEnabled||(e.stopPropagation(),e.preventDefault()),e.stopImmediatePropagation(),this.chooseProductCallback(this.plans.serializeUserPlans()[r.$(e.currentTarget).index()])},chooseProductCallback:s.noop})},function(e,t,i){"use strict";var n=i(0),o=i(1469),s=i(496),r=i(1021),a=i(805),l=i(1023),c=i(646),d=i(531),u=i(565),h=i(1296),p=s.extend({name:"CardEditor",el:!1,template:o,opened:!1,countries:[],userGroupInfo:void 0,savedCards:[],events:{"click ._close":"onCloseClick","click ._submit":"onSubmitClick"},initialize:function(){this.model||(this.model=new a({},{app:this.app})),this.virtual=new a(this.model.toJSON(),{app:this.app})},prepareRender:function(){var e=this.getMerchantForm();this.setViews({"._card":new r({app:this.app,model:this.virtual,mode:"edit",size:"large"}),"._form":[new s({tagName:"i",className:"card-editor__sep"}),e]})},getMerchantForm:function(){return new l({app:this.app,classNames:"merchant-form_compact",model:new a({id:this.model.get("id"),expiryMonth:this.model.get("expiryMonth"),expiryYear:this.model.get("expiryYear"),billingName:this.model.get("billingName")},{app:this.app}),useSaved:this.savedCards.length,savedCards:this.savedCards,formId:this.cid,onStartFormSubmit:this.onStartMerchantSubmit.bind(this),onFinishFormSubmit:this.onFinishMerchantSubmit.bind(this),onSuccessFormSubmit:this.onSuccessMerchantSubmit.bind(this),onCardChangeCallback:this.onMerchantModelChangeCallback.bind(this),onModelExternalError:this.onMerchantExternalError.bind(this)})},serialize:function(){return{formId:this.cid}},clientAfterRender:function(){d(this.$el,Backbone.$),u(this.$("._submit"))},onCloseClick:function(){this.close()},onSubmitClick:function(e){e.preventDefault(),this.submitMerchantForm()},open:function(){var e=this;return this.def=new Backbone.$.Deferred,this.isOpened()?this.$el.stop().show().animate({marginTop:0},600,function(){return e.def.resolve()}):this.render().promise().then(function(){e.$el.show().animate({marginTop:0},600,function(){e.def.resolve(),e.onFinishOpeningAnimation()})}),this.opened=!0,this.def},close:function(){var e=this;this.def=new Backbone.$.Deferred;var t=function(){e.$el.stop().animate({marginTop:"-"+e.$el.outerHeight()},600,function(){e.opened=!1,e.def.resolve(),e.onClose(),e.remove()})};return this.getView("._billing-address-editor")?this.getView("._billing-address-editor").toggle(!1).then(function(){return t()}):t(),this.def},isOpened:function(){return this.opened},submitMerchantForm:function(){this.findView("MerchantForm").$el.trigger("submit")},onFinishOpeningAnimation:function(){var e=this.$el.offset().top-(document.documentElement.clientHeight-this.$el.height())/2;Backbone.$("html, body").animate({scrollTop:e+"px"},600)},onStartMerchantSubmit:function(){this.$("._submit").trigger("loading")},onFinishMerchantSubmit:function(){this.$("._submit").trigger("loaded")},onSuccessMerchantSubmit:function(e,t){var i=this;this.close().then(function(){return i.onCardEditSuccess(e,t)})},onMerchantModelChangeCallback:function(e){this.virtual.set(e.toJSON())},onMerchantExternalError:function(e){var t=this;void 0===e&&(e={}),n.isEmpty(e)||n.size(c.filterOwn(e,Object.keys(this.app.user)))&&this.showAddressEditor().then(function(){return t.getView("._billing-address-editor").showErrors(t.app.user,e)})},onBillingAddressEditorSave:function(){this.getView("._billing-address-editor").toggle(!1)},onCardEditSuccess:function(){},onClose:function(){}});Object.assign(p.prototype,h),e.exports=p},function(e,t,i){"use strict";var n=i(0),o=[{code:"default",field:"global",message:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.translator.tr("Error: %s (%s).",i)+" "+e.translator.tr('Please contact our <a href="%s" class="%s">support service</a> or your card issuer.',[e.makeUrl("contact_us"),"link-blue"])}},{code:"014",errors:[{field:"pan"}]},{code:"041",errors:[{field:"global",message:function(e){return e.translator.tr("The card is blocked. Please use a different card or contact your card issuer.")}}]},{code:"043",errors:[{field:"global",message:function(e){return e.translator.tr("The card is blocked. Please use a different card or contact your card issuer.")}}]},{code:"051",errors:[{field:"global",message:function(e){return e.translator.tr("The card has insufficient funds. Please use a different card or contact your card issuer.")}}]},{code:"054",errors:[{field:"global",message:function(e){return e.translator.tr("The card is expired. Please use a different card or contact your card issuer.")}}]},{code:"057",errors:[{field:"global",message:function(e){return e.translator.tr("It is possible that your online payment option is disabled. Please check with your card issuer to solve the problem.")}}]},{code:"061",errors:[{field:"global",message:function(e){return e.translator.tr("Exceeds withdrawal amount limit")}}]},{code:"063",errors:[{field:"global",message:function(e){return e.translator.tr("Security violation")}}]},{code:"065",errors:[{field:"global",message:function(e){return e.translator.tr("Activity count limit for card exceeded. Please contact your card issuer.")}}]},{code:"093",errors:[{field:"global"}]},{code:"100",errors:[{validationCode:"01",field:"pan",message:function(e){return e.translator.tr("Invalid Credit Card Number")}},{validationCode:"02",field:"cvv",message:function(e){return e.translator.tr("Invalid Security Code")}},{validationCode:"03",field:"expiryMonth",message:function(e){return e.translator.tr("Please check the Expiration Date")}},{validationCode:"04",field:"expiryYear",message:function(e){return e.translator.tr("Please check the Expiration Date")}}]},{code:"105",errors:[{field:"address",message:function(e){return e.translator.tr("Please check Street Address")}}]},{code:"106",errors:[{field:"zip",message:function(e){return e.translator.tr("Invalid Zip/Postal Code")}}]},{code:"114",errors:[{field:"zip",message:function(e){return e.translator.tr("Please check Zip/Postal Code")}},{field:"address",message:function(e){return e.translator.tr("Please check Street Address")}},{field:"expiryMonth",message:function(e){return e.translator.tr("Please check the Expiration Date")}}]},{code:"115",errors:[{field:"pan",message:function(e){return e.translator.tr("Invalid Credit Card Number")}}]},{code:"117",errors:[{field:"pan"}]},{code:"118",errors:[{field:"global",message:function(e){return e.translator.tr("Currency Type Not Accepted")}}]},{code:"129",errors:[{field:"expiryMonth"}]},{code:"140",errors:[{field:"expiryMonth"}]},{code:"141",errors:[{field:"expiryMonth"}]},{code:"991",errors:[{field:"global",message:function(e){return e.translator.tr("The card is blocked. Please use a different card or contact your card issuer.")}}]},{code:"992",errors:[{field:"global",message:function(e){return e.translator.tr('Your IP blocked. Please contact our <a href="%s" class="%s">support service</a> \n\t\t\t\t\tto resolve this problem.',[e.makeUrl("contact_us"),"link-blue"])}}]},{code:"63002",errors:[{field:"pan"}]},{code:"0N7",errors:[{field:"cvv",message:function(e){return e.translator.tr("Invalid Security Code")}}]},{code:"100111",errors:[{field:"global"}]}];e.exports.get=function(e){return n(o).findWhere({code:e})}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="merchant-manager';if(e.useSavedState&&(i+=" merchant-manager_saved"),i+=" "+t(e.classNames)+'"><div class="merchant-manager_fields">',e.useSaved&&(i+='<div class="merchant-manager__item merchant-manager__item_saved"><label class="merchant-manager__field merchant-manager__field_saved checkbox-box checkbox-box-m"><input class="checkbox _use-saved-cards" type="checkbox"',e.useSavedState&&(i+=' checked="checked"'),i+='><i class="icon icon-checkbox icon-checkbox-m"></i><span class="checkbox-text">'+this.tr("Use my saved cards")+"</span></label></div>"),i+='<div class="merchant-manager__item"><span class="merchant-manager__field-title">'+this.tr("Credit Card Number")+"</span>",e.useSavedState)if(e.savedCards.list.length>1){i+='<label class="merchant-manager__field merchant-manager__field_number-select select-box select-box-m"><i class="arrow arrow-black arrow-bottom"></i><i class="merchant-manager__icon-lock field-box__right-elem icon icon-lock-green _lock"></i><select class="select select-m _selected-card" name="number">';var n=e.savedCards.list;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<option value="'+t((o=n[s+=1]).id)+'"',e.savedCards.active.id===o.id&&(i+=" selected"),i+=">"+t(o.labels.number)+"</option>";i+="</select></label>"}else i+='<label class="merchant-manager__field merchant-manager__field_number_disabled field-box input-box input-box-m"><i class="merchant-manager__icon-lock field-box__right-elem icon icon-lock-green _lock"></i><input type="hidden" name="cardId" value="'+t(e.savedCards.active.id)+'" /><input class="input input-m _cardNumber" type="text" name="number" maxlength="27" disabled value="'+t(e.savedCards.active.labels.number)+'" autofocus autocomplete="cc-number" /></label>';else i+='<label class="merchant-manager__field merchant-manager__field_number field-box input-box input-box-m"><i class="merchant-manager__icon-lock field-box__right-elem icon icon-lock-green _lock"></i><input type="hidden" name="cardId" value="'+t(e.attributes.cardId)+'" /><input class="input input-m _cardPan" type="text" name="pan" maxlength="27" value="'+t(e.attributes.labels.number)+'" autofocus placeholder="'+this.tr("Credit Card Number")+'" autocomplete="cc-number" /></label>';i+='</div><div class="merchant-manager__item merchant-manager__item_exp"><span class="merchant-manager__field-title">'+this.tr("Expiration Date")+'</span><span class="merchant-manager__field-title merchant-manager__field-title_alt">'+this.tr("Expiration Date")+", "+this.tr("CVV / CVC")+'</span><div class="merchant-manager__field merchant-manager__field_exp field-box select-box select-box-m"><select class="select select-m _expiryMonth" name="expiryMonth"',e.useSavedState&&(i+=" disabled"),i+=' autocomplete="cc-exp-month">';var a=e.expiration.months;if(a)for(var l,c=-1,d=a.length-1;c<d;)i+='<option value="'+t(l=a[c+=1])+'"',e.attributes.expiryMonth===l&&(i+=" selected"),i+=">"+t(l)+"</option>";i+='</select><i class="arrow arrow-black arrow-bottom"></i></div><span class="merchant-manager__exp-sep">/</span><div class="merchant-manager__field merchant-manager__field_exp field-box select-box select-box-m"><select class="select select-m _expiryYear" name="expiryYear"',e.useSavedState&&(i+=" disabled"),i+=' autocomplete="cc-exp-year">';var u=e.expiration.years;if(u)for(var h,p=-1,f=u.length-1;p<f;)i+='<option value="'+t(h=u[p+=1])+'"',e.attributes.expiryYear===h&&(i+=" selected"),i+=">20"+t(h)+"</option>";return i+='</select><i class="arrow arrow-black arrow-bottom"></i></div><input type="text" class="invisible" autocomplete="cc-exp"></div><div class="merchant-manager__item merchant-manager__item_cvv"><span class="merchant-manager__field-title">'+this.tr("CVV / CVC")+'</span><label class="merchant-manager__field merchant-manager__field_cvv field-box input-box input-box-m"><input class="input input-m _cvv" type="password" name="cvv" maxlength="4"value="',e.useSavedState&&(i+="***"),i+='"placeholder="'+this.tr("CVV / CVC")+'"',e.useSavedState&&(i+=" disabled"),i+=' autocomplete="cc-csc" /><i class="merchant-manager__icon-card icon icon-card field-box__right-elem _card-helper"></i><i class="merchant-manager__icon-help icon icon-help _card-helper"></i></label></div><div class="merchant-manager__item"><div class="g-recaptcha _captcha" data-sitekey="'+t(e.captcha.siteKey)+'"></div></div><div class="merchant-manager__item _errorHolder"><div class="field-box"></div></div></div></div>'}},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=i(2),a=i(999);e.exports=a.extend({name:"MerchantMultiCardManager",savedCards:[],useSaved:!0,useSavedState:!0,classNames:"",events:o({},a.prototype.events,{"change ._selected-card":"onSelectedCardChange","change ._use-saved-cards":"handleUseSavedStateChange",'change [name="saved"]':"handleUseSavedStateChange","click ._other-cards":"handleOtherCardsClick"}),globals:{click:"handleBodyClick"},initialize:function(e){this.setCardModel(e),this.setInitPosition()},serialize:function(){return o({},a.prototype.serialize.call(this),{savedCards:{list:this.savedCards.serialize(),active:this.model.serialize()},switcher:{saved:{tag:"span",name:"saved",checked:this.useSavedState,className:"switcher_small"}}})},setInitPosition:function(){var e;e=this.model&&this.savedCards.get(this.model.get("id"))?this.savedCards.get(this.model.get("id")):this.savedCards.first(),this.setSavedModel(e)},setSavedModel:function(e){this.model.set(Object.assign({},e.attributes)),this.render()},resetModel:function(){this.model.resetToDefaults(),this.$("._expiryMonth").length&&this.$("._expiryYear").length&&this.model.set({expiryMonth:1,expiryYear:+r().format("YY")})},onSelectedCardChange:function(e){var t=this.savedCards.get(e.currentTarget.value);this.setSavedModel(t),this.onCardSwitchCallback(t)},handleUseSavedStateChange:function(e){this.useSavedState=e.currentTarget.checked,this.useSavedState?(this.setSavedModel(this.savedCards.first()),this.onCardSwitchCallback(this.savedCards.first())):(this.resetModel(),this.onCardSwitchCallback()),this.render(),this.onUseSavedCards(this.useSavedState)},handleOtherCardsClick:function(){this.$("._cards-list").removeClass("hidden")},handleBodyClick:function(e){var t=this.$("._cards-list"),i=this.$("._other-cards");t.length&&i.length&&!t[0].contains(e.target)&&!i[0].contains(e.target)&&t.addClass("hidden")},onCardSwitchCallback:function(){},onUseSavedCards:function(){},onCardChange:function(){}})},function(e,t,i){"use strict";var n=i(13),o=i(1297);e.exports={showAddressEditor:function(){var e=this,t=new n.$.Deferred;return this.setNotExistView("._billing-address-editor",o,{app:this.app,togglingMethod:"simple",countries:this.countries,userGroupInfo:this.userGroupInfo,onCloseCallback:function(){return e.$("._inner").toggle(!0)},onSaveSuccessCallback:this.onBillingAddressEditorSave.bind(this)}),this.toggleBillingAddressEditor(!0).then(function(){return t.resolve()}),t},toggleBillingAddressEditor:function(e){return this.$("._inner").toggle(!e),this.getView("._billing-address-editor").toggle(e)}}},function(e,t,i){"use strict";var n=i(0),o=i(13),s=i(118),r=i(1477),a=i(496),l=i(575),c=i(20),d=i(531),u=i(565),h=i(558),p=i(646),f=a.extend({name:"BillingAddressEditor",el:!1,template:r,countries:[],togglingMethod:"slide",togglingInProgress:!1,opened:!1,events:{"change [data-capitalize]":"onCapitalizeEvent","keyup [data-capitalize]":"onCapitalizeEvent","input [data-capitalize]":"onCapitalizeEvent","paste [data-capitalize]":"onCapitalizeEvent","click ._close-btn":"onCloseClick","focusin input":"onFieldFocusIn","focusin select":"onFieldFocusIn","submit ._form":"onSubmit"},initialize:function(){this.listenTo(this.app.user,"invalid",this.showErrors),this.setViews({"._phone":new l({app:this.app,phone:this.app.user.get("phone")})})},serialize:function(){var e=(this.userGroupInfo?this.userGroupInfo:this.app.user).toProfileJSON(),t=this.countries.length&&this.countries.findWhere({code:e.country}).serialize();return{countries:n.isFunction(this.countries.serialize)?this.countries.serialize():[],userCountry:(t||{}).title,userInfo:n.extend({fullName:e.firstName||e.lastName?e.firstName+"&nbsp;"+e.lastName:e.fullName},e)}},clientAfterRender:function(){d(this.$el,o.$),u(this.$('[type="submit"]'))},toggle:function(e){var t=this,i=new o.$.Deferred,n=null!=e?e:!this.opened;if(n&&this.render().promise().then(function(){var e=function(){t.togglingInProgress=!1,t.opened=!0,i.resolve(),t.onOpenCallback()};"slide"===t.togglingMethod?(t.togglingInProgress=!0,t.$("._form").css({marginTop:"-500px"}).animate({marginTop:0},800,function(){return e()})):e()}),!n){var s=function(){t.togglingInProgress=!1,t.opened=!1,i.resolve(),t.onCloseCallback()};"slide"===this.togglingMethod?(this.togglingInProgress=!0,this.$("._form").stop().animate({marginTop:"-500px"},800,function(){return s()})):(this.$el.remove(),s())}return i},showErrors:function(e,t){var i=this;n.each(this.$("label:not(.field-box_correct) input"),function(e){return i.fieldReset(i.$(e).parent())}),n.each(p.filterOwn(t,n.keys(e.defaults)),function(e,t){return i.fieldIncorrect(i.$("[name="+t+"]").parent(),{errorMessage:e})})},handleErrors:function(e,t){var i={};n.each(t.errors,function(e){var t=s[e.error_code]||s.byDefault;void 0===i[t]&&(i[t]=[]),i[t].push(e.error_message)}),this.showErrors(e,i)},onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=c.serializeForm(this.$el.find("._form"));this.$('[type="submit"]').trigger("loading"),this.app.user.save(t,{parse:!1,success:this.onFormSaveSuccess.bind(this)})},onFormSaveSuccess:function(e,t){this.$('[type="submit"]').trigger("loaded"),t.errors?(this.handleErrors(e,t),this.onSaveErrorCallback()):this.onSaveSuccessCallback()},onFieldFocusIn:function(e){this.fieldReset(this.$(e.currentTarget).parent())},onCloseClick:function(){this.toggle(!1)},onOpenCallback:n.noop,onCloseCallback:n.noop,onSaveSuccessCallback:n.noop,onSaveErrorCallback:n.noop});n.extend(f.prototype,h),e.exports=f},function(e,t,i){"use strict";e.exports=function(e){return'<div class="installment-rebill-info"><span>'+this.tr("You have purchased a one-year plan with monthly billing. This means, you opted for a plan which offers a discounted monthly price for a one year commitment.")+"</span><br><br><span>"+this.tr("You can turn off the Auto-Renewal during the last month of your annual commitment. This will prevent the plan from renewing for another one-year commitment.")+"</span><br><br><span>"+this.tr("If youâre looking to cancel your annual plan early, please contact us and we can explore your options.")+"</span></div>"}},function(e,t,i){"use strict";var n=i(2),o=i(498),s=i(555),r=i(1480),a=i(497),l=i(496);e.exports=a.extend({name:"ProductRebillDiscountTooltip",params:o.RebillProductDiscount,prepareContent:function(){var e=this;this.content=new l({template:r,serialize:function(){return{product:e.model.serialize(),expiresDate:n.unix(e.model.get("expires")).format(s.statisticsDays)}}})}})},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<a class="user-plans-list__item';return e.needToShowHelpTooltip&&(i+=" user-plans-list__item_help"),i+=' _product"',e.href&&(i+=' href="'+e.href+'"'),i+=' data-bit="'+t(e.product.bit_price)+'"  data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</b></span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),i+='<i class="user-plans-list__icon user-plans-list__icon_credits"></i>',e.showRebillDiscount&&e.product.rebill.discount>0&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<a class="user-plans-list__item';return e.needToShowHelpTooltip&&(i+=" user-plans-list__item_help"),e.product.rebill.discount>0&&(i+=" user-plans-list__item_discount"),i+=' _product"',e.href&&(i+=' href="'+e.href+'"'),i+=' data-id="'+t(e.product.id)+'" data-bit="'+t(e.product.bit_price)+'"data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.renew+"</span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),i+='<i class="user-plans-list__icon user-plans-list__icon_subscription _info">'+e.labels.daysLeft+"</i>",e.needToShowHelpTooltip&&(i+='<i class="user-plans-list__help icon icon-help _help"></i>'),e.showRebillDiscount&&e.product.rebill.discount>0&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<a class="user-plans-list__item';return e.product.rebill.discount>0&&(i+=" user-plans-list__item_discount"),i+=' _product" ',e.href&&(i+=' href="'+e.href+'"'),i+=' data-bit="'+t(e.product.bit_price)+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),i+='<i class="user-plans-list__icon user-plans-list__icon_ondemand"></i>',e.showRebillDiscount&&e.product.rebill.discount>0&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<a class="user-plans-list__item _product"';return e.href&&(i+=' href="'+e.href+'"'),i+=' data-bit="'+t(e.product.bit_price)+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.expires+"</span>",e.product.split_count>0&&(i+='<span class="user-plans-list__text">'+e.labels.splitCount+"</span>"),i+='<i class="user-plans-list__icon user-plans-list__icon_imagepack"></i></a>'}},function(e,t,i){},function(e,t,i){"use strict";i(1500);var n=i(0),o=i(1501),s=i(532),r=i(572),a=i(606);e.exports=s.extend({name:"PaymentFailure",template:o,events:n.extend({},s.prototype.events,{"click ._proceed":"onProceedClick"}),initialize:function(){var e=this;this.setView("._live-chat",new a({app:this.app,className:"link-blue",template:function(){return"<span>"+e.app.translator.tr("Live Chat")+"</span>"}}))},serialize:function(){return{credentials:this.app.user.get("firstName")?this.tr("Dear %s!",this.app.user.get("firstName")):this.tr("Dear user!"),supportPhone:r.serializeContactPhone(this.app)}},onProceedClick:function(){this.app.observer.broadcast("Track:UE:Billing:PaymentDecline",{action:"proceed"}),this.app.router.redirect(this.app.makeUrl("subscribe/billing",{query:{billing:"segpayeu",product:this.app.queryParams.product,id:this.app.queryParams.id}}))},onHideCallback:function(){this.app.observer.broadcast("Track:UE:Billing:PaymentDecline",{action:"exit"})}})},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(805),r=i(1026),a=i(33);e.exports=a.extend({url:"Billing",defaults:{card:null,product:null,reBill:!1,billingAddress:{},isGift:!1},relations:{card:s,billingAddress:r},getQueryParams:function(){return this.toJSON()},initialize:function(){var e=this.get("billingAddress");e.set(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},e.pickDefaultsFrom(this.app.user.toProfileJSON()),{},e.getNonDefaults()))},parse:function(e){return void 0===e&&(e={}),this.pickDefaultsFrom(e.data)}})},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<a class="user-plans-list__item';return e.product.rebill.discount>0&&(i+=" user-plans-list__item_discount"),i+=' _product _buy-more" ',e.href&&(i+=' href="'+e.href+'"'),i+=' data-id="'+t(e.product.id)+'" data-bit="'+t(e.product.bit_price)+'" data-split="'+e.product.split_count+'"><span class="user-plans-list__title">'+e.labels.base,e.product.serialIndex&&(i+='<i class="user-plans-list__label label label-position-counter">'+t(e.product.serialIndex)+"</i>"),i+='</span><span class="user-plans-list__text">'+e.labels.left+'</span><span class="user-plans-list__text">'+e.labels.curated+'</span><span class="user-plans-list__text">'+e.labels.renew+'</span><i class="user-plans-list__icon user-plans-list__icon_membership _info"></i>',e.showRebillDiscount&&e.product.rebill.discount>0&&(i+='<span class="rebill-discount label label-discount _rebill-discount">-'+t(e.product.rebill.discount)+"%</span>"),i+="</a>"}},function(e,t,i){"use strict";var n=i(4);e.exports=n.extend({url:function(){return this.get("uuid")?"DownloadBulkOrder":"RequestBulkOrder"},defaults:{uuid:null,transactions:[],type:"transaction"}})},function(e,t,i){"use strict";i(1529);var n=i(1286),o=i(496);e.exports=o.extend({name:"SearchSimilarFiles",el:!1,template:n,viewMode:"modal",events:{"click ._find-similar-btn":"onFindSimilarBtnClick"},serialize:function(){var e=this.file.get("type");return{displayAsLink:this.app.ampEnabled,url:this.file.makeRelatedUrl({relatedTo:"similar"}),type:e,classNames:this.classNames,iconClassNames:this.iconClassNames,btnText:"video"===e?this.tr("Find Similar Videos"):this.tr("Find Similar Images")}},onFindSimilarBtnClick:function(e){e.stopPropagation(),e.preventDefault(),this.app.observer.broadcast("Track:UE:File:ToSimilar"),this.app.router.redirect(this.file.makeRelatedUrl({relatedTo:"similar"}))}})},function(e,t,i){"use strict";i(1530);var n=i(0),o=i(126),s=i(7),r=i(496),a=i(20);e.exports=r.extend({name:"CreateDesign",el:!1,viewMode:"modal",events:{"click ._btn":"onBtnClick"},serialize:function(){return{btnText:"edit"===this.getCrelloButtonType()?this.tr("Edit with Crello"):this.tr("Create Design"),classNames:this.classNames,iconClassNames:this.iconClassNames}},clientAfterRender:function(){this.trackEvent("show")},getCrelloButtonType:function(){var e=this.app.features.get("Crello button type");return"enabled"===e.get("status")?e.get("value"):""},onBtnClick:function(e){e.stopPropagation(),window.open(this.getLink(),"_blank").focus(),this.trackEvent("click")},getLink:function(){var e={protocol:s.client.crello.protocol,host:s.client.crello.host,pathname:"home"};return this.app.features.isFeatureOnValue("Create Design Home")||(e=n.extend(e,{pathname:"create_design/depositphotos/"+this.model.get("id"),query:this.getQueryParams()})),o.format(e)},getQueryParams:function(){var e="modal"===this.viewMode?"Modal":"ItemPage";return{utm_source:"DepositPhotos",utm_medium:a.capitalize(this.getCrelloButtonType()),utm_campaign:e}},trackEvent:function(e){var t="modal"===this.viewMode?"FileViewModal":"FileView",i="edit"===this.getCrelloButtonType()?"EditWCrello":"CrelloCreate";this.app.observer.broadcast("Track:UE:"+t+":CrelloCreate",{eventCategory:i,action:e})}})},function(e,t,i){"use strict";i(1551);var n=i(1552),o=i(1553),s=i(1554),r=i(496),a=i(581),l=r.extend({name:"RelatedFiles",el:!1,collection:null,template:n,relatedMode:"",viewMode:"page",layout:"wide",className:"",maxRows:2,thumbListHolderWidth:1200,title:"",isCartBtnEnabled:!0,isFavoriteBtnEnabled:!0,isSimilarBtnEnabled:!1,displaySeeMoreAsLink:void 0,displaySeeMoreAsThumb:void 0,isSeeMoreAsPseudo:!1,lazyLoadOptions:{},isSlidable:!1,sliderParams:{},initialize:function(){if(!this.collection)throw new Error(this.name+" "+this.relatedMode+" "+this.cid+": Related collection required!");this.applyPropsAutoCorrection(),this.listenTo(this.collection,"update reset",this.render)},applyPropsAutoCorrection:function(){4!==this.maxRows&&void 0===this.displaySeeMoreAsLink&&void 0===this.displaySeeMoreAsThumb&&(this.displaySeeMoreAsLink="normalSquare"!==this.layout,this.displaySeeMoreAsThumb="normalSquare"===this.layout)},prepareRender:function(){var e=this;this.setView("._files-list",new s({app:this.app,maxRows:this.maxRows,scale:this.scale||1,model:this.model,collection:this.collection,layout:this.layout,viewMode:this.viewMode,relatedMode:this.relatedMode,isSlidable:this.isSlidable,sliderParams:this.sliderParams,amp:o,draggableOptions:{mode:"related",enabled:"page"===this.viewMode},isCartBtnEnabled:this.isCartBtnEnabled,isFavoriteBtnEnabled:this.isFavoriteBtnEnabled,isSimilarBtnEnabled:this.isSimilarBtnEnabled,thumbListHolderWidth:this.thumbListHolderWidth,displaySeeMoreAsThumb:this.displaySeeMoreAsThumb,lazyLoadOptions:this.lazyLoadOptions,makeSeeMoreData:function(){return e.makeSeeMoreData()},onFileClickCallback:function(t,i){return e.onFileClickCallback(t,i)}}))},serialize:function(){return{layoutClassName:this.className,seeMoreData:this.shouldDisplaySeeMore()?this.makeSeeMoreData():null,title:this.title,relatedMode:this.relatedMode}},clientAfterRender:function(){this.isSeeMoreAsPseudo&&this.setSeeMoreLink(),this.clientAfterRenderCallback()},makeSeeMoreData:function(){return{url:this.makeSeeMoreURL(),text:"image"===this.model.get("type")&&"page"===this.viewMode?this.app.tr("See More Pictures"):this.app.tr("See More"),pseudo:this.isSeeMoreAsPseudo}},makeSeeMoreURL:function(){return this.model.makeRelatedUrl({relatedTo:this.relatedMode})},setSeeMoreLink:function(){var e=this.$("._link");e.length&&a.transformToLink(e[0],this.makeSeeMoreURL())},shouldDisplaySeeMore:function(){return!(this.collection.length<8)&&this.displaySeeMoreAsLink},onFileClickCallback:function(){},clientAfterRenderCallback:function(){}});e.exports=l},function(e,t,i){"use strict";var n=i(0);e.exports=function(e){return n.reduce(e,function(e,t,i){return e+=t?" "+i:""},"").trim()}},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=i(1560).base,a=i(671),l=i(1561);e.exports=function(e,t,i){a.initDragNDrop(),e.draggable(o({},r,{helper:function(){return t.getView("fileDraggableHelper")||t.setViews({fileDraggableHelper:new l(i.helperOptions)}),Backbone.$("<div></div>")},start:function(e,n){t.getView("fileDraggableHelper").active=!0,t.getView("fileDraggableHelper").setData(o({model:i.helperOptions.getModel(e)},t.getView("fileDraggableHelper").getDefaults())).then(function(){return n.helper.append(t.getView("fileDraggableHelper").$el)})},drag:function(e,i){i.position.top>window.innerHeight+window.scrollY-i.helper.height()&&t.app.observer.fire("Favorites:OpenPanel")},stop:function(e,i){i.helper.remove(),t.getView("fileDraggableHelper").active=!1}}))}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="series-box';e.series.className&&(i+=" "+t(e.series.className)),i+=' _series-box">';var n=e.series.elements;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<a class="series-box__link-poster _link" href="'+((o=n[s+=1]).url||o.urlVar)+'" style="background-image: url('+t(o.resource.src.jpg)+')">',o.trTitle?i+=""+t(o.trTitle):i+=""+t(o.title),i+="</a>";return i+="</div>"}},function(e,t,i){"use strict";var n=i(0),o=i(20),s=i(25),r=i(103);e.exports=s.extend({url:"FileViewRelated",model:r,initialize:function(e,t){this.store=n.clone(t)},getQueryParams:function(){return n.clone(this.store)},parse:function(e,t){return e.result=o.beautifyApiResponse(e.items||e.result||[]),t.parser="parseFromSearch",s.prototype.parse.call(this,e.result,t)}})},function(e,t,i){"use strict";(function(t){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(0),r=i(1580),a=i(1581),l=i(725),c=i(498),d=i(16).fileViewButtons,u=i(677),h=i(496),p=i(1004),f=i(497),m=i(574),g=i(1317),b=i(1313),v=i(69),_=i(501),w=i(904),y=i(20).classNames,x=i(581),C=h.extend({name:"FileViewThumb",el:!1,insert:!0,props:{},template:r,amp:a,viewMode:"page",preloadFileSize:"huge",player:null,dimensions:{},shouldShowTextInside:!1,isCartBtnEnabled:!0,isFavoriteBtnEnabled:!0,showDownloadButtonInZoomMode:!1,enableListThroughNavigation:!1,showFileId:!1,events:{"click ._zoom-btn":"zoomIn","click ._zoom-image":"zoomIn","click ._to-cart":"onAddToCart","click ._to-favorites":"onFavoritesClick","click ._share":"onShareClick","click ._share-close":"onShareCloseClick","click ._share-button":"onShareButtonClick","click ._download_comp":"onDownloadCompClick","click ._file-box-description":"onFileBoxDescriptionClick","mouseenter ._editorial-tooltip":"toggleEditorialTooltip","mouseleave ._editorial-tooltip":"toggleEditorialTooltip"},globals:{"resize window":"onWindowResize"},initialize:function(){var e=this;this.props=u.FileViewThumb(this.app),this.preloadFileSize=this.getThumbSize(),this.listenTo(this.app.observer,{"Cart:added":function(t){return e.markCart(!0,t.fileId)},"Cart:removed":function(t){return e.markCart(!1,t.fileId)},"Favorites:PanelCacheUpdate":this.markFavorites})},prepareRender:function(){var e="huge";this.useBroadSize()&&!this.useHugeSize()?e="broad":"modal"===this.viewMode&&this.app.features.isFeatureOnValue("File View Modal Image Max Thumb")&&"video"!==this.model.get("type")&&(this.compactMode=_.desktopMedium(),e=this.compactMode?"huge":"modal"),this.dimensions=v.getThumbSizes(this.model.serialize(),e)},getThumbSize:function(){var e="huge";return(this.useMaxModalSize()||this.useBroadSize()&&!this.useHugeSize())&&(e="large"),this.useMaxSize()&&(e="max"),e},useBroadSize:function(){return"page"===this.viewMode&&this.app.features.isFeatureOnValue("File View Classic")&&this.app.features.isFeatureOnValue("Broad size file view")},useMaxSize:function(){return"page"===this.viewMode&&"video"!==this.model.get("type")&&this.app.features.isFeatureOnValue("File View Classic")&&this.app.features.isFeatureOnValue("Max size file view")},useHugeSize:function(){return"page"===this.viewMode&&"video"===this.model.get("type")&&this.model.get("hasHugeVideoThumb")&&this.app.features.isFeatureOnValue("Broad size file view")},useMaxModalSize:function(){return"modal"===this.viewMode&&"video"!==this.model.get("type")&&this.app.features.isFeatureOnValue("File View Modal Image Max Thumb")},serialize:function(){var e=this.getThumbSize(),t=this.model.serialize();return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({fileViewBoxClassNames:this.getFileViewBoxClassNames(),isEnterpriseUser:this.app.user.isEnterprise(),file:x.injectFilesSEOMeta(this.app,t),dimensions:this.dimensions,thumb:{hasLabel:v.hasLabel(t,e),src:this.model.makeThumb(e),preload:this.model.makeThumb(this.preloadFileSize),preloadMax:this.model.get("hasHugeImageThumb")||this.model.get("hasHugeVectorThumb")?this.model.makeThumb("max"):"",seo:this.model.makeThumb("max"),download:"video"===this.model.get("type")?this.getVideoThumb():this.model.makeThumb("max")},viewMode:this.viewMode,canDownloadComp:this.app.user.isLoggedIn(),actionsSmallMode:this.checkActionsSmallMode(),isCartBtnEnabled:!this.app.user.isEnterprise()&&this.isCartBtnEnabled,isFavoriteBtnEnabled:this.isFavoriteBtnEnabled,showVKSocial:"ru"===this.app.lang,hideDescription:!1,infoIndicators:this.getInfoIndicators(),shouldShowFileId:this.shouldShowFileId,shouldShowTextInside:this.dimensions.h>200&&this.shouldShowTextInside,isModifyDescriptionWidth:this.model.get("width")/this.model.get("height")<1&&!this.shouldShowTextInside,videoPlaceholderStyles:this.getVideoPlaceholderStyles()},this.props)},getVideoThumb:function(){var e=this.model.getVideoThumbs("huge");return e.mp4||this.app.features.isFeatureOnValue("Is webm video thumb allowed")&&e.webm||e.ogg||this.model.makeThumb("huge")},getInfoIndicators:function(){return this.app.features.isFeatureOnValue("File View Mobile Design Upgrade")&&"video"===this.model.get("type")&&"page"===this.viewMode?[{value:this.model.get("mp")+"s",iconClass:"icon-clock-light"},{value:this.model.get("ar"),iconClass:"icon-aspectratio-light"}]:[]},getFileViewBoxClassNames:function(){return y({"view-file-box_video":"video"===this.model.get("type"),"view-file-box_image":"video"!==this.model.get("type")})},getVideoPlaceholderStyles:function(){return"width:"+this.dimensions.w+"px;padding-top:"+(this.dimensions.h/this.dimensions.w*100).toFixed(2)+"%"},clientAfterRender:function(){var e=this;"video"===this.model.get("type")&&this.enableVideoPlayer(),"modal"===this.viewMode&&this.model.get("editorial")&&this.initEditorialToolTip(),"video"!==this.model.get("type")&&g(this.$("._image")),b(this.$el.find("._draggable-box"),this,{helperOptions:{app:this.app,mode:"filePage",defaults:this.serialize.bind(this),getModel:function(){return e.model.serialize()}}}),this.initSocial(),this.markFavorites()},cleanup:function(){this.getView("FilePreviewVideo")&&this.getView("FilePreviewVideo").remove()},checkActionsSmallMode:function(){return this.dimensions.h<=100},enableVideoPlayer:function(){this.setView("FilePreviewVideo",new p({app:this.app,$mount:this.$("._video-placeholder"),$poster:this.$("._video-poster"),file:this.model,blackBackground:"modal"===this.viewMode,viewMode:this.viewMode})).render()},zoomIn:function(e){e.stopPropagation(),e.preventDefault(),this.app.store.get("ModalsManager").show("ZoomModal",{placeholderSRC:this.getZoomPlaceholderSRC(),model:this.model,collection:this.collection,app:this.app,single:!1,showDownloadButton:this.showDownloadButtonInZoomMode,onDownloadCallback:this.zoomDownloadCallback.bind(this),afterRenderCallback:this.afterRenderCallback.bind(this),enableListThroughNavigation:this.enableListThroughNavigation,zoomShowCallback:this.zoomShowCallback.bind(this),zoomHideCallback:this.zoomHideCallback.bind(this),isFirstItem:this.isFirstItem,isLastItem:this.isLastItem,zoomLeftCallback:this.zoomLeftCallback.bind(this),zoomRightCallback:this.zoomRightCallback.bind(this),rightEdgeCallback:this.rightEdgeCallback.bind(this),leftEdgeCallback:this.leftEdgeCallback.bind(this)}),this.$("._zoom-image").removeAttr("data-preload-max")},getZoomPlaceholderSRC:function(){return this.model.get("hasHugeImageThumb")||this.model.get("hasHugeVectorThumb")?this.$("._zoom-image").attr("data-preload-max"):this.$("._zoom-image").attr("src")},onWindowResize:s.throttle(function(){var e=t.browser?_.desktopMedium():this.compactMode;e!==this.compactMode&&(this.compactMode=e)},10),onFavoritesClick:function(e){e.stopPropagation(),e.preventDefault(),this.app.observer.broadcast(this.model.get("inFavorites")?"Track:UE:File:RemoveFromFavorites":"Track:UE:File:AddToFavorites",{id:this.model.get("id"),file:this.model.serialize(),position:0,view:this.name}),this.model.get("inFavorites")||this.app.store.link("FileForFavorite",this.model),this.app.observer.fire("Favorites:ToggleFile",{id:this.model.get("id")})},onAddToCart:function(e){e.stopPropagation(),e.preventDefault(),this.model.get("inCart")||this.app.user.isLoggedIn()||(new m({app:this.app,title:this.tr("Add to Cart?"),subTitle:"video"===this.model.get("type")?this.tr('<span class="%s">Create your Account</span> to add this video to your Cart',"sub-text"):this.tr('<span class="%s">Create your Account</span> to add this image to your Cart',"sub-text")}).show(),this.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:this.name+"/addToCart"})),this.app.observer.fire(this.model.get("inCart")?"Cart:remove":"Cart:add",{fileId:this.model.get("id")}),this.app.observer.broadcast(this.model.get("inCart")?"Track:UE:File:RemoveFromCart":"Track:UE:File:AddToCart",{id:this.model.get("id"),file:this.model.serialize(),position:0,view:this.name})},onShareClick:function(){this.$("._file-box").addClass("view-file-box_share"),this.$("._share-box").addClass("view-file-box__share_active")},onShareCloseClick:function(){this.$("._file-box").removeClass("view-file-box_share"),this.$("._share-box").removeClass("view-file-box__share_active")},onDownloadCompClick:function(e){if(!this.app.user.isLoggedIn())return e.stopPropagation(),e.preventDefault(),new m({app:this.app}).show(),void this.app.observer.broadcast("Track:UE:SignUp:ModalShow",{label:this.name+"/downloadComp"});this.app.observer.broadcast("Track:UE:File:CompDownload",{file:this.model,option:"comp"})},onFileBoxDescriptionClick:function(e){var t=this.$("._file-box-description");_.mobileMode()&&t.hasClass("view-file-box__description_short")&&(e.preventDefault(),e.stopPropagation(),t.removeClass("view-file-box__description_short"))},toggleEditorialTooltip:function(e){this.getView("editorialTooltip").toggle(e)},initEditorialToolTip:function(){this.setNotExistView("editorialTooltip",f,{params:c.ViewInfoEditorial,content:new h({el:!1,template:l,serialize:function(){return{extendedMessage:!0}}})})},initSocial:function(){var e={facebook:1,twitter:2,google:3,pinterest:4};"ru"===this.app.lang&&(e.vk=5),this.initSocialButtons({socialNameMap:e,shareData:{title:this.model.get("title"),description:this.model.get("description"),image:this.model.makeThumb("huge")}})},markCart:function(e,t){t.includes(this.model.get("id"))&&(this.model.set({inCart:e}),this.$("._label-in-cart").toggleClass("hidden",!e),this.$("._to-cart").toggleClass("active",e).attr({title:s.findWhere(d,{key:e?"removeFromCart":"addToCart"}).label}))},markFavorites:function(){var e=this.app.store.get("FolderCache");if(e){var t=!!e.get(this.model.get("id")),i=t?"removeFavorites":"addToFavorites",n=s.findWhere(d,{key:i}).label;this.model.set({inFavorites:t}),this.$("._label-in-favorites").toggleClass("hidden",!t),this.$("._to-favorites").toggleClass("active",t).attr({title:n})}},afterRenderCallback:function(){},zoomDownloadCallback:function(){},zoomShowCallback:function(){},zoomHideCallback:function(){},zoomLeftCallback:function(){},zoomRightCallback:function(){},rightEdgeCallback:function(){},leftEdgeCallback:function(){}});Object.assign(C.prototype,w),e.exports=C}).call(this,i(17))},function(e,t,i){"use strict";e.exports=function(e){e.each(function(e,t){var i=t.getAttribute("data-preload");if(i){var n=t.cloneNode(!0);n.src=i,n.removeAttribute("style"),n.removeAttribute("data-preload"),n.addEventListener("load",function e(){t.parentNode.replaceChild(n,t),n.removeEventListener("load",e),n=null,t=null})}})}},function(e,t,i){"use strict";var n=i(534),o=i(496),s=i(20).capitalize,r=i(501);e.exports=o.extend({name:"FileViewTitle",el:!1,viewMode:"page",globals:{"resize window":"onWindowResize"},events:{"click ._title-file":"onTitleClick","contextmenu ._title-file":"onCustomTitleClick","mouseup ._title-file":"onCustomTitleClick"},serialize:function(){var e=this.model.serialize();return{file:e,title:s(e.title)}},clientAfterRender:function(){this.setTitleWidth()},setTitleWidth:function(){var e=this.$el.width();if(r.mobileTablets())this.$el.find("._title-name").css("max-width",e);else if("page"===this.viewMode)this.$el.find("._title-name").css("max-width",this.$el.width()-this.$el.find("._title-type").width()-this.$el.find("._title-sep").width()-2);else if("modal"===this.viewMode){var t=r.mobilePhone()?2:1.4,i=Math.floor(e/t);this.$el.find("._title-name").css("max-width",i),this.$el.find("._title-seller").css("max-width",e-i-this.$el.find("._title-sep").width())}},onWindowResize:function(){this.setTitleWidth()},trackNewTabClick:function(){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:this.name,target:{target:"fileView",targetId:this.model.get("id")},params:Object.assign(this.model.toTracking(),{view:this.name})})},onTitleClick:function(e){"modal"===this.viewMode&&(e.ctrlKey||e.metaKey?this.trackNewTabClick():this.app.observer.broadcast("Track:UE:File:OpenFileView",{file:this.model,view:this.name}))},onCustomTitleClick:function(e){[n.rightMouse,n.middleMouse].includes(e.which)&&"modal"===this.viewMode&&this.trackNewTabClick(e.currentTarget)}})},function(e,t,i){"use strict";e.exports=function(e){return new Promise(function(t){if(e.id&&document.getElementById(e.id))t();else{var i=Object.assign(document.createElement("link"),{type:"text/css",rel:"stylesheet",id:"webpackPreventEnsure-"+e.id});i.setAttribute("data-href",e.href),document.head.appendChild(i);var n=document.createElement("link"),o=e.preload&&n.relList&&n.relList.supports("preload"),s={type:"text/css",rel:"stylesheet",onload:o?null:t()},r={rel:"preload",as:"style",onload:function(){return Object.assign(n,s)&&t()}};Object.assign(n,o?r:s,e),document.body.appendChild(n)}})}},function(e,t,i){"use strict";var n=i(1583),o=i(1584),s=i(496);e.exports=s.extend({name:"StructuredData",template:n,prepareRender:function(){this.app.features.isFeatureOnValue("JSON for Linked Data")&&(this.data=this.build().map(JSON.stringify))},serialize:function(){return{data:this.data}},build:function(){return[o.build(this.app)].concat(this.getStructuredData())},getStructuredData:function(){return[]}})},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){(function(t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e,n){var o=e.$,s="object"===(void 0===t?"undefined":i(t))?t:window,r=e.View,a=Array.prototype.concat,l=Array.prototype.splice,c=String.prototype.trim?n.bind(String.prototype.trim.call,String.prototype.trim):o.trim,d=e.View.extend({_render:function(){var e=this,t=e.__manager__,i=e.beforeRender;return new Promise(function(n,o){if(e.hasRendered&&e._removeViews(),t.callback=function(){delete t.isAsync,delete t.callback,e.trigger("beforeRender",e),e._viewRender(t).render().then(function(){return n()})},i){var s=i.call(e,e);if(s&&s.then&&(t.isAsync=!0,s.then(function(){t.callback(),n()},n)),!1===s)return void n()}t.isAsync||t.callback()})},_applyTemplate:function(e,t){var i=e;n.isString(i)&&(t.noel?(i=o.parseHTML(i,!0),this.$el.slice(1).remove(),this.$el.replaceWith(i),this.setElement(i,!1)):this.html(this.$el,i))},_viewRender:function(e){var t,i=this,o=function(n,o){return new Promise(function(s){var r;e.callback=function(t){delete e.isAsync,delete e.callback,i._applyTemplate(t,e),s()},d.cache(t,o),o&&(r=i.renderTemplate.call(i,o,n)),e.isAsync||(i._applyTemplate(r,e),s())})};return{render:function(){var s=i.serialize,r=i.template;return n.isFunction(s)&&(s=s.call(i)),new Promise(function(n,a){e.callback=function(t){delete e.isAsync,delete e.callback,o(s,t).then(function(){return n(i)})},"string"==typeof r&&(t=i.prefix+r);var l=d.cache(t);l?o(s,l).then(function(){return n(i)}):("string"==typeof r?l=i.fetchTemplate.call(i,i.prefix+r):"function"==typeof r?l=r:null!=r&&(l=i.fetchTemplate.call(i,r)),e.isAsync||o(s,l).then(function(){return n(i)}))})}}},constructor:function(t){this.manage=!0,n.extend(this,t);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];e.View.apply(this,[t].concat(o))},async:function(){var e=this.__manager__;return e.isAsync=!0,e.callback},promise:function(){return this.__manager__.renderDeferred},renderViews:function(e){var t=this,i=t.__manager__,o=e,s=(o=o&&n.isArray(o)?n.chain(o):t.getViews(o)).map(function(e){return e.render().promise()});return i.renderDeferred=new Promise(function(e){return Promise.all(s).then(function(){return e(t)})}),t},insertView:function(e,t){return t?this.setView(e,t,!0):this.setView(e,!0)},insertViews:function(e){return n.isArray(e)?this.setViews({"":e}):(n.each(e,function(t,i){e[i]=n.isArray(t)?t:[t]}),this.setViews(e))},getView:function(e,t){var i=null!=e?e:t;return this.getViews(i).first().value()},getViews:function(e){var t;return"string"==typeof e?(e=this.sections[e]||e,t=this.views[e]||[],n.chain([].concat(t))):(t=n.chain(this.views).map(function(e){return n.isArray(e)?e:[e]},this).flatten(),"object"===i(e)?t.where(e):"function"==typeof e?t.filter(e):t)},removeView:function(e){var t=this.getViews(e).each(function(e){e.remove()});return t.value(),t},setView:function(e,t,i){"string"!=typeof e&&(i=t,t=e,e="");var n=t.__manager__;if(!n)throw new Error("The argument associated with selector '".concat(e,"' is defined and a View.  Set `manage` property to true for Backbone.View instances."));n.parent=this;var o=this.sections[e]||e;return n.selector=o,i?(this.views[o]=a.call([],this.views[e]||[],t),this.__manager__.insert=!0):(this.getView(e)!==t&&this.removeView(e),this.views[o]=t),t},setViews:function(e){var t=this;return n.each(e,function(e,i){n.isArray(e)?n.each(e,function(e){return t.insertView(i,e)}):t.setView(i,e)}),this},render:function(){var e=this,t=e.__manager__,i=t.parent,o=i&&i.__manager__,r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise(function(e,i){t.reject=i,t.resolve=e})};function a(){function a(){var i=s.console,o=e.afterRender;o&&o.call(e,e),e.trigger("afterRender",e),t.noel&&e.$el.length>1&&n.isFunction(i.warn)&&!e.suppressWarnings&&(i.warn("`el: false` with multiple top level elements is not supported."),n.isFunction(i.trace)&&i.trace())}return n.each(e.views,function(t,i){n.isArray(t)&&e.htmlBatch(e,t,i)}),i&&!t.insertedViaFragment&&(e.contains(i.el,e.el)||i.partial(i.$el,e.$el,o,t)),e.delegateEvents(),e.hasRendered=!0,t.renderInProgress=!1,delete t.triggeredByRAF,t.queue&&t.queue.length?t.queue.shift()():delete t.queue,o&&(o.renderInProgress||o.queue)?i.once("afterRender",a):a(),r.resolve(e)}return e._registerWithRAF(function(){e._render().then(function(){if(!n.keys(e.views).length)return a();var t=n.map(e.views,function(e){var t=n.isArray(e);return t&&e.length?n.map(e,function(e){return e.__manager__.insertedViaFragment=!0,e.render().promise()}):t?Promise.resolve(e):e.render().promise()});return Promise.all(n.flatten(t)).then(a),null})},r),t.renderInProgress=!0,t.renderDeferred=r.promise,e},remove:function(){return d._removeView(this,!0),this._remove.apply(this,arguments)},_registerWithRAF:function(e,t){var i=t.promise,n=t.resolve,o=this,s=o.__manager__,r=s.parent&&s.parent.__manager__;function a(){s.rafID=null,s.triggeredByRAF=!0,e()}this.useRAF?(s.deferreds||(s.deferreds=[]),s.deferreds.push(n),i.then(function(){for(var e=0;e<s.deferreds.length;e++)s.deferreds[e].call(o,o);s.deferreds.length=0}),this._cancelQueuedRAFRender(),r&&r.triggeredByRAF?a():s.rafID=o.requestAnimationFrame(a)):s.queue?s.queue.push(e):(s.queue=[],e())},_cancelQueuedRAFRender:function(){var e=this.__manager__;null!=e.rafID&&this.cancelAnimationFrame(e.rafID)}},{_cache:{},_removeViews:function(e,t){"boolean"==typeof e&&(t=e,e=this),(e=e||this).getViews().each(function(e){(e.hasRendered||t)&&d._removeView(e,t)}).value()},_removeView:function(e,t){var i,o=e.__manager__,s=o.parent&&o.parent.__manager__;if(!("boolean"==typeof e.keep?e.keep:e.options.keep)&&s&&!0===s.insert||t){if(d.cleanViews(e),e._removeViews(!0),e.$el.remove(),e._cancelQueuedRAFRender(),!o.parent)return;if(i=o.parent.views[o.selector],n.isArray(i))return n.each(n.clone(i),function(e,t){e&&e.__manager__===o&&l.call(i,t,1)}),void(n.isEmpty(i)&&o.parent.trigger("empty",o.selector));delete o.parent.views[o.selector],o.parent.trigger("empty",o.selector)}},cache:function(e,t){return e in this._cache&&null==t?this._cache[e]:null!=e&&null!=t?(this._cache[e]=t,t):null},cleanViews:function(t){n.each(a.call([],t),function(t){t.trigger("cleanup",t),t.unbind(),t.model instanceof e.Model&&t.model.off(null,null,t),t.collection instanceof e.Collection&&t.collection.off(null,null,t),t.stopListening(),n.isFunction(t.cleanup)&&t.cleanup()})},configure:function(t){n.extend(d.prototype,t),t.manage&&(e.View.prototype.manage=!0),!1===t.el&&(e.View.prototype.el=!1),!0===t.suppressWarnings&&(e.View.prototype.suppressWarnings=!0),!1===t.useRAF&&(e.View.prototype.useRAF=!1),t._&&(n=t._)},setupView:function(t,i){i=n.extend({},i),n.each(a.call([],t),function(t){if(!t.__manager__){var o,s=d.prototype;n.defaults(t,{views:{},sections:{},__manager__:{},_removeViews:d._removeViews,_removeView:d._removeView},d.prototype),t.options=i,n.extend(t,i),t._remove=e.View.prototype.remove,t.render=d.prototype.render,t.remove!==s.remove&&(t._remove=t.remove,t.remove=s.remove);var r=i.views||t.views;n.keys(r).length&&(o=r,t.views={},n.each(o,function(e,i){"function"==typeof e&&(o[i]=e.call(t,t))}),t.setViews(o))}})}});d.VERSION="2.0.0",e.View.prototype.constructor=function(e){var t;("el"in(e=e||{})?!1===e.el:!1===this.el)&&(t=!0),(e.manage||this.manage)&&d.setupView(this,e),this.__manager__&&(this.__manager__.noel=t,this.__manager__.suppressWarnings=e.suppressWarnings);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];r.apply(this,[e].concat(n))},e.View=e.View.prototype.constructor,e.View.extend=r.extend,e.View.prototype=r.prototype;var u={prefix:"",useRAF:!0,fetchTemplate:function(e){return n.template(o(e).html())},renderTemplate:function(e,t){return c(e.call(this,t))},serialize:function(){return this.model?n.clone(this.model.attributes):{}},partial:function(e,t,i,n){var o;n.selector&&(e=i.noel&&(o=e.filter(n.selector)).length?o:e.find(n.selector)),i.insert?this.insert(e,t):this.html(e,t)},html:function(e,t){e.empty().append(t)},htmlBatch:function(e,t,i){var s=e.__manager__,r={selector:i},a=n.reduce(t,function(t,i){var n=("boolean"==typeof i.keep?i.keep:i.options.keep)&&o.contains(e.el,i.el);return i.el&&!n&&t.push(i.el),t},[]);return this.partial(e.$el,o(a),s,r)},insert:function(e,t){e.append(t)},contains:function(e,t){return o.contains(e,t)},requestAnimationFrame:function(){for(var e=0,t=["ms","moz","webkit","o"],i=s.requestAnimationFrame,o=0;o<t.length&&!s.requestAnimationFrame;++o)i=s["".concat(t[o],"RequestAnimationFrame")];return i||(i=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),o=s.setTimeout(function(){t(i+n)},n);return e=i+n,o}),n.bind(i,s)}(),cancelAnimationFrame:function(){for(var e=["ms","moz","webkit","o"],t=s.cancelAnimationFrame,i=0;i<e.length&&!s.cancelAnimationFrame;++i)t=s["".concat(e[i],"CancelAnimationFrame")]||s["".concat(e[i],"CancelRequestAnimationFrame")];return t||(t=function(e){clearTimeout(e)}),n.bind(t,s)}()};return n.extend(d.prototype,u),e.Layout=d,d}}).call(this,i(1))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i}])},function(e,t,i){"use strict";i(1347),i(1348),i(1349),i(1350),i(1351),i(1352),i(1353),i(1354),i(1355),i(1356),i(1357),i(1358),i(1359),i(1360),i(1361),i(1362),i(1363),i(1364),i(1365),i(1366),i(1367),i(1368),i(1369),i(1370),i(1371),i(1372),i(1373),i(1374)},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";(function(t){i(1376);var n=i(0),o=i(13).$,s=i(1377),r=i(1378),a=i(496),l=i(4),c=i(25).extend({model:l}),d=i(501),u=i(531);e.exports=a.extend({name:"Tour",el:!1,template:r,opened:!1,tourId:null,globals:{"resize window":"onWindowResize","scroll window":"onWindowScroll"},events:{"click ._button-next":"onNextClick","click ._button-prev":"onPrevClick","click ._button-end":"onEndClick","mousedown ._hole, ._arrow, .tour__content":"highlightButtons"},serialize:function(){var e=this.getActiveModel().toJSON();return e.hole.borderRadius=this.prepareBorderRadius(e.hole.borderRadius),e},clientAfterRender:function(){u(this.$el,Backbone.$),this.syncPosition()},syncPosition:function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(n.isUndefined(t)){this.currentTargetCoordinates=this.getTargetCoordinates();this.syncTimer=setTimeout(function t(){e.syncPositionLegacy(),setTimeout(t,500)},500)}else{var i=document.querySelector("._bar");i&&(this.observer=new t(function(){return e.setPositions()}),this.observer.observe(i,{attributes:!0,subtree:!0}))}},syncPositionLegacy:function(){var e=this.getTargetCoordinates();if(!n.isEqual(this.currentTargetCoordinates,e)){var t={};n.each(this.getTargetCoordinates(),function(i,n){t[n]=e[n]-this.currentTargetCoordinates[n],t[n]<0?t[n]="-="+-1*t[n]:t[n]="+="+t[n]},this),this.$("._hole, ._arrow-pointer, ._arrow-body, ._tour-content").animate(t,200),this.currentTargetCoordinates=this.getTargetCoordinates()}},stopSyncPosition:function(){this.observer?this.observer.disconnect():clearTimeout(this.syncTimer)},updateUserSettings:function(){var e=o.extend(!0,{},this.app.userSettings.get("Tour"));e[this.tourId]=!0,this.app.userSettings.set("Tour",e)},start:function(e){var t=this;return this.isAllowedToStart(e)?(this.waitFor(this.getConfig(e.name).delay).then(function(){return t.startTour(e)}),!0):this.remove()},getConfig:function(e){return n.isFunction(s[e])?s[e](this.app):null},startTour:function(e){return this.isAllowedToStart(e)?(this.collection=new c(this.getConfig(e.name).steps),this.listenTo(this.collection,"change",this.onCollectionChange),this.tourId=e.name,this.changeActiveModel(0),o(".wrapper").addClass("not-selectable"),!0):this.remove()},onCollectionChange:function(){this.isTargetVisible()?(this.isOpen()||(this.opened=!0,this.updateUserSettings(),this.app.observer.fire("Tooltip:GlobalHide",{cid:"all"})),this.open()):this.close()},open:function(){var e=this;this.render().promise().then(function(){var t=document.getElementById(e.cid);t?o(t).replaceWith(e.el):o(".wrapper").prepend(e.el),o("input").blur(),e.setPositions()})},close:function(){var e=this;this.tourId=null,this.opened=!1,this.stopListening(),this.stopSyncPosition(),clearTimeout(this.showTimeout),this.$el&&this.$el.fadeOut(300,function(){return e.remove()}),o(".wrapper").removeClass("not-selectable"),this.app.observer.fire("Tour:End")},waitFor:function(e){this.def=o.Deferred();var t=n.isUndefined(e)?0:e;return clearTimeout(this.showTimeout),this.showTimeout=n.delay(this.def.resolve,t),this.def},getActiveModel:function(){return this.collection.findWhere({active:!0})},changeActiveModel:function(e){var t=this.getActiveModel();t&&t.set({active:!1},{silent:!0}),e>-1&&e<this.collection.length&&this.collection.at(e).set({active:!0})},isAllowedToStart:function(e){var t=this.getConfig(e.name);if(!t)throw new Error("Tour config not found. Tour name: "+e.name);return!!n.contains(t.routes,this.app.router.routeName)&&(!o("._modal").length&&((!this.app.userSettings.get("Tour")||!this.app.userSettings.get("Tour")[e.name])&&(!!this.app.features.isFeatureOnValue("Tour",e.name)&&(!this.isOpen()&&(this.app.observer.fire("Tour:Allowed",{name:e.name}),!0)))))},isOpen:function(){return this.opened},getTarget:function(){var e=this.getActiveModel();return e?o(e.get("selector")):null},isTargetVisible:function(){var e=this.getTarget();if(!e||!e[0]||!e.is(":visible"))return!1;var t=e[0].getBoundingClientRect();return t.top>5&&t.left>5},getTargetCoordinates:function(){var e=this.getTarget();return{top:e.offset().top+e.outerHeight()/2,left:e.offset().left+e.outerWidth()/2}},onWindowResize:n.throttle(function(){this.setPositions()},10),onWindowScroll:n.throttle(function(){t.browser&&d.mobileMode()&&this.isOpen()&&this.close()},10),setPositions:function(){this.isOpen()&&(this.isTargetVisible()?(this.setHolePosition(),this.setContentVPosition(),this.setContentHPosition(),this.drawArrow()):this.close())},prepareBorderRadius:function(e){return 9999===e?"50%":e+"px"},setHolePosition:function(){var e=this.getTargetCoordinates(),t=this.getActiveModel().get("hole");this.$("._hole").css({top:e.top+"px",left:e.left+"px",width:t.width+"px",height:t.height+"px"})},setContentHPosition:function(){var e=this.getContentPosition(),t={left:e.left+"px"};e.right>o(document).width()&&(t={left:"auto",right:"10px"}),e.left<0&&(t={left:"10px",right:"auto"}),this.$("._tour-content").css(t)},setContentVPosition:function(){this.$("._tour-content").css({top:this.getContentPosition().top})},getContentPosition:function(){var e=this.getTargetCoordinates(),t=n.clone(this.getActiveModel().get("content"));return"left"===t.horizontalAlignment?t.horizontalOffset*=-1:"center"===t.horizontalAlignment&&(t.horizontalOffset*=0),"top"===t.verticalAlignment&&(t.verticalOffset*=-1,t.verticalOffset-=this.$("._tour-content").outerHeight()),{top:e.top+t.verticalOffset,left:e.left+t.horizontalOffset-this.$("._tour-content").outerWidth()/2,right:e.left+t.horizontalOffset+this.$("._tour-content").outerWidth()/2}},drawArrow:function(){var e=this.getTargetCoordinates(),t=n.clone(this.getActiveModel().get("arrow")),i=this.getActiveModel().get("content");"left"===i.horizontalAlignment?t.tailHOffset*=-1:"center"===i.horizontalAlignment&&(t.tailHOffset*=0),"top"===i.verticalAlignment&&(t.tailVOffset*=-1,t.tailVOffset-=this.$("._tour-content").outerHeight());var o=this.$("._tour-content").offset().top-t.tailVOffset,s=this.$("._tour-content").offset().left+this.$("._tour-content").outerWidth()/2-t.tailHOffset,r=Math.atan2(s-e.left,o-e.top)*t.tempContentAngleCalibration,a=Math.cos(r)*t.pointerOffset,l=Math.sin(r)*t.pointerOffset,c={top:e.top+a,left:e.left+l},d=s-c.left,u=o-c.top;t.concave&&(t.roundness*=-1);var h={top:u/2-u/2*(t.roundness/t.tempRoundessCalibration),left:d/2+d/2*(t.roundness/t.tempRoundessCalibration)};this.$("._arrow-body").css({top:c.top+"px",left:c.left+"px",width:d+"px",height:u+"px"}),this.$("._arrow-body path").attr("d","M0,0 Q"+h.left+","+h.top+" "+d+","+u),this.setArrowPointer(c,h,i)},setArrowPointer:function(e,t,i){var o=n.clone(this.getActiveModel().get("arrow"));"center"===i.horizontalAlignment&&(o.tailHOffset*=0);var s=180*Math.atan2(t.top,t.left)/Math.PI;this.$("._arrow-pointer").css({top:e.top,left:e.left,transform:"rotate("+(-45+s)+"deg)"})},highlightButtons:function(){var e=o("._buttons-box").removeClass("highlight");clearTimeout(this.highlightTimeout),this.highlightTimeout=setTimeout(function(){return e.addClass("highlight")},10)},onNextClick:function(){this.changeActiveModel(this.collection.indexOf(this.getActiveModel())+1)},onPrevClick:function(){this.changeActiveModel(this.collection.indexOf(this.getActiveModel())-1)},onEndClick:function(){var e=this;n.delay(function(){return e.close()},300)}})}).call(this,i(17))},function(e,t,i){},function(e,t,i){"use strict";e.exports={searchByImage:function(e){return{routes:["Search"],delay:2e3,steps:[{selector:"._search-images-icon",className:"tour _tour",hole:{height:80,width:80,borderRadius:9999},arrow:{pointerOffset:115,tailVOffset:30,tailHOffset:0,roundness:.85,concave:!1,tempRoundessCalibration:1.5,tempContentAngleCalibration:1.2},content:{title:e.translator.tr("Try Our New Search by Image!",[],e.lang||"en"),body:e.translator.tr("Now we can understand you without words!",[],e.lang||"en"),verticalOffset:214,horizontalOffset:245,endBtn:e.translator.tr("Get Started",[],e.lang||"en"),prevBtn:null,nextBtn:null,verticalAlignment:"bottom",horizontalAlignment:"right"}}]}},wideLayout:function(e){return{routes:["Search"],delay:2e3,steps:[{selector:".search-box__layout .button-layout-wide",className:"tour _tour tour_layout-wide",hole:{height:50,width:50,borderRadius:9999},arrow:{pointerOffset:115,tailVOffset:30,tailHOffset:0,roundness:.85,concave:!1,tempRoundessCalibration:1.5,tempContentAngleCalibration:1.2},content:{title:e.translator.tr("Try the large thumbnail view!",[],e.lang||"en"),body:e.translator.tr("Finding images is now easier and much faster.",[],e.lang||"en"),verticalOffset:314,horizontalOffset:445,endBtn:e.translator.tr("Get Started",[],e.lang||"en"),prevBtn:null,nextBtn:null,verticalAlignment:"bottom",horizontalAlignment:"left"}}]}}}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="'+t(e.className)+'"><div class="tour__pointer-box _hole" style="width: '+t(e.hole.width)+"; height: "+t(e.hole.height)+'"> <i class="tour__pointer" style="border-radius: '+t(e.hole.borderRadius)+'"> <i class="tour__wave-animation-box"> <i class="tour__wave-animation"></i> </i> </i> </div><div class="tour__arrow _arrow"><svg xmlns="http://www.w3.org/2000/svg" class="tour__arrow-pointer _arrow-pointer"><polyline points="0,16 0,0 16,0" viewBox="0 0 16 16" /></svg><svg xmlns="http://www.w3.org/2000/svg" class="_arrow-body"><path /></svg> </div><div class="tour__content-box _tour-content"><div class="tour__content"><h2 class="tour__content-title">'+this.tr(e.content.title)+'</h2><p  class="tour__content-para">'+this.tr(e.content.body)+'</p></div><div class="tour__buttons-box _buttons-box"> ';return e.content.prevBtn&&(i+=' <a class="button button-xxxl button-green button_tour _button-prev">'+this.tr(e.content.prevBtn)+"</a> "),i+=" ",e.content.nextBtn&&(i+=' <a class="button button-xxxl button-green button_tour _button-next">'+this.tr(e.content.nextBtn)+"</a> "),i+=" ",e.content.endBtn&&(i+=' <a class="button button-xxxl button-green button_tour _button-end">'+this.tr(e.content.endBtn)+"</a> "),i+=" </div></div></div>"}},function(e,t,i){"use strict";var n=i(1380),o=i(496),s=i(67);e.exports=o.extend({name:"BrowserValidation",el:!1,template:n,events:{"click ._close":"closeMessage","click ._donot-show":"handleDoNotShow"},cookieName:"",clientAfterRender:function(){this.$el.animate({height:30},1e3)},serialize:function(){return{message:this.tr("You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today."),url:"http://windows.microsoft.com/en-US/internet-explorer/products/ie/home"}},closeMessage:function(){var e=this;this.$el.animate({height:0},1e3,function(){return e.$el.remove()})},handleDoNotShow:function(){s.set(this.cookieName,!0,{expires:"1Y"}),this.closeMessage()}})},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}();return'<div class="browser-validation"><div class="browser-validation__old-browser _old-browser-block"><a class="browser-validation__link" href="'+e.url+'" target="blank">'+t(e.message)+'</a><a class="browser-validation__link browser-validation__menu _close">'+this.tr("Close")+'</a><a class="browser-validation__link browser-validation__menu _donot-show">'+this.tr("Do not show again")+'</a></div><noscript><span class="browser-validation__nojs _noscript">'+this.tr("Current page requires JavaScript, this web browser either does not support JavaScript, or scripts are being blocked.<br>Please turn on JavaScript or use different browser.")+"</span></noscript></div>"}},function(e,t,i){"use strict";i(1382);var n=i(1383),o=i(496),s=i(67);e.exports=o.extend({name:"CookieBar",template:n,el:!1,cookieId:"",events:{"click ._button":"onButtonClick","click ._close":"onCloseClick"},onButtonClick:function(){s.set(this.cookieId,!0,{expires:"1Y"}),this.$el.hide()},onCloseClick:function(){this.$el.hide()}})},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){return"<section class='cookie-bar'><div class='cookie-bar__content'>"+this.tr('<strong>This site uses cookies. By proceeding, you are agreeing to our <a class="_link link-blue" target="_blank" href="/privacy-policy.html">Privacy Policy</a>, including the use of cookies and other tracking technologies.</strong>')+"</div><a class='cookie-bar__button button button-red button-l _button'>"+this.tr("<strong>Accept</strong>")+"</a><i class='cookie-bar__close icon icon-close-cross icon-close-cross-white icon-close-cross-small _close'></i></section>"}},function(e,t,i){"use strict";i(1385);var n=i(65),o=i(539),s=i(1277);e.exports=o.extend({name:"SuccessPurchase",title:n.PaymentCompletedTitle,footerClasses:"modal__footer_centered",initialize:function(){var e=this;this.body=function(){return new s({app:e.app,invoice:e.invoice})},this.footer=[{label:n.ThankYouBtn,hide:!0,color:"blue",defaultAction:!0}]}})},function(e,t,i){},function(e,t,i){var n,o,s;o=[i(104),i(674)],void 0===(s="function"==typeof(n=function(e){return e.ui.plugin={add:function(t,i,n){var o,s=e.ui[t].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}}})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){var n,o,s;o=[i(104),i(674)],void 0===(s="function"==typeof(n=function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){var n,o,s;o=[i(104),i(674)],void 0===(s="function"==typeof(n=function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){var n,o,s;o=[i(104),i(1271),i(996),i(674),i(914)],void 0===(s="function"==typeof(n=function(e){e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(i,n){var o=n||e.ui.ddmanager.current,s=!1;return!(!o||(o.currentItem||o.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===o.options.scope&&n.accept.call(n.element[0],o.currentItem||o.element)&&t(o,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,i))return s=!0,!1}),!s&&!!this.accept.call(this.element[0],o.currentItem||o.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",i,this.ui(o)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var t=e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,n,o){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=s+t.helperProportions.width,l=r+t.helperProportions.height,c=i.offset.left,d=i.offset.top,u=c+i.proportions().width,h=d+i.proportions().height;switch(n){case"fit":return c<=s&&a<=u&&d<=r&&l<=h;case"intersect":return c<s+t.helperProportions.width/2&&a-t.helperProportions.width/2<u&&d<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(o.pageY,d,i.proportions().height)&&e(o.pageX,c,i.proportions().width);case"touch":return(r>=d&&r<=h||l>=d&&l<=h||r<d&&l>h)&&(s>=c&&s<=u||a>=c&&a<=u||s<c&&a>u);default:return!1}}}();return e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,o,s=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===s[n].element[0]){s[n].proportions().height=0;continue e}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===r&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(i,n){var o=!1;return e.each((e.ui.ddmanager.droppables[i.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t(i,this,this.options.tolerance,n)&&(o=this._drop.call(this,n)||o),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),o},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(i,n){i.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(i,n),e.each(e.ui.ddmanager.droppables[i.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var o,s,r,a=t(i,this,this.options.tolerance,n),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(s=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===s})).length&&((o=e(r[0]).droppable("instance")).greedyChild="isover"===l)),o&&"isover"===l&&(o.isover=!1,o.isout=!0,o._out.call(o,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),o&&"isout"===l&&(o.isout=!1,o.isover=!0,o._over.call(o,n)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){var n,o,s;o=[i(104),i(996),i(1273),i(1272),i(1274),i(674),i(914)],void 0===(s="function"==typeof(n=function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,o=!1,s=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")===s)return n=e(this),!1}),e.data(t.target,s.widgetName+"-item")===s&&(n=e(t.target)),!n||this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(o=!0)}),!o)||(this.currentItem=n,this._removeCurrentsFromItems(),0)))},_mouseStart:function(t,i,n){var o,s,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(s)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,o,s,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],(s=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===o||e.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],o))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,o=this.placeholder.offset(),s=this.options.axis,r={};s&&"x"!==s||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=e.left,r=s+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||n+c>a&&n+c<l,h="y"===this.options.axis||t+d>s&&t+d<r,p=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=n&&o;return!!s&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,o,s,r=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(o=e(l[i],this.document[0]),n=o.length-1;n>=0;n--)(s=e.data(o[n],this.widgetFullName))&&s!==this&&!s.options.disabled&&a.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);function c(){r.push(this)}for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(c);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,o,s,r,a,l,c,d=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(o=e(h[i],this.document[0]),n=o.length-1;n>=0;n--)(s=e.data(o[n],this.widgetFullName))&&s!==this&&!s.options.disabled&&(u.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(i=u.length-1;i>=0;i--)for(r=u[i][1],a=u[i][0],n=0,c=a.length;n<c;n++)(l=e(a[n])).data(this.widgetName+"-item",r),d.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,n,o,s;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=o.outerWidth(),n.height=o.outerHeight()),s=o.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+n+">",t.document[0]);return t._addClass(o,"ui-sortable-placeholder",i||t.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===n?t._createTrPlaceholder(t.currentItem,o):"img"===n&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,o){i&&!n.forcePlaceholderSize||(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,o,s,r,a,l,c,d,u,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,s=null,d=h.floating||this._isFloating(this.currentItem),r=d?"left":"top",a=d?"width":"height",u=d?"pageX":"pageY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[r],c=!1,t[u]-l>this.items[n][a]/2&&(c=!0),Math.abs(t[u]-l)<o&&(o=Math.abs(t[u]-l),s=this.items[n],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o=this.options,s=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function o(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(o("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(o("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){var n,o;function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(s,a){"object"===r(t)&&void 0!==e?e.exports=a():void 0===(o="function"==typeof(n=a)?n.call(t,i,t,e):n)||(e.exports=o)}(0,function(){"use strict";var e="undefined"!=typeof window,t=e&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),i=e&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&"isIntersecting"in window.IntersectionObserverEntry.prototype,n=e&&"classList"in document.createElement("p"),o={elements_selector:"img",container:t||e?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},r=function(e,t){var i,n=new e(t);try{i=new CustomEvent("LazyLoad::Initialized",{detail:{instance:n}})}catch(e){(i=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:n})}window.dispatchEvent(i)},a=function(e,t){return e.getAttribute("data-"+t)},l=function(e,t,i){var n="data-"+t;null!==i?e.setAttribute(n,i):e.removeAttribute(n)},c=function(e){return"true"===a(e,"was-processed")},d=function(e,t){return l(e,"ll-timeout",t)},u=function(e){return a(e,"ll-timeout")},h=function(e,t){e&&e(t)},p=function(e,t){e._loadingCount+=t,0===e._elements.length&&0===e._loadingCount&&h(e._settings.callback_finish)},f=function(e){for(var t,i=[],n=0;t=e.children[n];n+=1)"SOURCE"===t.tagName&&i.push(t);return i},m=function(e,t,i){i&&e.setAttribute(t,i)},g=function(e,t){m(e,"sizes",a(e,t.data_sizes)),m(e,"srcset",a(e,t.data_srcset)),m(e,"src",a(e,t.data_src))},b={IMG:function(e,t){var i=e.parentNode;i&&"PICTURE"===i.tagName&&f(i).forEach(function(e){g(e,t)}),g(e,t)},IFRAME:function(e,t){m(e,"src",a(e,t.data_src))},VIDEO:function(e,t){f(e).forEach(function(e){m(e,"src",a(e,t.data_src))}),m(e,"src",a(e,t.data_src)),e.load()}},v=function(e,t){n?e.classList.add(t):e.className+=(e.className?" ":"")+t},_=function(e,t,i){e.addEventListener(t,i)},w=function(e,t,i){e.removeEventListener(t,i)},y=function(e,t,i){w(e,"load",t),w(e,"loadeddata",t),w(e,"error",i)},x=function(e,t,i){var o=i._settings,s=t?o.class_loaded:o.class_error,r=t?o.callback_loaded:o.callback_error,a=e.target;!function(e,t){n?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(a,o.class_loading),v(a,s),h(r,a),p(i,-1)},C=["IMG","IFRAME","VIDEO"],k=function(e,t){var i=t._observer;T(e,t),i&&t._settings.auto_unobserve&&i.unobserve(e)},S=function(e){var t=u(e);t&&(clearTimeout(t),d(e,null))},T=function(e,t,i){var n=t._settings;!i&&c(e)||(C.indexOf(e.tagName)>-1&&(function(e,t){var i=function i(o){x(o,!0,t),y(e,i,n)},n=function n(o){x(o,!1,t),y(e,i,n)};!function(e,t,i){_(e,"load",t),_(e,"loadeddata",t),_(e,"error",i)}(e,i,n)}(e,t),v(e,n.class_loading)),function(e,t){var i,n,o=t._settings,s=e.tagName,r=b[s];if(r)return r(e,o),p(t,1),void(t._elements=(i=t._elements,n=e,i.filter(function(e){return e!==n})));!function(e,t){var i=a(e,t.data_src),n=a(e,t.data_bg);i&&(e.style.backgroundImage='url("'.concat(i,'")')),n&&(e.style.backgroundImage=n)}(e,o)}(e,t),function(e){l(e,"was-processed","true")}(e),h(n.callback_reveal,e),h(n.callback_set,e))},P=function(e){return!!i&&(e._observer=new IntersectionObserver(function(t){t.forEach(function(t){return function(e){return e.isIntersecting||e.intersectionRatio>0}(t)?function(e,t){var i=t._settings;h(i.callback_enter,e),i.load_delay?function(e,t){var i=t._settings.load_delay,n=u(e);n||(n=setTimeout(function(){k(e,t),S(e)},i),d(e,n))}(e,t):k(e,t)}(t.target,e):function(e,t){var i=t._settings;h(i.callback_exit,e),i.load_delay&&S(e)}(t.target,e)})},{root:(t=e._settings).container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}),!0);var t},M=["IMG","IFRAME"],O=function(e,t){return function(e){return e.filter(function(e){return!c(e)})}((i=e||function(e){return e.container.querySelectorAll(e.elements_selector)}(t),Array.prototype.slice.call(i)));var i},E=function(e,t){this._settings=function(e){return s({},o,e)}(e),this._loadingCount=0,P(this),this.update(t)};return E.prototype={update:function(e){var i,n=this,o=this._settings;this._elements=O(e,o),!t&&this._observer?(o.use_native&&"loading"in HTMLImageElement.prototype&&((i=this)._elements.forEach(function(e){-1!==M.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),T(e,i))}),this._elements=O(e,o)),this._elements.forEach(function(e){n._observer.observe(e)})):this.loadAll()},destroy:function(){var e=this;this._observer&&(this._elements.forEach(function(t){e._observer.unobserve(t)}),this._observer=null),this._elements=null,this._settings=null},load:function(e,t){T(e,this,t)},loadAll:function(){var e=this;this._elements.forEach(function(t){k(t,e)})}},e&&function(e,t){if(t)if(t.length)for(var i,n=0;i=t[n];n+=1)r(e,i);else r(e,t)}(E,window.lazyLoadOptions),E})},function(e,t,i){"use strict";var n=i(1393),o=i(496);e.exports=o.extend({name:"Message",el:!1,template:n,message:"",serialize:function(){return{message:this.message}}})},function(e,t,i){"use strict";e.exports=function(e){return'<p class="modal__text">'+e.message+"</p>"}},function(e,t,i){"use strict";e.exports=function(e){var t='<div class="payment-completed-box"><div class="payment-completed"><div class="payment-completed_shadow"></div><div class="payment-completed__table"><h3 class="payment-completed__title">'+this.tr("Your Payment Details")+':</h3><div class="payment-completed__label"><span class="payment-completed__name">'+this.tr("Product Type")+':</span><span class="payment-completed__value">'+e.productName+"</span></div>";return e.promocode&&(t+='<div class="payment-completed__label"><span class="payment-completed__name">'+this.tr("Redeem code")+':</span><span class="payment-completed__value">'+e.promocode+"</span></div>"),t+='<div class="payment-completed__label"><span class="payment-completed__name">'+this.tr("Order Number")+':</span><span class="payment-completed__value">'+e.orderNumber+"</span></div>",e.showPdfLink&&(t+='<div class="payment-completed__label payment-completed__label_box"><a href="'+e.pdfLink+'" class="payment-completed__pdf link-blue _pdf"><i class="payment-completed__icon-pdf icon icon-pdf-red"></i>'+this.tr("Download PDF")+"</a></div>"),t+='<div class="payment-completed__label"><span class="payment-completed__name">'+this.tr("Price")+':</span><span class="payment-completed__value">'+e.marketPrice+"</span></div></div></div></div>"}},function(e,t,i){"use strict";var n=i(0),o=i(532),s=i(1396);e.exports=o.extend({draggable:!1,noBorder:!0,showHeader:!1,fullScreen:!1,destroyOnHide:!0,message:"",description:"",type:null,options:{},modalClasses:"modal_notification",bodyClasses:"modal__body_notification",notificationTypes:["success","error"],footer:[],initialize:function(){this.type=n.contains(this.notificationTypes,this.options.type)?this.options.type:n.first(this.notificationTypes),this.options.callback&&(this.onAfterHideCallback=this.options.callback),this.messageMap=this.getMessageMap(),this.body=[new s({message:this.messageMap[this.options.type],description:this.options.description})];for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.initialize.apply(this,t)},clientAfterRender:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];this.$("._notification-icon").addClass("notification-advanced__icon_"+this.type),setTimeout(function(){return o.prototype.hide.apply(e,i)},this.options.delay||1400),o.prototype.clientAfterRender.apply(this,i)},getMessageMap:function(){return this.messageMap||{success:this.tr("Completed"),error:this.tr("Error")}}})},function(e,t,i){"use strict";i(1397);var n=i(1398),o=i(496);e.exports=o.extend({name:"NotificationDetails",el:!1,template:n,message:"",description:"",type:null,serialize:function(){return{message:this.message,description:this.description}}})},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="notification-advanced"><i class="notification-advanced__icon _notification-icon"></i><span class="notification-advanced__message';return e.description||(i+="_empty"),i+='">'+t(e.message)+"!</span>",e.description&&(i+='<span class="notification-advanced__description">'+this.tr(e.description)+"</span>"),i+="</div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="signup-user signup-user_modal"><div class="signup-user__left"><div class="signup-user__advantages"><h4 class="signup-user__sub-title">'+this.tr("The benefits of having an Account on Depositphotos")+'</h4><div class="_advantages"></div></div></div><div class="signup-user__right">';return"social-email"!==e.mode&&(i+='<span class="signup-user__title">'+t(e.title)+'</span><h4 class="signup-user__sub-title signup-user__sub-title_normal">'+e.subTitle+"</h4>"),e.isBusinessAllowed&&(i+='<div class="signup-user__tabs _tabs"></div>'),"email"===e.mode?i+='<i class="signup-user__back icon icon-previous-step icon-round-hover _back"></i><div class="signup-user__form-box"><div class="signup-user__fields _form"></div><div class="signup-user__action"><button class="signup-user__submit-btn button button-4xl button-blue button-pill button-bold _submit" type="submit" form="SignupUser">'+this.tr("Register Account")+"</button></div></div>":"business"===e.mode?i+='<div class="signup-user__form-box signup-user__form-box_business"><div class="signup-user__fields _form"></div><div class="signup-user__action"><button class="signup-user__submit-btn button button-4xl button-blue button-pill button-bold _submit" type="submit" form="SignupBusiness">'+this.tr("Register Account")+"</button></div></div>":"social-email"===e.mode?i+='<div class="signup-user__social-fields _form"></div>':"social-condition"!==e.mode?i+='<div class="signup-user__social-box _social"></div><div class="signup-user__with-email signup-user__alt-action _sign-up-email">'+this.tr("Sign Up with <b>E-mail</b>")+"</div>":i+='<div class="signup-user__btn-box"><button class="signup-user__btn button button-4xl button-blue button-pill button-bold _social-condition">'+this.tr("Register Account")+"</button></div>","social-email"!==e.mode&&(i+='<a class="signup-user__login signup-user__alt-action _login" href="'+e.loginLink+'">'+this.tr("Already have an account?")+' <span class="signup-user__login-link">'+this.tr("Log In")+'</span></a><div class="signup-user__condition _condition"></div>'),i+="</div></div>"}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<form method="POST" action="'+e.links.signUp+'" name="SignupUser"><label class="signup-user__field field-box field-box_light field-box_rounded field-box_large input-box input-box-4xl _email-field"><input class="input input-4xl empty _field" type="text" name="email" autocomplete="email" /><span class="field-box__title">'+this.tr("E-mail")+' *</span></label><label class="signup-user__field signup-user__field_pwd field-box field-box_light field-box_rounded field-box_large input-box input-box-4xl"><input class="signup-user__input signup-user__input_pwd input input-4xl empty _password _field" type="password" name="password" autocomplete="new-password" /><span class="field-box__title">'+this.tr("Password")+' *</span></label><div class="signup-user__captcha g-recaptcha _captcha';return e.captcha.show&&(i+=" signup-user__captcha_visible"),i+='" data-sitekey="'+t(e.captcha.siteKey)+'"></div></form>'}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="signup-user signup-user_page"><h1 class="signup-user__headline">'+this.tr("Sign Up for Free Membership")+'</h1><div class="signup-user__left"><div class="signup-user__advantages"><h4 class="signup-user__sub-title">'+this.tr("The benefits of having an Account on Depositphotos")+'</h4><div class="_advantages"></div></div></div><div class="signup-user__right"';return e.pictures.rightBackground&&(i+=' style="background-image: url('+t(e.pictures.rightBackground)+')"'),i+=">","social-email"!==e.mode&&(i+='<h4 class="signup-user__sub-title">',e.subTitle?i+=""+e.subTitle:i+=""+this.tr('<span class="%s">Create your Account</span> to unlock all the features of Depositphotos',"sub-text"),i+="</h4>"),e.isBusinessAllowed&&(i+='<div class="signup-user__tabs _tabs"></div>'),"email"===e.mode?i+='<div class="signup-user__form-box"><div class="signup-user__fields _form"></div><div class="signup-user__action"><button class="signup-user__submit-btn button button-4xl button-blue button-pill button-bold _submit" type="submit" form="SignupUser">'+this.tr("Register Account")+'</button></div><div class="signup-user__social"><div class="auth-social"><span class="auth-social__text">'+e.authSocialTitle+'</span><div class="auth-social__btn auth-social__btn_google _social-google" title="'+this.tr("Google")+'"></div><div class="auth-social__btn auth-social__btn_facebook _social-facebook" title="'+this.tr("Facebook")+'"></div></div></div></div>':"business"===e.mode?i+='<div class="signup-user__form-box signup-user__form-box_business"><div class="signup-user__fields _form"></div><div class="signup-user__action"><button class="signup-user__submit-btn button button-4xl button-blue button-pill button-bold _submit" type="submit" form="SignupBusiness">'+this.tr("Register Account")+"</button></div></div>":"social-email"===e.mode?i+='<div class="signup-user__social-fields _form"></div>':"social-condition"!==e.mode?i+='<div class="signup-user__social-box _social"></div><div class="signup-user__with-email signup-user__alt-action _sign-up-email">'+this.tr("Sign Up with <b>E-mail</b>")+"</div>":i+='<div class="signup-user__btn-box"><button class="signup-user__btn button button-4xl button-blue button-pill button-bold _social-condition">'+this.tr("Register Account")+"</button></div>","social-email"!==e.mode&&(i+='<div class="signup-user__condition _condition"></div>'),e.isArrowShown&&(i+='<i class="signup-user__rounded-arrow',e.advantagesAnimation&&(i+=" signup-user__rounded-arrow_animate"),"business"===e.mode&&(i+=" signup-user__rounded-arrow_left"),i+='"></i>'),i+="</div></div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<ul class="signup-tabs">',n=e.scheme;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<li class="signup-tabs__item',(o=n[s+=1]).active&&(i+=" signup-tabs__item_active _tab-active"),i+=' _tab" data-key="'+t(o.key)+'"><span class="signup-tabs__text">'+o.title+"</span></li>";return i+='<li class="signup-tabs__menu-underline hidden _menu-underline"></li></ul>'}},function(e,t,i){"use strict";var n=i(0),o=i(4);e.exports=o.extend({url:"checkUnique",defaults:{name:null,value:null},parse:function(e){return e.errors&&e.errors.length&&(this.validationError=e.errors,this.trigger("invalid",this,e.errors,{validationError:e.errors})),n.pick(e,Object.keys(this.defaults))}})},function(e,t,i){"use strict";i(1406);var n=i(0),o=i(534),s=i(1407),r=i(496),a=i(1408),l=i(558),c=r.extend({name:"SocialEmailForm",el:!1,template:s,events:{"click ._proceed-button":"onSubmit","focusin input":"onInputEvent","keypress input":"onInputEvent","focusout input":"onInputEvent","change ._field":"onUpdateField","keyup ._field":"onUpdateField","input ._field":"onUpdateField","paste ._field":"onUpdateField"},initialize:function(){this.model=new a({},{app:this.app}),this.listenTo(this.model,"invalid",this.showError)},onInputEvent:function(e){switch(e.type){case"keypress":(e.which||e.keyCode)===o.enter&&this.onSubmit(e);break;case"focusout":this.model.secureSet("email",e.currentTarget.value);break;case"focusin":this.fieldReset(this.$(e.currentTarget).parent())}},showError:function(e,t){var i=this;this.fieldReset(this.$("input").parent()),n.each(t,function(e,t){var o=n.isArray(e)?n.first(e):e;i.fieldIncorrect(i.$("input[name="+t+"]").parent(),{errorMessage:o})})},onSubmit:function(e){e.preventDefault(),this.model.secureSet("email",this.$("input").val()),this.model.validationError||this.onSuccessCallback(this.model.get("email"))},onSuccessCallback:function(){}});n.extend(c.prototype,l),e.exports=c},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){return'<div class="modal-social-email"><i class="modal-social-email__icon icon icon-enterprise-done"></i><span class="modal-social-email__text">'+this.tr("Please enter your primary e-mail address to complete the registration")+'</span><label class="modal-social-email__field field-box field-box_light field-box_rounded field-box_large input-box input-box-4xl"><input class="input input-4xl empty _email _field" type="text" name="email" value="" /><span class="field-box__title">'+this.tr("E-mail")+' *</span></label><button class="modal-social-email__button button button-4xl button-blue button-pill button-bold _proceed-button">'+this.tr("Complete Registration")+"</button></div>"}},function(e,t,i){"use strict";var n=i(105);e.exports=i(4).extend({url:"socialEmail",defaults:n.SocialEmail.defaults,validation:n.SocialEmail.validation})},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(1410);var s=i(1411),r=i(627),a=i(575);e.exports=r.extend({name:"SignupBusinessForm",el:!1,template:s,events:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},r.prototype.events,{"blur ._field":"handleFieldBlur","blur .phonenumber-an":"handleFieldBlur"}),prepareRender:function(){this.setView("._phone",new a({app:this.app,phone:this.app.user.get("phone")}))},clientAfterRender:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.prototype.clientAfterRender.apply(this,t),this.$("._field:first").focus()},handleFieldBlur:function(e){0!==e.currentTarget.value.length&&this.app.observer.broadcast("Track:UE:SignUp:Business",{action:"Field",label:e.currentTarget.name||e.currentTarget.dataset.name})},trackAuthResponse:function(e){var t=e.userId;this.app.observer.broadcast("Track:UE:SignUp:Success",{userId:t,action:"Form",label:"Business"})}})},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<form class="signup-business" method="POST" action="'+e.links.signUp+'" name="SignupBusiness"><label class="signup-business__field field-box field-box_rounded input-box input-box-xxxl"><input class="input input-xxxl _field" type="text" name="firstName" placeholder="'+this.tr("Full Name")+'" /></label><label class="signup-business__field signup-business__field_half field-box field-box_rounded input-box input-box-xxxl"><input class="input input-xxxl _field" type="text" name="email" autocomplete="email" placeholder="'+this.tr("Company E-mail")+'" /></label><label class="signup-business__field signup-business__field_half signup-user__field_pwd field-box field-box_rounded input-box input-box-xxxl"><input class="input input-xxxl _password _field" type="password" name="password" autocomplete="new-password" placeholder="'+this.tr("Password")+'" /></label><label class="signup-business__field signup-business__field_half field-box field-box_rounded input-box input-box-xxxl"><input class="input input-xxxl _field" type="text" name="businessName" placeholder="'+this.tr("Company Name")+'" /></label><div class="signup-business__field signup-business__field_half field-box field-box_rounded input-box input-box-xxxl"><div class="_phone"><input class="input input-xxxl _field" type="text" name="phone" placeholder="'+this.tr("Phone Number")+'" /></div></div><div class="signup-business__captcha g-recaptcha _captcha';return e.captcha.show&&(i+=" signup-business__captcha_visible"),i+='" data-sitekey="'+t(e.captcha.siteKey)+'"></div></form>'}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="phonenumber"><div class="phonenumber-container"><div class="phonenumber-cell phonenumber-cell-left"><select class="phonenumber-cc" tabindex="-1" style="visibility: hidden;"><option></option>',n=e.countries;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<option value="'+t((o=n[s+=1]).code)+'"data-cc="'+t(o.phoneCode)+'"data-flag="'+t(o.flag)+'" ',o.selected&&(i+=' selected="selected"'),i+=">"+t(o.title)+"</option>";return i+='</select><input class="phonenumber-cc-value" type="hidden"></div><div class="phonenumber-cell phonenumber-cell-right"><input class="phonenumber-an" type="text" data-name="phone" maxlength="15" placeholder="'+this.tr("Phone"),e.required&&(i+=" *"),i+='" value="'+t(e.phone)+'"></div></div><input type="hidden" name="'+t(e.phoneFieldName)+'"></div>'}},function(e,t,i){"use strict";e.exports.format=[{code:"UA",mask:"+xx-xxx-xxx-xx-xx"},{code:"RU",mask:"+x-xxx-xxx-xx-xx"},{code:"US",mask:"+x-xxx-xxx-xxxx"},{code:"DE",mask:"+xx-xxx-xxx-xx-xx"},{code:"FR",mask:"+xx-x-xx-xx-xx-xx"},{code:"ES",mask:"+xx-xxx-xxx-xxx"},{code:"IT",mask:"+xx-xx-xxxx-xxxx"},{code:"PT",mask:"+xxx-xx-xxx-xxxx"},{code:"BR",mask:"+xx-xx-xxxx-xxxx"},{code:"PL",mask:"+xx-xx-xxx-xxxx"},{code:"TR",mask:"+xx-xxx-xxx-xxxx"},{code:"CN",mask:"+xxx-xxxx-xxxx"},{code:"HK",mask:"+x-xxx-xxx-xxxx"},{code:"GB",mask:"+xx-xx-xxxx-xxxx"},{code:"MX",mask:"+xx-xx-xxxx-xxxx"},{code:"CY",mask:"+xxx-xxxx-xxxx"},{code:"IN",mask:"+xx-xx-xxx-xxx-xx-xx"},{code:"AT",mask:"+xx xx xxx xxxx"},{code:"CZ",mask:"+xxx-xxx-xxx-xxx"},{code:"CO",mask:"+xx-x-xxx-xxxx"},{code:"CA",mask:"+x-xxx-xxx-xx-xx"},{code:"KZ",mask:"+x-xxx-xxx-xxxx"}]},function(e,t,i){var n,o,s;o=[i(104)],void 0===(s="function"==typeof(n=function(e){var t,i,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var r=n.length;r;)e.event.fixHooks[n[--r]]=e.event.mouseHooks;var a=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",a.getLineHeight(this)),e.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(n){var o=n||window.event,r=s.call(arguments,1),l=0,u=0,h=0,p=0,f=0,m=0;if((n=e.event.fix(o)).type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(u=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(u=-1*h,h=0),l=0===h?u:h,"deltaY"in o&&(h=-1*o.deltaY,l=h),"deltaX"in o&&(u=o.deltaX,0===h&&(l=-1*u)),0!==h||0!==u){if(1===o.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,h*=g,u*=g}else if(2===o.deltaMode){var b=e.data(this,"mousewheel-page-height");l*=b,h*=b,u*=b}if(p=Math.max(Math.abs(h),Math.abs(u)),(!i||p<i)&&(i=p,d(o,p)&&(i/=40)),d(o,p)&&(l/=40,u/=40,h/=40),l=Math[l>=1?"floor":"ceil"](l/i),u=Math[u>=1?"floor":"ceil"](u/i),h=Math[h>=1?"floor":"ceil"](h/i),a.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();f=n.clientX-v.left,m=n.clientY-v.top}return n.deltaX=u,n.deltaY=h,n.deltaFactor=i,n.offsetX=f,n.offsetY=m,n.deltaMode=0,r.unshift(n,l,u,h),t&&clearTimeout(t),t=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,r)}}function c(){i=null}function d(e,t){return a.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){var n,o,s;o=[i(104)],void 0===(s="function"==typeof(n=function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;return function(){var e,i,n;t&&t.requirejs||(t?i=t:t={},function(t){var o,s,r,a,l={},c={},d={},u={},h=Object.prototype.hasOwnProperty,p=[].slice,f=/\.js$/;function m(e,t){return h.call(e,t)}function g(e,t){var i,n,o,s,r,a,l,c,u,h,p,m,g=t&&t.split("/"),b=d.map,v=b&&b["*"]||{};if(e){for(e=e.split("/"),r=e.length-1,d.nodeIdCompat&&f.test(e[r])&&(e[r]=e[r].replace(f,"")),"."===e[0].charAt(0)&&g&&(m=g.slice(0,g.length-1),e=m.concat(e)),u=0;u<e.length;u++)if("."===(p=e[u]))e.splice(u,1),u-=1;else if(".."===p){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((g||v)&&b){for(i=e.split("/"),u=i.length;u>0;u-=1){if(n=i.slice(0,u).join("/"),g)for(h=g.length;h>0;h-=1)if((o=b[g.slice(0,h).join("/")])&&(o=o[n])){s=o,a=u;break}if(s)break;!l&&v&&v[n]&&(l=v[n],c=u)}!s&&l&&(s=l,a=c),s&&(i.splice(0,a,s),e=i.join("/"))}return e}function b(e,i){return function(){var n=p.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),s.apply(t,n.concat([e,i]))}}function v(e){return function(t){l[e]=t}}function _(e){if(m(c,e)){var i=c[e];delete c[e],u[e]=!0,o.apply(t,i)}if(!m(l,e)&&!m(u,e))throw new Error("No "+e);return l[e]}function w(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function y(e){return e?w(e):[]}r=function(e,t){var i,n=w(e),o=n[0],s=t[1];return e=n[1],o&&(o=g(o,s),i=_(o)),o?e=i&&i.normalize?i.normalize(e,function(e){return function(t){return g(t,e)}}(s)):g(e,s):(e=g(e,s),n=w(e),o=n[0],e=n[1],o&&(i=_(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:i}},a={require:function(e){return b(e)},exports:function(e){var t=l[e];return void 0!==t?t:l[e]={}},module:function(e){return{id:e,uri:"",exports:l[e],config:function(e){return function(){return d&&d.config&&d.config[e]||{}}}(e)}}},o=function(e,i,n,o){var s,d,h,p,f,g,w,x=[],C=typeof n;if(g=y(o=o||e),"undefined"===C||"function"===C){for(i=!i.length&&n.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if(p=r(i[f],g),"require"===(d=p.f))x[f]=a.require(e);else if("exports"===d)x[f]=a.exports(e),w=!0;else if("module"===d)s=x[f]=a.module(e);else if(m(l,d)||m(c,d)||m(u,d))x[f]=_(d);else{if(!p.p)throw new Error(e+" missing "+d);p.p.load(p.n,b(o,!0),v(d),{}),x[f]=l[d]}h=n?n.apply(l[e],x):void 0,e&&(s&&s.exports!==t&&s.exports!==l[e]?l[e]=s.exports:h===t&&w||(l[e]=h))}else e&&(l[e]=n)},e=i=s=function(e,i,n,l,c){if("string"==typeof e)return a[e]?a[e](i):_(r(e,y(i)).f);if(!e.splice){if((d=e).deps&&s(d.deps,d.callback),!i)return;i.splice?(e=i,i=n,n=null):e=t}return i=i||function(){},"function"==typeof n&&(n=l,l=c),l?o(t,e,i,n):setTimeout(function(){o(t,e,i,n)},4),s},s.config=function(e){return s(e)},e._defined=l,(n=function(e,t,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]),m(l,e)||m(c,e)||(c[e]=[e,t,i])}).amd={jQuery:!0}}(),t.requirejs=e,t.require=i,t.define=n)}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){var t={};function i(e){var t=e.prototype,i=[];for(var n in t){var o=t[n];"function"==typeof o&&"constructor"!==n&&i.push(n)}return i}t.Extend=function(e,t){var i={}.hasOwnProperty;function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},t.Decorate=function(e,t){var n=i(t),o=i(e);function s(){var i=Array.prototype.unshift,n=t.prototype.constructor.length,o=e.prototype.constructor;n>0&&(i.call(arguments,e.prototype.constructor),o=t.prototype.constructor),o.apply(this,arguments)}t.displayName=e.displayName,s.prototype=new function(){this.constructor=s};for(var r=0;r<o.length;r++){var a=o[r];s.prototype[a]=e.prototype[a]}for(var l=function(e){var i=function(){};e in s.prototype&&(i=s.prototype[e]);var n=t.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,i),n.apply(this,arguments)}},c=0;c<n.length;c++){var d=n[c];s.prototype[d]=l(d)}return s};var n=function(){this.listeners={}};n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},n.prototype.trigger=function(e){var t=Array.prototype.slice,i=t.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].apply(this,t)},t.Observable=n,t.generateChars=function(e){for(var t="",i=0;i<e;i++){var n=Math.floor(36*Math.random());t+=n.toString(36)}return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var i=t.split("-"),n=e;if(1!==i.length){for(var o=0;o<i.length;o++){var s=i[o];(s=s.substring(0,1).toLowerCase()+s.substring(1))in n||(n[s]={}),o==i.length-1&&(n[s]=e[t]),n=n[s]}delete e[t]}}return e},t.hasScroll=function(t,i){var n=e(i),o=i.style.overflowX,s=i.style.overflowY;return(o!==s||"hidden"!==s&&"visible"!==s)&&("scroll"===o||"scroll"===s||n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth)},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},t.appendMany=function(t,i){if("1.7"===e.fn.jquery.substr(0,3)){var n=e();e.map(i,function(e){n=n.add(e)}),i=n}t.append(i)},t.__cache={};var o=0;return t.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++o),t=o.toString())),t},t.StoreData=function(e,i,n){var o=t.GetUniqueElementId(e);t.__cache[o]||(t.__cache[o]={}),t.__cache[o][i]=n},t.GetData=function(i,n){var o=t.GetUniqueElementId(i);return n?t.__cache[o]&&null!=t.__cache[o][n]?t.__cache[o][n]:e(i).data(n):t.__cache[o]},t.RemoveData=function(e){var i=t.GetUniqueElementId(e);null!=t.__cache[i]&&delete t.__cache[i],e.removeAttribute("data-select2-id")},t}),t.define("select2/results",["jquery","./utils"],function(e,t){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(t.message);n.append(i(o(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i],o=this.option(n);t.push(o)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){var i=t.find(".select2-results");i.append(e)},i.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var i=this;this.data.current(function(n){var o=e.map(n,function(e){return e.id.toString()}),s=i.$results.find(".select2-results__option[aria-selected]");s.each(function(){var i=e(this),n=t.GetData(this,"data"),s=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(s,o)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:t(e)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(i){var n=document.createElement("li");n.className="select2-results__option";var o={role:"option","aria-selected":"false"},s=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var r in(null!=i.element&&s.call(i.element,":disabled")||null==i.element&&i.disabled)&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==i.id&&delete o["aria-selected"],null!=i._resultId&&(n.id=i._resultId),i.title&&(n.title=i.title),i.children&&(o.role="group",o["aria-label"]=i.text,delete o["aria-selected"]),o){var a=o[r];n.setAttribute(r,a)}if(i.children){var l=e(n),c=document.createElement("strong");c.className="select2-results__group",e(c),this.template(i,c);for(var d=[],u=0;u<i.children.length;u++){var h=i.children[u],p=this.option(h);d.push(p)}var f=e("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});f.append(d),l.append(c),l.append(f)}else this.template(i,n);return t.StoreData(n,"data",i),n},i.prototype.bind=function(i,n){var o=this,s=i.id+"-results";this.$results.attr("id",s),i.on("results:all",function(e){o.clear(),o.append(e.data),i.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),i.on("results:append",function(e){o.append(e.data),i.isOpen()&&o.setClasses()}),i.on("query",function(e){o.hideMessages(),o.showLoading(e)}),i.on("select",function(){i.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())}),i.on("unselect",function(){i.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())}),i.on("open",function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()}),i.on("close",function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")}),i.on("results:toggle",function(){var e=o.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),i.on("results:select",function(){var e=o.getHighlightedResults();if(0!==e.length){var i=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?o.trigger("close",{}):o.trigger("select",{data:i})}}),i.on("results:previous",function(){var e=o.getHighlightedResults(),t=o.$results.find("[aria-selected]"),i=t.index(e);if(!(i<=0)){var n=i-1;0===e.length&&(n=0);var s=t.eq(n);s.trigger("mouseenter");var r=o.$results.offset().top,a=s.offset().top,l=o.$results.scrollTop()+(a-r);0===n?o.$results.scrollTop(0):a-r<0&&o.$results.scrollTop(l)}}),i.on("results:next",function(){var e=o.getHighlightedResults(),t=o.$results.find("[aria-selected]"),i=t.index(e),n=i+1;if(!(n>=t.length)){var s=t.eq(n);s.trigger("mouseenter");var r=o.$results.offset().top+o.$results.outerHeight(!1),a=s.offset().top+s.outerHeight(!1),l=o.$results.scrollTop()+a-r;0===n?o.$results.scrollTop(0):a>r&&o.$results.scrollTop(l)}}),i.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),i.on("results:message",function(e){o.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=o.$results.scrollTop(),i=o.$results.get(0).scrollHeight-t+e.deltaY,n=e.deltaY>0&&t-e.deltaY<=0,s=e.deltaY<0&&i<=o.$results.height();n?(o.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):s&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(i){var n=e(this),s=t.GetData(this,"data");"true"!==n.attr("aria-selected")?o.trigger("select",{originalEvent:i,data:s}):o.options.get("multiple")?o.trigger("unselect",{originalEvent:i,data:s}):o.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(i){var n=t.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted"),o.trigger("results:focus",{data:n,element:e(this)})})},i.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),i=t.index(e),n=this.$results.offset().top,o=e.offset().top,s=this.$results.scrollTop()+(o-n),r=o-n;s-=2*e.outerHeight(!1),i<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(s)}},i.prototype.template=function(t,i){var n=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),s=n(t,i);null==s?i.style.display="none":"string"==typeof s?i.innerHTML=o(s):e(i).append(s)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var i=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),i.attr("title",this.$element.attr("title")),i.attr("tabindex",this._tabindex),i.attr("aria-disabled","false"),this.$selection=i,i},n.prototype.bind=function(e,t){var n=this,o=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",o),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.trigger("focus"),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex),n.$selection.attr("aria-disabled","false")}),e.on("disable",function(){n.$selection.attr("tabindex","-1"),n.$selection.attr("aria-disabled","true")})},n.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||e.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},n.prototype._attachCloseHandler=function(i){e(document.body).on("mousedown.select2."+i.id,function(i){var n=e(i.target),o=n.closest(".select2"),s=e(".select2.select2-container--open");s.each(function(){if(this!=o[0]){var e=t.GetData(this,"element");e.select2("close")}})})},n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},n.prototype.position=function(e,t){var i=t.find(".selection");i.append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},n}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function o(){o.__super__.constructor.apply(this,arguments)}return i.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},o.prototype.bind=function(e,t){var i=this;o.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&i.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||i.$selection.trigger("focus")})},o.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},o.prototype.display=function(e,t){var i=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(i(e,t))},o.prototype.selectionContainer=function(){return e("<span></span>")},o.prototype.update=function(e){if(0!==e.length){var t=e[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(t,i);i.empty().append(n);var o=t.title||t.text;o?i.attr("title",o):i.removeAttr("title")}else this.clear()},o}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,i){function n(e,t){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,t),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},n.prototype.bind=function(t,o){var s=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){s.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!s.options.get("disabled")){var n=e(this),o=n.parent(),r=i.GetData(o[0],"data");s.trigger("unselect",{originalEvent:t,data:r})}})},n.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},n.prototype.display=function(e,t){var i=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(i(e,t))},n.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return t},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var o=e[n],s=this.selectionContainer(),r=this.display(o,s);s.append(r);var a=o.title||o.text;a&&s.attr("title",a),i.StoreData(s[0],"data",o),t.push(s)}var l=this.$selection.find(".select2-selection__rendered");i.appendMany(l,t)}},n}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(e,t){var i=1==t.length&&t[0].id!=this.placeholder.id,n=t.length>1;if(n||i)return e.call(this,t);this.clear();var o=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(o)},t}),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(e,t,i){function n(){}return n.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();var o=i.GetData(n[0],"data"),s=this.$element.val();this.$element.val(this.placeholder.id);var r={data:o};if(this.trigger("clear",r),r.prevented)this.$element.val(s);else{for(var a=0;a<o.length;a++)if(r={data:o[a]},this.trigger("unselect",r),r.prevented)return void this.$element.val(s);this.$element.trigger("change"),this.trigger("toggle",{})}}}},n.prototype._handleKeyboardClear=function(e,i,n){n.isOpen()||i.which!=t.DELETE&&i.which!=t.BACKSPACE||this._handleClear(i)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var o=this.options.get("translations").get("removeAllItems"),s=e('<span class="select2-selection__clear" title="'+o()+'">&times;</span>');i.StoreData(s[0],"data",n),this.$selection.find(".select2-selection__rendered").prepend(s)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,i){function n(e,t,i){e.call(this,t,i)}return n.prototype.render=function(t){var i=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=t.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(e,n,o){var s=this,r=n.id+"-results";e.call(this,n,o),n.on("open",function(){s.$search.attr("aria-controls",r),s.$search.trigger("focus")}),n.on("close",function(){s.$search.val(""),s.$search.removeAttr("aria-controls"),s.$search.removeAttr("aria-activedescendant"),s.$search.trigger("focus")}),n.on("enable",function(){s.$search.prop("disabled",!1),s._transferTabIndex()}),n.on("disable",function(){s.$search.prop("disabled",!0)}),n.on("focus",function(e){s.$search.trigger("focus")}),n.on("results:focus",function(e){e.data._resultId?s.$search.attr("aria-activedescendant",e.data._resultId):s.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){s.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){s._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),s.trigger("keypress",e),s._keyUpPrevented=e.isDefaultPrevented();var n=e.which;if(n===i.BACKSPACE&&""===s.$search.val()){var o=s.$searchContainer.prev(".select2-selection__choice");if(o.length>0){var r=t.GetData(o[0],"data");s.searchRemoveChoice(r),e.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(e){s.$search.val()&&e.stopPropagation()});var a=document.documentMode,l=a&&a<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){l?s.$selection.off("input.search input.searchcheck"):s.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(l&&"input"===e.type)s.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&s.handleSearch(e)}})},n.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},n.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.trigger("focus")},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").width();else{var t=this.$search.val().length+1;e=.75*t+"em"}this.$search.css("width",e)},n}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,i,n){var o=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],r=["opening","closing","selecting","unselecting","clearing"];t.call(this,i,n),i.on("*",function(t,i){if(-1!==e.inArray(t,s)){i=i||{};var n=e.Event("select2:"+t,{params:i});o.$element.trigger(n),-1!==e.inArray(t,r)&&(i.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var n=t(e);i._cache[e]=n}return new i(i._cache[e])},i}),t.define("select2/diacritics",[],function(){return{"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Å":"OE","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Å":"oe","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï","â":"'"}}),t.define("select2/data/base",["../utils"],function(e){function t(e,i){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var n=t.id+"-result-";return n+=e.generateChars(4),null!=i.id?n+="-"+i.id.toString():n+="-"+e.generateChars(4),n},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var t=[],n=this;this.$element.find(":selected").each(function(){var e=i(this),o=n.item(e);t.push(o)}),e(t)},n.prototype.select=function(e){var t=this;if(e.selected=!0,i(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var o=[];(e=[e]).push.apply(e,n);for(var s=0;s<e.length;s++){var r=e[s].id;-1===i.inArray(r,o)&&o.push(r)}t.$element.val(o),t.$element.trigger("change")});else{var n=e.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,i(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("change");this.current(function(n){for(var o=[],s=0;s<n.length;s++){var r=n[s].id;r!==e.id&&-1===i.inArray(r,o)&&o.push(r)}t.$element.val(o),t.$element.trigger("change")})}},n.prototype.bind=function(e,t){var i=this;this.container=e,e.on("select",function(e){i.select(e.data)}),e.on("unselect",function(e){i.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})},n.prototype.query=function(e,t){var n=[],o=this,s=this.$element.children();s.each(function(){var t=i(this);if(t.is("option")||t.is("optgroup")){var s=o.item(t),r=o.matches(e,s);null!==r&&n.push(r)}}),t({results:n})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){var n;e.children?(n=document.createElement("optgroup")).label=e.text:void 0!==(n=document.createElement("option")).textContent?n.textContent=e.text:n.innerText=e.text,void 0!==e.id&&(n.value=e.id),e.disabled&&(n.disabled=!0),e.selected&&(n.selected=!0),e.title&&(n.title=e.title);var o=i(n),s=this._normalizeItem(e);return s.element=n,t.StoreData(n,"data",s),o},n.prototype.item=function(e){var n={};if(null!=(n=t.GetData(e[0],"data")))return n;if(e.is("option"))n={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){n={text:e.prop("label"),children:[],title:e.prop("title")};for(var o=e.children("option"),s=[],r=0;r<o.length;r++){var a=i(o[r]),l=this.item(a);s.push(l)}n.children=s}return(n=this._normalizeItem(n)).element=e[0],t.StoreData(e[0],"data",n),n},n.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=i.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),i.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){var i=this.options.get("matcher");return i(e,t)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,i){function n(e,t){this._dataToConvert=t.get("data")||[],n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype.bind=function(e,t){n.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},n.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,i){return i.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),n.__super__.select.call(this,e)},n.prototype.convertToOptions=function(e){var n=this,o=this.$element.find("option"),s=o.map(function(){return n.item(i(this)).id}).get(),r=[];function a(e){return function(){return i(this).val()==e.id}}for(var l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(i.inArray(c.id,s)>=0){var d=o.filter(a(c)),u=this.item(d),h=i.extend(!0,{},c,u),p=this.option(h);d.replaceWith(p)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);t.appendMany(f,m)}r.push(f)}}return r},n}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,i){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return i.extend({},e,{q:e.term})},transport:function(e,t,n){var o=i.ajax(e);return o.then(t),o.fail(n),o}};return i.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(e,t){var n=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=i.extend({type:"GET"},this.ajaxOptions);function s(){var s=o.transport(o,function(o){var s=n.processResults(o,e);n.options.get("debug")&&window.console&&console.error&&(s&&s.results&&i.isArray(s.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(s)},function(){"status"in s&&(0===s.status||"0"===s.status)||n.trigger("results:message",{message:"errorLoading"})});n._request=s}"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(s,this.ajaxOptions.delay)):s()},n}),t.define("select2/data/tags",["jquery"],function(e){function t(t,i,n){var o=n.get("tags"),s=n.get("createTag");void 0!==s&&(this.createTag=s);var r=n.get("insertTag");if(void 0!==r&&(this.insertTag=r),t.call(this,i,n),e.isArray(o))for(var a=0;a<o.length;a++){var l=o[a],c=this._normalizeItem(l),d=this.option(c);this.$element.append(d)}}return t.prototype.query=function(e,t,i){var n=this;this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,function e(o,s){for(var r=o.results,a=0;a<r.length;a++){var l=r[a],c=null!=l.children&&!e({results:l.children},!0),d=(l.text||"").toUpperCase(),u=(t.term||"").toUpperCase(),h=d===u;if(h||c)return!s&&(o.data=r,void i(o))}if(s)return!0;var p=n.createTag(t);if(null!=p){var f=n.option(p);f.attr("data-select2-tag",!0),n.addOptions([f]),n.insertTag(r,p)}o.results=r,i(o)}):e.call(this,t,i)},t.prototype.createTag=function(t,i){var n=e.trim(i.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(e,t,i){t.unshift(i)},t.prototype._removeOldTags=function(t){var i=this.$element.find("option[data-select2-tag]");i.each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,i)}return t.prototype.bind=function(e,t,i){e.call(this,t,i),this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,n){var o=this;i.term=i.term||"";var s=this.tokenizer(i,this.options,function(t){var i=o._normalizeItem(t);if(!o.$element.find("option").filter(function(){return e(this).val()===i.id}).length){var n=o.option(i);n.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([n])}!function(e){o.trigger("select",{data:e})}(i)});s.term!==i.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.trigger("focus")),i.term=s.term),t.call(this,i,n)},t.prototype.tokenizer=function(t,i,n,o){for(var s=n.get("tokenSeparators")||[],r=i.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<r.length;){var c=r[a];if(-1!==e.inArray(c,s)){var d=r.substr(0,a),u=e.extend({},i,{term:d}),h=l(u);null!=h?(o(h),r=r.substr(a+1)||"",a=0):a++}else a++}return{term:r}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),e.call(this,t,i)}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(){n._checkIfMaximumSelected()})},e.prototype.query=function(e,t,i){var n=this;this._checkIfMaximumSelected(function(){e.call(n,t,i)})},e.prototype._checkIfMaximumSelected=function(e,t){var i=this;this.current(function(e){var n=null!=e?e.length:0;i.maximumSelectionLength>0&&n>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):t&&t()})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(e,t){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function i(){}return i.prototype.render=function(t){var i=t.call(this),n=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(t,i,n){var o=this,s=i.id+"-results";t.call(this,i,n),this.$search.on("keydown",function(e){o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){o.handleSearch(e)}),i.on("open",function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",s),o.$search.trigger("focus"),window.setTimeout(function(){o.$search.trigger("focus")},0)}),i.on("close",function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")}),i.on("focus",function(){i.isOpen()||o.$search.trigger("focus")}),i.on("results:all",function(e){if(null==e.query.term||""===e.query.term){var t=o.showSearch(e);t?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide")}}),i.on("results:focus",function(e){e.data._resultId?o.$search.attr("aria-activedescendant",e.data._resultId):o.$search.removeAttr("aria-activedescendant")})},i.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.showSearch=function(e,t){return!0},i}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var i=t.slice(0),n=t.length-1;n>=0;n--){var o=t[n];this.placeholder.id===o.id&&i.splice(n,1)}return i},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,i,n){this.lastParams={},e.call(this,t,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("query",function(e){n.lastParams=e,n.loading=!0}),t.on("query:append",function(e){n.lastParams=e,n.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&t){var i=this.$results.offset().top+this.$results.outerHeight(!1),n=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1);i+50>=n&&this.loadMore()}},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function i(t,i,n){this.$dropdownParent=e(n.get("dropdownParent")||document.body),t.call(this,i,n)}return i.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),n._bindContainerResultHandlers(t)}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},i.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(e,t,i){t.attr("class",i.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(t){var i=e("<span></span>"),n=t.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},i.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var i=this;t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:message",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("select",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("unselect",function(){i._positionDropdown(),i._resizeDropdown()}),this._containerResultsHandlersBound=!0}},i.prototype._attachPositioningHandler=function(i,n){var o=this,s="scroll.select2."+n.id,r="resize.select2."+n.id,a="orientationchange.select2."+n.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(s,function(i){var n=t.GetData(this,"select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(s+" "+r+" "+a,function(e){o._positionDropdown(),o._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var o="scroll.select2."+n.id,s="resize.select2."+n.id,r="orientationchange.select2."+n.id,a=this.$container.parents().filter(t.hasScroll);a.off(o),e(window).off(o+" "+s+" "+r)},i.prototype._positionDropdown=function(){var t=e(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),o=null,s=this.$container.offset();s.bottom=s.top+this.$container.outerHeight(!1);var r={height:this.$container.outerHeight(!1)};r.top=s.top,r.bottom=s.top+r.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},c=l.top<s.top-a.height,d=l.bottom>s.bottom+a.height,u={left:s.left,top:r.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p=h.offset();u.top-=p.top,u.left-=p.left,i||n||(o="below"),d||!c||i?!c&&d&&i&&(o="below"):o="above",("above"==o||i&&"below"!==o)&&(u.top=r.top-p.top-a.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(u)},i.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},i.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,i,n)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var i=0,n=0;n<t.length;n++){var o=t[n];o.children?i+=e(o.children):i++}return i}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),t.define("select2/dropdown/selectOnClose",["../utils"],function(e){function t(){}return t.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("close",function(e){n._handleSelectOnClose(e)})},t.prototype._handleSelectOnClose=function(t,i){if(i&&null!=i.originalSelect2Event){var n=i.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var s=e.GetData(o[0],"data");null!=s.element&&s.element.selected||null==s.element&&s.selected||this.trigger("select",{data:s})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;i&&(i.ctrlKey||i.metaKey)||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(e){var t=e.minimum-e.input.length,i="Please enter "+t+" or more characters";return i},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,i,n,o,s,r,a,l,c,d,u,h,p,f,m,g,b,v,_,w,y,x,C,k,S,T,P,M){function O(){this.reset()}O.prototype.apply=function(d){if(null==(d=e.extend(!0,{},this.defaults,d)).dataAdapter){if(null!=d.ajax?d.dataAdapter=f:null!=d.data?d.dataAdapter=p:d.dataAdapter=h,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,_)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,m)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null!=d.query){var u=t(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,u)}if(null!=d.initSelection){var M=t(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,M)}}if(null==d.resultsAdapter&&(d.resultsAdapter=i,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,x)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,T))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var O=c.Decorate(w,y);d.dropdownAdapter=O}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,S)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,P)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var E=t(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,E)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,k)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=o:d.selectionAdapter=n,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var A=t(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,A)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}d.language=this._resolveLanguage(d.language),d.language.push("en");for(var D=[],L=0;L<d.language.length;L++){var I=d.language[L];-1===D.indexOf(I)&&D.push(I)}return d.language=D,d.translations=this._processTranslations(d.language,d.debug),d},O.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return u[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function i(n,o){if(""===e.trim(n.term))return o;if(o.children&&o.children.length>0){for(var s=e.extend(!0,{},o),r=o.children.length-1;r>=0;r--){var a=o.children[r],l=i(n,a);null==l&&s.children.splice(r,1)}return s.children.length>0?s:i(n,s)}var c=t(o.text).toUpperCase(),d=t(n.term).toUpperCase();return c.indexOf(d)>-1?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},O.prototype.applyFromElement=function(e,t){var i=e.language,n=this.defaults.language,o=t.prop("lang"),s=t.closest("[lang]").prop("lang"),r=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(s));return e.language=r,e},O.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var i;i=e.isArray(t)?t:[t];for(var n=[],o=0;o<i.length;o++)if(n.push(i[o]),"string"==typeof i[o]&&i[o].indexOf("-")>0){var s=i[o].split("-"),r=s[0];n.push(r)}return n},O.prototype._processTranslations=function(t,i){for(var n=new d,o=0;o<t.length;o++){var s=new d,r=t[o];if("string"==typeof r)try{s=d.loadPath(r)}catch(e){try{r=this.defaults.amdLanguageBase+r,s=d.loadPath(r)}catch(e){i&&window.console&&console.warn&&console.warn('Select2: The language file for "'+r+'" could not be automatically loaded. A fallback will be used instead.')}}else s=e.isPlainObject(r)?new d(r):r;n.extend(s)}return n},O.prototype.set=function(t,i){var n=e.camelCase(t),o={};o[n]=i;var s=c._convertData(o);e.extend(!0,this.defaults,s)};var E=new O;return E}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,i,n){function o(t,o){if(this.options=t,null!=o&&this.fromElement(o),null!=o&&(this.options=i.applyFromElement(this.options,o)),this.options=i.apply(this.options),o&&o.is("input")){var s=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,s)}}return o.prototype.fromElement=function(e){var i=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),n.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.StoreData(e[0],"data",n.GetData(e[0],"select2Tags")),n.StoreData(e[0],"tags",!0)),n.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",n.GetData(e[0],"ajaxUrl")),n.StoreData(e[0],"ajax-Url",n.GetData(e[0],"ajaxUrl")));var o={};function s(e,t){return t.toUpperCase()}for(var r=0;r<e[0].attributes.length;r++){var a=e[0].attributes[r].name;if("data-"==a.substr(0,"data-".length)){var l=a.substring("data-".length),c=n.GetData(e[0],l),d=l.replace(/-([a-z])/g,s);o[d]=c}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(o=t.extend(!0,{},e[0].dataset,o));var u=t.extend(!0,{},n.GetData(e[0]),o);for(var h in u=n._convertData(u))t.inArray(h,i)>-1||(t.isPlainObject(this.options[h])?t.extend(this.options[h],u[h]):this.options[h]=u[h]);return this},o.prototype.get=function(e){return this.options[e]},o.prototype.set=function(e,t){this.options[e]=t},o}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,i,n){var o=function(e,n){null!=i.GetData(e[0],"select2")&&i.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),o.__super__.constructor.call(this);var s=e.attr("tabindex")||0;i.StoreData(e[0],"old-tabindex",s),e.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(e,this.options);var a=this.render();this._placeContainer(a);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var c=this.options.get("dropdownAdapter");this.dropdown=new c(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var d=this.options.get("resultsAdapter");this.results=new d(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){u.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),i.StoreData(e[0],"select2",this),e.data("select2",this)};return i.Extend(o,i.Observable),o.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},o.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==t){var s=e.attr("style");if("string"!=typeof s)return null;for(var r=s.split(";"),a=0,l=r.length;a<l;a+=1){var c=r[a].replace(/\s/g,""),d=c.match(i);if(null!==d&&d.length>=1)return d[1]}return null}if("computedstyle"==t){var u=window.getComputedStyle(e[0]);return u.width}return t},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){e.each(i,t._syncA),e.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},o.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,i){e.trigger(t,i)})},o.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(n,o){-1===e.inArray(n,i)&&t.trigger(n,o)})},o.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,i){e.trigger(t,i)})},o.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,i){e.trigger(t,i)})},o.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(i){e.trigger("results:all",{data:i,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(i){e.trigger("results:append",{data:i,query:t})})}),this.on("keypress",function(t){var i=t.which;e.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&t.altKey?(e.close(),t.preventDefault()):i===n.ENTER?(e.trigger("results:select",{}),t.preventDefault()):i===n.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):i===n.UP?(e.trigger("results:previous",{}),t.preventDefault()):i===n.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._syncSubtree=function(e,t){var i=!1,n=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var o=0;o<t.addedNodes.length;o++){var s=t.addedNodes[o];s.selected&&(i=!0)}else t.removedNodes&&t.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(e){n.trigger("selection:update",{data:e})})}},o.prototype.trigger=function(e,t){var i=o.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in n){var s=n[e],r={prevented:!1,name:e,args:t};if(i.call(this,s,r),r.prevented)return void(t.prevented=!0)}i.call(this,e,t)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},o.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];e.isArray(i)&&(i=e.map(i,function(e){return e.toString()})),this.$element.val(i).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",i.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),i.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),i.StoreData(t[0],"element",this.$element),t},o}),t.define("jquery-mousewheel",["jquery"],function(e){return e}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(e,t,i,n,o){if(null==e.fn.select2){var s=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var n=e.extend(!0,{},t);new i(e(this),n)}),this;if("string"==typeof t){var n,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=o.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,r)}),e.inArray(t,s)>-1?this:n}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=n),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return e.fn.select2.amd=t,i})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){"use strict";var n=i(13).$.fn.select2.amd.require,o=n("select2/utils"),s=n("select2/dropdown"),r=n("select2/dropdown/attachBody"),a=n("select2/dropdown/closeOnSelect"),l=n("select2/dropdown/search"),c=n("select2/dropdown/minimumResultsForSearch");function d(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];d.__super__.constructor.apply(this,t)}o.Extend(d,l),d.prototype.handleSearch=function(){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("results:goto",{term:e}),this.$search.val("")}this._keyUpPrevented=!1};var u=o.Decorate(s,d);u=o.Decorate(u,r),u=o.Decorate(u,a),u=o.Decorate(u,c),e.exports=u},function(e,t,i){"use strict";var n=i(13).$,o=n.fn.select2.amd.require,s=o("select2/utils"),r=o("select2/results");function a(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.__super__.constructor.apply(this,t)}s.Extend(a,r),a.prototype._highlightItem=function(e){var t=n(e),i=t.data("data")||{};this.getHighlightedResults().removeClass("select2-results__option--highlighted"),this.trigger("results:focus",{data:i,element:t})},a.prototype.bind=function(e,t){for(var i,o=this,s=arguments.length,r=new Array(s>2?s-2:0),l=2;l<s;l++)r[l-2]=arguments[l];(i=a.__super__.bind).call.apply(i,[this,e,t].concat(r));var c="",d=-1,u=!1,h=null,p=null,f=!1;this.$results.off("mouseenter",".select2-results__option[aria-selected]").on("mouseenter mousemove",".select2-results__option[aria-selected]",function(){u||h===this&&!f||(h=this,f=!1,o._highlightItem(this))}),e.on("results:goto",function(e){clearTimeout(p),u=!0,o.data.query(e,function(t){if(t.results.length){var i=t.results,s=d+1;if(!f&&h){var r=n(h).data("data");if(!r)return;var a=r.id,l=i.map(function(e){return e.id}).indexOf(a);l>-1&&(s=l+1)}(e.term!==c&&f||s>i.length-1)&&(s=0);var m=i[s],g=o.$results.find("#"+m._resultId),b=o.$results.offset().top,v=o.$results.height(),_=g.height(),w=g.offset().top,y=o.$results.scrollTop()+(w-b);if(!(w>b&&w<b+v)){var x=y+_-v;o.$results.scrollTop(x)}o._highlightItem(g),c=e.term,d=s,p=setTimeout(function(){u=!1,f=!0},250)}})})},a.prototype.append=function(e){var t;e.results&&(e.results=e.results.filter(function(e){return null===e.element.getAttribute("data-hidden")}));for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];(t=a.__super__.append).call.apply(t,[this,e].concat(n))},e.exports=a},function(e,t,i){"use strict";i(1419);var n=i(1420),o=i(496),s=i(629),r=i(1421),a=i(20),l=o.extend({name:"SignupAdvantages",el:!1,template:n,mode:"default",runAnimation:!0,useLightStyle:!1,initialize:function(){this.stats=new s({},{app:this.app}),this.stats.fetch(),this.listenTo(this.stats,"change",this.render)},clientAfterRender:function(){var e=this;this.runAnimation?setTimeout(function(){return e.animate(e.$("._item"),0)},300):this.$("._item").css({opacity:1})},animate:function(e,t){var i=this,n={onShow:!0,showSpeed:.4,showMethod:"fadeInDown"};if(t<=e.length-1){var o=this.$(e[t]);this.animatedShow(o,n,function(){i.animate(e,t+1),o.css({opacity:1}),i.removeAnimatedClassNames(o)})}},serialize:function(){return{useLightStyle:this.useLightStyle,advantages:this.getAdvantages()}},getAdvantages:function(){var e=this.stats.get("customers"),t={default:[{text:this.tr("Use Favorites for your projects. Create folders and share them with your friends and colleagues."),icon:"icon-advantage-favorite"},{text:this.tr("Add items to your Cart so you can buy them later."),icon:"icon-advantage-cart"},{text:this.tr("Take part in our Referral Program and get 15% from every purchase made by your friends."),icon:"icon-advantage-referral"},{text:this.tr("And lots of other offers! More than %s customers have rated our service highly.",a.numberFormat(e)),icon:"icon-advantage-rating"}],business:[{text:this.tr("<b>Business Use.</b> Purchase of the business plan allows you to use images as a company for corporate communication and outreach."),icon:"icon-usd-board"},{text:this.tr("<b>Full Control.</b> Sub-accounts with the ability to control, track, and analyze team downloads."),icon:"icon-analytics"},{text:this.tr("<b>Personalized Approach.</b> A dedicated manager will help you to customize a plan to meet all your needs and provide additional support and guidance."),icon:"icon-user-circle"},{text:this.tr("<b>Stress-Free Licensing.</b> Royalty-Free Images for print and digital use, merchandise, and advertising for your business."),icon:"icon-image"}]};return t[this.mode]||t.default}});Object.assign(l.prototype,r),e.exports=l},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="advantages advantages_animated';e.useLightStyle&&(i+=" advantages_light"),i+='">';var n=e.advantages;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<span class="advantages__item _item"><i class="advantages__icon icon '+t((o=n[s+=1]).icon)+'"></i><span class="advantages__text">'+o.text+"</span></span>";return i+="</div>"}},function(e,t,i){"use strict";var n=i(0),o="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";e.exports={getAnimationDefaults:function(){return{onShow:!1,onHide:!1,showMethod:"fadeIn",hideMethod:"fadeOut",showSpeed:.6,hideSpeed:.1}},setParams:function(e,t){this.animation=n.extend({},this.getAnimationDefaults(),this.animation,t||{})},animatedShow:function(e,t,i){for(var n,s=this,r=e,a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];(n=this.setParams).call.apply(n,[this,r,t,i].concat(l)),r||(r=this.$el),this.animation.onShow?(r.css({"animation-duration":this.animation.showSpeed+"s"}),r.addClass(this.animation.showMethod+" animated").one(o,function(){i&&i.apply(s)})):i&&i.apply(this)},animatedHide:function(e,t,i){for(var n,s=this,r=e,a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];(n=this.setParams).call.apply(n,[this,r,t,i].concat(l)),r||(r=this.$el),this.animation.onHide?(r.css({"animation-duration":this.animation.hideSpeed+"s"}),r.addClass(this.animation.hideMethod+" animated").one(o,function(){i&&i.apply(s)})):i&&i.apply(this)},removeAnimatedClassNames:function(e){var t=e;t||(t=this.$el),t.removeClass(this.animation.showMethod+" "+this.animation.hideMethod+" animated")}}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="signup-condition">';if(e.isExtended){i+='<div class="signup-condition__wrap"><div class="signup-condition__error _error"></div>';var n=e.schema;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<div class="signup-condition__field-box"><label class="signup-condition__field field-box checkbox-box checkbox-box-m checkbox-box-line"><input class="checkbox _checkbox" type="checkbox" name="'+t((o=n[s+=1]).name)+'"',o.checked&&(i+=' checked="checked"'),i+=' /><i class="icon icon-checkbox icon-checkbox-m"></i><span class="checkbox-text">'+o.text+"</span></label></div>";i+="</div>"}else i+='<div class="signup-condition__text">',e.conditionText?i+=e.conditionText+" *":i+=this.tr('By clicking Register Account or signing up using the Facebook or Google you agree to the <a class="link-blue" href="%s" target="_blank">Membership Agreement</a>',this.app.makeUrl("member-agreement"))+" *",i+="</div>";return i+="</div>"}},function(e,t,i){"use strict";var n=i(4);e.exports=n.extend({url:"SignupCondition",defaults:{field:"",value:null}})},function(e,t,i){"use strict";var n=i(105).SignupBusinessUser,o=n.defaults,s=n.errorsMap,r=n.validation,a=i(733);e.exports=a.extend({url:"Signup",isHttps:!0,defaults:o,errorsMap:s,validation:r})},function(e,t,i){"use strict";var n=i(0),o=i(496),s=i(915),r=i(998),a=i(20);e.exports=o.extend({name:"Promocode",el:!1,check:function(){var e=a.deepClone(this.app.userSettings.get("promoCode")||{});if(e&&e.code)if(this.app.user.isLoggedIn()){var t=new s({code:e.code},{app:this.app});this.listenTo(t,{invalid:this.onModelInvalid,sync:this.onModelSync}),t.save(),this.app.userSettings.set("promoCode",{})}else!1===e.shown&&(this.showNotification(this.tr("Please log in to your Depositphotos.com account.")),e.shown=!0,this.app.userSettings.set({promoCode:e}))},onModelInvalid:function(e,t){this.showNotification(n.isArray(t)?this.tr(n.first(t).code,e.get("code")):this.tr('Promotion code "%s" does not exist.',e.get("code")))},onModelSync:function(e,t){var i=this;t.template&&this.showNotification(this.tr(t.template,t.values||[]),function(){return i.app.user.fetch()})},showNotification:function(e,t){new r({app:this.app,message:e,onAfterHideCallback:t||n.noop}).show()}})},function(e,t,i){"use strict";i(1428);var n=i(0),o=i(1429),s=i(496),r=i(20);e.exports=s.extend({name:"ToTopButton",el:!1,template:o,top:0,borderline:150,duration:300,active:!0,events:{click:"onClick"},globals:{"scroll window":"toggleButton"},initialize:function(){this.listenTo(this.app.observer,"ToTopButton:Toggle",this.observeToggle),this.listenTo(this.app.observer,"ToTopButton:Scroll",this.handleScroll)},serialize:function(){return{classNames:r.classNames({"top-button_neighbour":this.app.features.isFeatureOnValue("Blinger integration")})}},clientAfterRender:function(){this.toggleButton()},toggleButton:function(){this.$el.toggleClass("hidden",!this.active||window.pageYOffset<this.borderline)},toggleState:function(e){this.active=!!e,this.toggleButton()},observeToggle:function(e){this.toggleState(e.state)},handleScroll:function(){this.scrollToTop()},onClick:function(){this.scrollToTop()},scrollToTop:function(e){window.pageYOffset!==this.top&&this.scroll(e||this.duration)},scroll:n.throttle(function(e){window.scrollTo(0,window.pageYOffset+(this.top-window.pageYOffset)/e*10),this.scrollToTop(e-10)},10)})},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){return'<div class="top-button-wrapper hidden '+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}())(e.classNames)+'"><button class="button-to-top"></button></div>'}},function(e,t,i){"use strict";i(1431);var n=i(65),o=i(1432),s=i(532),r=i(496);i(1433),e.exports=s.extend({mount:"body",initialize:function(){var e=this;this.title=this.tr("Dear Bosch user"),this.body=function(){return new(r.extend({template:o}))({app:e.app})},this.footer=[{label:n.OkBtn,color:"blue",defaultAction:!0,callback:"closeCallback"}];for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];s.prototype.initialize.apply(this,i)},closeCallback:function(){this.getView("._body").$("._forget").is(":checked")&&this.app.userSettings.set({boschGreetingEnabled:!1}),this.hide()}})},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){return'<div class="bosch-greeting-modal"><section class="bosch-greeting-modal__para"><div class="bosch-greeting-modal__img-holder"><img src="'+this.app.cdnPath+'/_img/hello-bosch-image.jpg" /></div><p class="bosch-greeting-modal__text">'+this.tr("Our photography style is always inspirational in nature, capturing the beneï¬t of âconnecting lifeâ through Bosch products. We use positive images featuring ârealâ people. All images should feel like they are part of the same brand and convey one overall style.")+'</p></section><section class="bosch-greeting-modal__para"><ul class="list list-black bosch-greeting-modal__list"><li class="list-item">'+this.tr("Light and bright")+'</li><li class="list-item">'+this.tr("Warm coloring â itâs summer lighting, even indoors (exception: night-time images)")+'</li><li class="list-item">'+this.tr("Styled with vibrant, saturated CD colors")+'</li><li class="list-item">'+this.tr("Real people in real situations")+"</li></ul><p>"+this.tr("Please only download images supporting this Bosch imagery style!")+'</p></section><label class="checkbox-box checkbox-box-m bosch-greeting-modal__checkbox"><input class="checkbox _forget" type="checkbox" name="forget"><i class="icon icon-checkbox icon-checkbox-m"></i><span class="filter-full__item-text_hover-underline checkbox-text">'+this.tr("DonÂ´t show again")+"</span></label></div>"}},function(e,t){e.exports="/_img/hello-bosch-image.jpg?1b7a477fe07838ac0e9329891327b953"},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(1435),r=i(606);e.exports=r.extend({template:s,events:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},r.prototype.events,{"click ._close":"onCloseClick"}),globals:{"scroll window":"setFloaterPosition","resize window":"setFloaterPosition"},showDelay:6e4,minScreenWidth:1150,minScreenWaitWidth:1450,minScrollTop:150,target:".footer",enabled:!0,isFloatingDisabled:function(){return window.innerWidth<=this.minScreenWidth},isScrollAllows:function(){return window.innerWidth>this.minScreenWaitWidth||window.innerWidth>this.minScreenWidth&&window.innerWidth<=this.minScreenWaitWidth&&Backbone.$(window).scrollTop()>=this.minScrollTop},clientAfterRender:function(){this.showLiveChat()},onCloseClick:function(e){e.preventDefault(),e.stopPropagation(),this.$el.addClass("cmp-livechat-floater__box_hidden")},showLiveChat:function(){var e=this;this.enabled&&(this.setFloaterPosition(),setTimeout(function(){e.$el.removeClass("cmp-livechat-floater__box_hidden")},this.isFloatingDisabled()?0:this.showDelay))},setFloaterPosition:function(){!this.isTargetVisible()&&this.isScrollAllows()?Backbone.$(this.el).addClass("cmp-livechat-floater__box_pinned").removeAttr("style"):Backbone.$(this.el).removeClass("cmp-livechat-floater__box_pinned").css({bottom:Backbone.$(this.target).outerHeight()})},isTargetVisible:function(){return Backbone.$(window).scrollTop()+Backbone.$(window).height()>Backbone.$(this.target).offset().top}})},function(e,t,i){"use strict";e.exports=function(e){return'<div class="cmp-livechat-floater__box cmp-livechat-floater__box_pinned cmp-livechat-floater__box_hidden"><div class="cmp-livechat-floater"><h2 class="cmp-livechat-floater__title">'+this.tr("Need Assistance?")+'</h2><p class="cmp-livechat-floater__text">'+this.tr("If you have questions, let us help you choose the right plan.")+'</p><span class="button button-l button-blue cmp-livechat-floater__button">'+this.tr("Live chat with us!")+'</span><i class="cmp-livechat-floater__close _close"></i></div></div>'}},function(e,t,i){"use strict";(function(t){i(1437),i(1438);var n=i(1439),o=i(1440),s=i(1441),r=i(1442),a=i(1443),l=i(566).mobile.responsive,c=i(496),d=i(1283),u=i(1019),h=i(1284),p=i(900);e.exports=c.extend({name:"Sidebar",el:!1,template:n,amp:o,headerWithoutSignUpButton:!1,storedScrollPosition:0,events:{click:"onClick",touchstart:"onTouchStart",touchend:"onTouchEnd","click ._sidebar-close":"onCloseClick","click ._user-switch-account":"onUserSwitchAccount","click ._user-logout":"onUserLogoutClick"},initialize:function(){this.listenTo(this.app.observer,{"Responsive:CloseMobileMenu":this.close,"Responsive:ToggleMobileMenu":this.toggle})},handleMatchMedia:function(e){e.matches?this.render():this.forceClose()},prepareRender:function(){return!this.app.user.isEnterprise()&&this.app.store.get("CartIndicator")&&this.setView("._shopping-cart-indicator-mobile",new d({app:this.app,template:s})),this.app.user.isEnterprise()?this.setView("._balance",new h({app:this.app,template:r,teamBalance:this.app.user.get("enterprise").balance})):this.app.user.get("balance")>0&&this.setView("._balance",new u({app:this.app,template:a,balance:this.app.user.get("balance")})),this.isMobileMode()},clientAfterRender:function(){var e=this;t.browser&&(this.matchMedia=window.matchMedia("(max-width: "+l.mobileBig+"px)"),this.matchMedia.addListener(function(t){return e.handleMatchMedia(t)})),this.$body=Backbone.$("body")},isMobileMode:function(){return t.browser&&(this.app.device.isMobile||window.innerWidth<=l.mobileBig)},serialize:function(){return{scheme:this.app.user.isLoggedIn()?this.getMenuAuthScheme():this.getMenuScheme(),links:this.getLinks(),isAuth:this.app.user.isLoggedIn(),user:this.app.user.serialize(),avatar:{dimensions:{w:36,h:36},sizes:this.app.user.avatar.serialize(),alt:this.tr("Avatar")},headerWithoutSignUpButton:this.headerWithoutSignUpButton,showAffiliateSignInButton:"AffiliateLanding"===this.app.router.routeName,customSidebarButtons:this.customSidebarButtons}},getMenuScheme:function(){return[{key:"photos",label:this.tr("Photos"),url:this.app.makeUrl("stock-photography"),enabled:!0,active:"IndexPhoto"===this.app.router.routeName},{key:"vectors",label:this.tr("Vectors"),url:this.app.makeUrl("stock-vectors"),enabled:!0,active:"IndexVector"===this.app.router.routeName},{key:"editorial",label:this.tr("Editorial"),url:this.app.makeUrl("editorial-photography"),enabled:!0,active:"IndexEditorial"===this.app.router.routeName},{key:"videos",label:this.tr("Videos"),url:this.app.makeUrl("stock-videos"),enabled:!0,active:"IndexVideo"===this.app.router.routeName},{key:"subscribe",label:this.tr("Plans & Prices"),url:this.app.makeUrl("subscribe"),enabled:!0,active:"Subscribe"===this.app.router.routeName}]},getMenuAuthScheme:function(){var e=this.app.user.isEnterprise(),t=this.app.user.isSeller(),i=this.app.user.isCorporateAdmin(),n=this.app.user.get("accountSwitcher");return[{key:"switch",label:this.tr("Switch to Enterprise"),classes:"_user-switch-account",enabled:!e&&n},{key:"switch",label:this.tr("Switch to Regular Site"),classes:"_user-switch-account",enabled:e&&n},{key:"subscribe",label:this.tr("Plans & Prices"),url:this.app.makeUrl("subscribe"),enabled:!e&&!n,active:"Subscribe"===this.app.router.routeName},{key:"home",label:this.tr("Home"),url:this.app.makeUrl("/"),enabled:!0,active:/^(Home|Index$)/.test(this.app.router.routeName)},{key:"team",label:this.tr("Team"),url:this.app.makeUrl("enterprise/users"),enabled:e,active:/^Enterprise/.test(this.app.router.routeName)},{key:"team",label:this.tr("Team"),url:this.app.makeUrl("subaccounts"),enabled:!e&&i,active:/^Subaccounts/.test(this.app.router.routeName)},{key:"buyer",label:this.tr("Buyer Menu"),url:this.app.makeUrl("image"),enabled:!e,active:/^(Image|Video|Merchant|Purchased|Invoices)/.test(this.app.router.routeName)},{key:"seller",label:this.tr("Seller Menu"),url:this.app.makeUrl("files"),enabled:!e&&t},{key:"favorites",label:this.tr("Favorites"),url:this.app.makeUrl("favorites"),enabled:!0,active:/^Favorites/.test(this.app.router.routeName)},{key:"referral",label:this.tr("Referral"),url:this.app.makeUrl("referral"),enabled:!e&&t},{key:"subscribe",label:this.tr("Plans & Prices"),url:this.app.makeUrl("subscribe"),enabled:!e&&n,active:"Subscribe"===this.app.router.routeName}].filter(function(e){return e.enabled})},getLinks:function(){return{user:this.app.user.isLoggedIn()?this.app.makeUrl("profile"):this.app.makeUrl("login",{backURL:!0}),signup:this.app.makeUrl("signup",{backURL:!0}),logout:this.app.makeUrl("login/logout"),signupAffiliateLink:this.app.makeUrl("affiliateProgram")}},onClick:function(e){e.stopPropagation()},onCloseClick:function(){this.close()},onUserLogoutClick:function(e){e.preventDefault(),this.app.user.logout()},onUserSwitchAccount:function(){var e=this;p.sendRequest({url:"SwitchAccount",success:function(){e.app.router.redirect(e.app.makeUrl("home"))}})},onTouchStart:function(e){var t=e.touches||e.originalEvent.touches;this.xDown=t[0].clientX,this.yDown=t[0].clientY},onTouchEnd:function(e){if(this.xDown&&this.yDown){var t=e.changedTouches||e.originalEvent.changedTouches,i=t[0].clientX,n=t[0].clientY,o=this.xDown-i,s=this.yDown-n;Math.abs(o)>Math.abs(s)&&o>50&&this.close(),this.xDown=null,this.yDown=null}},onSidebarOpeningTransitionEnd:function(e){if(e.target===e.currentTarget){var t=e.data.context;t.$el.off("transitionend",this.onSidebarOpeningTransitionEnd),t.$body.removeClass("aside-animation"),t.app.observer.fire("Responsive:MobileMenuOpenEnd",{cid:t.cid})}},open:function(){this.isOpened=!0,this.app.observer.fire("Responsive:MobileMenuOpenStart",{cid:this.cid}),this.storedScrollPosition=Backbone.$(window).scrollTop(),this.$body.addClass("aside-animation aside-visible aside-open"),this.lockScroll(),this.$el.on("transitionend",{context:this},this.onSidebarOpeningTransitionEnd)},onSidebarClosingTransitionEnd:function(e){if(e.target===e.currentTarget){var t=e.data.context;t.$el.off("transitionend",this.onSidebarClosingTransitionEnd),t.$body.removeClass("aside-animation aside-visible aside-animation-out"),t.unLockScroll(),t.app.observer.fire("Responsive:MobileMenuCloseEnd",{cid:t.cid})}},close:function(){this.isOpened&&(this.isOpened=!1,this.app.observer.fire("Responsive:MobileMenuCloseStart",{cid:this.cid}),this.$el.on("transitionend",{context:this},this.onSidebarClosingTransitionEnd),this.$body.removeClass("aside-open").addClass("aside-animation aside-animation-out"))},forceClose:function(){this.isOpened&&(this.isOpened=!1,this.$body.removeClass("aside-open aside-visible"),this.unLockScroll(),this.app.observer.fire("Responsive:MobileMenuCloseEnd",{cid:this.cid}))},toggle:function(e){var t=e.forceStatus,i=void 0===t?null:t;(null===i?this.isOpened:i)?this.close():this.open()},lockScroll:function(){Backbone.$("#root").scrollTop(this.storedScrollPosition)},unLockScroll:function(){Backbone.$(window).scrollTop(this.storedScrollPosition)}})}).call(this,i(17))},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="sidebar-box"><div class="sidebar-wrap"><div class="sidebar-menu';e.isAuth||(i+=" sidebar-menu_no-auth"),e.showAffiliateSignInButton&&(i+=" sidebar-menu_affiliate"),e.customSidebarButtons&&(i+=" sidebar-menu_custom-btns-"+t(e.customSidebarButtons.length)),i+='"><div class="sidebar-menu__space"><i class="sidebar__close-button _sidebar-close"></i><span class="sidebar-menu__cart _shopping-cart-indicator-mobile"></span></div>',e.isAuth&&(i+='<div class="sidebar-menu__top"><div class="sidebar-menu__user"><a class="sidebar-menu__user-avatar avatar-box avatar-box-s" href="'+e.links.user+'"><img class="avatar avatar-m" src="'+e.avatar.sizes.default+'" alt="'+e.avatar.alt+'" /></a><div class="sidebar-menu__user-info"><a class="sidebar-menu__user-info-title" href="'+e.links.user+'">'+t(e.user.login)+'</a><div class="sidebar-menu__user-info-money _balance"></div></div></div></div>'),i+='<div class="sidebar-menu__middle"><ul class="sidebar-menu__list">';var n=e.scheme;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<li class="sidebar-menu__item">',(o=n[s+=1]).active?(i+='<span class="sidebar-menu__link sidebar-menu__link_active',o.classes&&(i+=" "+t(o.classes)),i+='"><i class="sidebar-menu__icon sidebar-menu__icon_'+t(o.key)+'"></i>'+o.label+"</span>"):(i+='<a class="sidebar-menu__link',o.classes&&(i+=" "+t(o.classes)),i+='"',o.url&&(i+=' href="'+o.url+'"'),i+='><i class="sidebar-menu__icon sidebar-menu__icon_'+t(o.key)+'"></i>'+o.label+"</a>"),i+="</li>";if(i+='</ul></div><div class="sidebar-menu__bottom">',e.customSidebarButtons){var a=e.customSidebarButtons;if(a)for(var l,c=-1,d=a.length-1;c<d;)i+='<a class="sidebar-menu__btn '+t((l=a[c+=1]).classNames)+'" href="'+l.url+'">'+l.text+"</a>"}else e.isAuth?i+='<a class="sidebar-menu__link _user-logout" href="'+e.links.logout+'"><i class="sidebar-menu__icon sidebar-menu__icon_logout"></i>'+this.tr("Log Out")+"</a>":e.showAffiliateSignInButton?i+='<a class="sidebar-menu__btn button button-4xl button-blue button-pill" href="'+e.links.signupAffiliateLink+'">'+this.tr("Sign in with affiliate account")+"</a>":i+='<a class="sidebar-menu__btn button button-4xl button-blue button-pill" href="'+e.links.signup+'">'+this.tr("Register an Account")+'</a><a class="sidebar-menu__btn button button-4xl button-dark button-pill" href="'+e.links.user+'">'+this.tr("Sign In")+"</a>";return i+="</div></div></div></div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<amp-sidebar id="main-menu-sidebar" layout="nodisplay" side="left" hidden><div class="sidebar-menu';e.isAuth||(i+=" sidebar-menu_no-auth"),e.showAffiliateSignInButton&&(i+=" sidebar-menu_affiliate"),e.customSidebarButtons&&(i+=" sidebar-menu_custom-btns-"+t(e.customSidebarButtons.length)),i+='"><div class="sidebar-menu__space"><i class="sidebar__close-button _sidebar-close" on="tap:main-menu-sidebar.close" role="button" tabindex="0"></i><span class="sidebar-menu__cart _shopping-cart-indicator-mobile"></span></div>',e.isAuth&&(i+='<div class="sidebar-menu__top"><a class="sidebar-menu__user" href="'+e.links.user+'"><span class="sidebar-menu__user-avatar avatar-box avatar-box-s"><amp-img class="avatar avatar-m" src="'+e.avatar.sizes.default+'"width="'+e.avatar.dimensions.w+'" height="'+e.avatar.dimensions.h+'"alt="'+e.avatar.alt+'" /></span><span class="sidebar-menu__user-info"><span class="sidebar-menu__user-info-title">'+t(e.user.login)+"</span>",e.showEarnedMoney&&(i+='<span class="sidebar-menu__user-info-money">'+this.tr("Balance: $%s",e.user.balance)+"</span>"),i+="</span></a></div>"),i+='<div class="sidebar-menu__middle"><ul class="sidebar-menu__list">';var n=e.scheme;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<li class="sidebar-menu__item">',(o=n[s+=1]).active?(i+='<span class="sidebar-menu__link sidebar-menu__link_active',o.classes&&(i+=" "+t(o.classes)),i+='"><i class="sidebar-menu__icon sidebar-menu__icon_'+t(o.key)+'"></i>'+o.label+"</span>"):(i+='<a class="sidebar-menu__link',o.classes&&(i+=" "+t(o.classes)),i+='" ',o.url&&(i+=' href="'+o.url+'"'),i+='><i class="sidebar-menu__icon sidebar-menu__icon_'+t(o.key)+'"></i>'+o.label+"</a>"),i+="</li>";if(i+='</ul></div><div class="sidebar-menu__bottom">',e.customSidebarButtons){var a=e.customSidebarButtons;if(a)for(var l,c=-1,d=a.length-1;c<d;)i+='<a class="sidebar-menu__btn '+t((l=a[c+=1]).classNames)+'" href="'+l.url+'">'+l.text+"</a>"}else e.isAuth?i+='<a class="sidebar-menu__link _user-logout" href="'+e.links.logout+'"><i class="sidebar-menu__icon sidebar-menu__icon_logout"></i>'+this.tr("Log Out")+"</a>":e.showAffiliateSignInButton?i+='<a class="sidebar-menu__btn button button-4xl button-blue button-pill" href="'+e.links.signupAffiliateLink+'">'+this.tr("Sign in with affiliate account")+"</a>":i+='<a class="sidebar-menu__btn button button-4xl button-blue button-pill" href="'+e.links.signup+'">'+this.tr("Register an Account")+'</a><a class="sidebar-menu__btn button button-4xl button-dark button-pill" href="'+e.links.user+'">'+this.tr("Sign In")+"</a>";return i+="</div></div></amp-sidebar>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<a class="shopping-cart-box shopping-cart-box_mobile';return e.count>0&&(i+=" shopping-cart-box_full"),i+='" href="'+e.cartLink+'" rel="nofollow"><i class="shopping-cart-box__icon icon icon-cart icon-cart-white"></i>',e.count>0&&(i+='<span class="shopping-cart-box__counter label label-counter label-counter-black">'+t(e.count)+"</span>"),i+="</a>"}},function(e,t,i){"use strict";e.exports=function(e){var t='<a class="sidebar-menu__balance link-white"';return e.billingLinkDisabled||(t+=' href="'+e.billingLink+'"'),t+=">"+this.tr("Balance: %s",e.$teamBalance)+"</a>"}},function(e,t,i){"use strict";e.exports=function(e){return'<a class="sidebar-menu__balance link-white" href="'+this.app.makeUrl("request_earnings")+'">'+this.tr("Balance: $%s",e.balance)+"</a>"}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<a class="shopping-cart-box';return e.count>0&&(i+=" shopping-cart-box_full"),i+='" href="'+e.cartLink+'" rel="nofollow"><i class="shopping-cart-box__icon icon icon-cart"></i><i class="shopping-cart-box__icon shopping-cart-box__icon_hover icon icon-cart-hover"></i>',e.count>0&&(i+='<span class="shopping-cart-box__counter label label-counter">'+t(e.count)+"</span>"),i+="</a>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}();return'<a class="user-bar-item user-bar-item_hover balance-box earned-money-box" href="'+this.app.makeUrl("request_earnings")+'"><span class="user-bar-item__box"><i class="user-bar-item__icon icon icon-user-earned-money"></i><i class="user-bar-item__icon user-bar-item__icon_hover icon icon-user-earned-money-hover"></i><span class="user-bar-item__text">$'+t(e.balance)+"</span></span></a>"}},function(e,t,i){"use strict";e.exports=function(e){var t="<a ";return e.billingLinkDisabled||(t+=' href="'+e.billingLink+'"'),t+=' class="user-bar-item user-bar-item_hover balance-box',e.billingLinkDisabled&&(t+=" balance-box_not-clickable"),t+='"><span class="user-bar-item__box"><i class="user-bar-item__icon icon icon-user-balance"></i><i class="user-bar-item__icon user-bar-item__icon_hover icon icon-user-balance-hover"></i><span class="user-bar-item__text">'+e.$teamBalance+"</span></span></a>"}},function(e,t,i){"use strict";var n=i(4);e.exports=n.extend({url:"UserBanInfo",defaults:{loginAsUser:!1,registerNewUser:!1,recoverPassword:!1,purchaseProductInternal:!1,createCardInternal:!1,updateCardInternal:!1,careerFeedback:!1},actions:["recoverPassword","loginAsUser","registerNewUser","purchaseProductInternal","createCardInternal","updateCardInternal","careerFeedback"],getQueryParams:function(){return{actions:this.actions}},parse:function(e){return e.errors?{}:e.result}})},function(e,t,i){"use strict";var n=i(1450),o=i(25);e.exports=o.extend({model:n,url:"ActiveNotification",getQueryParams:{}})},function(e,t,i){"use strict";var n=i(0),o=i(4);e.exports=o.extend({url:"Notification",defaults:{id:null,aggressiveLevel:null,message:null,bgrColor:null,bgrImage:null,animated:!1,height:null,barLink:null,buttonText:null,buttonLink:null,buttonColor:null,buttonTextColor:null,buttonMinWidth:null,buttonPosition:null,messageColor:null,accepted:void 0},getQueryParams:function(){return n.pick(this.attributes,n.keys(this.defaults))},parse:function(e){return n.result(e,"notifBar",{})}})},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(496),r=i(1452);e.exports=s.extend({name:"Portal",el:!1,template:function(){return'<div class="_portal"></div>'},globals:{keyup:"onGlobalKeyup"},initialize:function(){this.modalsManager=this.app.store.link("ModalsManager",new r([],{app:this.app})),this.listenTo(this.modalsManager,{add:this.renderModal,change:this.updateExisting,remove:this.removeModal})},clientAfterRender:function(){document.body.appendChild(this.el)},renderModal:function(e){var t=this,i=e.get("id"),s=e.get("view");if(s){var r=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},e.get("options"),{onHide:function(){return t.modalsManager.hide(i)}});this.insertView("",new s(r)).show(r)}},updateExisting:function(e){var t=e.get("options"),i=e.get("id"),n=this.findView(i);n&&n.show(t)},removeModal:function(e){var t=e.get("id"),i=this.findView(t);i&&i.hide()},onGlobalKeyup:function(e){if(e.stopPropagation(),this.modalsManager.length){var t=this.modalsManager.last().id,i=this.findView(t);i&&i.closeOnEscapeBtn&&i.escKeys.includes(e.keyCode)&&this.modalsManager.hide(t)}}})},function(e,t,i){"use strict";(function(e){var t=i(25),n=i(4),o=i(1453),s=i(905),r=i(1319),a=(0,i(6).getLogger)(e),l={FileViewModal:o,ZoomModal:s},c=function(e,t){return{id:e,href:t.cdnPath+"_css/"+e+".css?"+t.mtime}},d={FoldersLicenseWizardModal:function(e,t){return r(c("chunk_license_wizard_modal",t)).then(function(){return Promise.all([i.e(102),i.e(95)]).then(function(t){var n=i(2182);e(n)}.bind(null,i)).catch(i.oe)})},EditContentModal:function(e,t){return r(c("chunk_edit_content_modal",t)).then(function(){return i.e(92).then(function(t){var n=i(2206);e(n)}.bind(null,i)).catch(i.oe)})},EditThumbModal:function(e,t){return r(c("chunk_edit_thumb_modal",t)).then(function(){return i.e(93).then(function(t){var n=i(2210);e(n)}.bind(null,i)).catch(i.oe)})}};e.exports=t.extend({name:"ModalsManager",model:n.extend({defaults:{id:null,view:null,options:{},context:{},showOptions:{}}}),getModalView:function(e){var t=this;return new Promise(function(i,n){var o=l[e];return o?i(o):(o=d[e])?o(i,t.app):n()})},show:function(e,t){var i=this;this.getModalView(e).then(function(n){var o=i.get(e);o?i.update(o,t):i.add({id:e,view:n,options:t})}).catch(function(){return a.warn("ModalsManager: Can not find modal "+e+".")})},getTopModal:function(e){return void 0===e&&(e=Object.keys(l)),this.models.filter(function(t){return e.includes(t.id)}).pop()},hide:function(e){this.remove(e)},update:function(e,t){e.set({options:t})},isEmpty:function(){return 0===this.length},addModal:function(e){this.add(e)},removeModal:function(e){this.remove(e)},isUpperModal:function(e){return!this.isEmpty()&&this.at(this.length-1).id===e.id},getModalsLenght:function(){return this.length},getModalOrder:function(e){return this.indexOf(this.get(e.id))}})}).call(this,i(3)(e))},function(e,t,i){"use strict";(function(t){i(1285),i(1454);var n=i(0),o=i(1455),s=i(1456),r=i(1457),a=i(1286),l=i(1287),c=i(1458),d=i(677).FileViewModals,u=i(20),h=i(501),p=i(1288),f=i(1289),m=i(72),g=i(1290),b=i(496),v=i(919),_=i(1020),w=i(902),y=i(1309),x=i(1310),C=i(1028),k=i(1542),S=i(1001),T=i(1546),P=i(1316),M=i(1318),O=v.extend({name:"FileViewModal",el:!1,template:o,single:!0,noBorder:!0,draggable:!1,destroyOnHide:!0,classes:{},createDesignEnabled:!1,enableListThroughNavigation:!0,scrollTopOnRelatedClick:!0,showDownloadButtonInZoomMode:!1,needToUpdateHistoryState:!0,shouldTrackModalShow:!0,scrollContainer:"._modal-container",events:Object.assign({},v.prototype.events,{"click ._back":"onBackBtnClick","click .button-nav-left":"leftNavigation","click .button-nav-right":"rightNavigation"}),globals:{keyup:"onKeyup","scroll window":"scrollWindowToTop","touchmove document":"stopDefaultDocumentEvents","touchstart body":"scrollContainerToTop","touchmove body":"stopCurrentEventPropagation"},initialize:function(){v.prototype.initialize.call(this),this.userPlansManager=new m({fileTypes:[this.model.get("type")]},{app:this.app}),this.shouldHideTitle=d(this.app).shouldHideTitle},prepareRender:function(){var e=this.model.serialize(),i=e.type,n=e.url;if(this.app.observer.fire("ToTopButton:Toggle",{state:!1}),v.prototype.prepareRender.call(this),this.createDesignEnabled=this.canShowCreateDesign(),t.browser&&(window.rc=[0,0,0,0]),this.userPlansManager.set({fileTypes:[i]}),this.isLicenseWizardOpen()){var o=this.onWindowResize.bind(this);this.setViews({"._modal":new w({app:this.app,files:[this.model],onLicenseSuccessCallback:this.onLicenseSuccess.bind(this),clientAfterRender:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];w.prototype.clientAfterRender.apply(this,t),o()}})})}else this.setViews({"._file-view-thumb":new P({viewMode:"modal",model:this.model,collection:this.collection,showDownloadButtonInZoomMode:this.showDownloadButtonInZoomMode,enableListThroughNavigation:this.enableListThroughNavigation,isFirstItem:this.isFirstItem.bind(this),isLastItem:this.isLastItem.bind(this),zoomDownloadCallback:this.zoomDownloadCallback.bind(this),zoomShowCallback:this.zoomShowCallback.bind(this),zoomHideCallback:this.zoomHideCallback.bind(this),zoomLeftCallback:this.zoomLeftCallback.bind(this),zoomRightCallback:this.zoomRightCallback.bind(this),rightEdgeCallback:this.rightEdgeCallback.bind(this),leftEdgeCallback:this.leftEdgeCallback.bind(this),app:this.app,views:this.getThumbViews(n)}),"._find-similar":new y({app:this.app,template:a,file:this.model,iconClassNames:u.classNames({"icon-see-more-videos-light":"video"===i,"icon-see-more-images-light":"video"!==i})}),"._design":this.getCreateDesignView(),"._title":new M({template:s,viewMode:"modal",model:this.model}),"._seller":this.getSellerView(),"._file-view-info":this.getInfoView(),"._download-method-selector":new _({app:this.app,viewMode:"modal",classNames:"download-method_bordered",userPlansManager:this.userPlansManager}),"._file-view-bottom":[new T({app:this.app,model:this.model,onRelatedClickCallback:this.setRelated.bind(this),onChangeTabCallback:this.onChangeBottomTab.bind(this),onRelatedReadyCallback:this.onRelatedReady.bind(this),toggleLoader:this.toggleLoader.bind(this)}),new b({el:!1,template:r,name:"RelatedLoader"})]});this.setupPriceTable()},serialize:function(){return this.classes={"file-view-modal_image-max-thumb":"video"!==this.model.get("type")&&this.app.features.isFeatureOnValue("File View Modal Image Max Thumb"),"file-view-modal_huge-video":this.model.get("hasHugeVideoThumb"),"file-view-modal_wizard":this.isLicenseWizardOpen(),"file-view-modal_lock":this.isAvailableEnterpriseOnly(),"file-view-modal_es":this.app.user.isEnterprise(),"file-view-modal_without-title":this.shouldHideTitle},{file:this.model.serialize(),displayLeftNavigation:this.checkDirection().left,displayRightNavigation:this.checkDirection().right,classNames:u.classNames(this.classes),createDesignEnabled:this.createDesignEnabled,isLicenseWizardOpen:this.isLicenseWizardOpen(),isAvailableEnterpriseOnly:this.isAvailableEnterpriseOnly(),similarUrl:this.model.makeRelatedUrl({relatedTo:"similar"}),fileViewClasses:u.classNames({hidden:this.isLicenseWizardOpen(),"file-view_bg-black":!0,"file-view_has-methods":this.hasMethods(),"file-view_classic":this.app.features.isFeatureOnValue("File View Classic")})}},clientAfterRender:function(){this.shouldTrackModalShow&&this.trackModalShow();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];v.prototype.clientAfterRender.apply(this,t),this.updateFileInfo(),this.afterRenderCallback(this.model.id),this.saveMobileScrollPosition()},show:function(e){void 0===e&&(e={});var t=e.model||this.model;({}).hasOwnProperty.call(e,"shouldTrackModalShow")||(e.shouldTrackModalShow=!0),v.prototype.show.call(this,e),this.storeFileViewModalAsLastViewed&&g.write({itemId:t.id},{app:this.app}),this.needToUpdateHistoryState&&this.updateHistoryState(t.id,e.replaceState),this.app.history.write({route:"FileViewModal"})},hide:function(){return this.updateHistoryState(null,!1),this.app.history.write({route:this.app.router.routeName}),this.isLicenseWizardOpened=!1,this.setMobileScrollPosition(),v.prototype.hide.call(this)},checkDirection:function(){return{left:this.enableListThroughNavigation&&!this.isFirstItem(this.model.id),right:this.enableListThroughNavigation&&!this.isLastItem(this.model.id)}},canNavigate:function(){return"body"===document.activeElement.tagName.toLowerCase()&&!this.zoomModalEnabled},onHideCallback:function(){this.app.observer.fire("ToTopButton:Toggle",{state:!0})},zoomShowCallback:function(e){this.zoomModalEnabled=!0,this.$el.find("._modal").addClass("file-view-modal_hidden"),this.updateHistoryState(e,!1)},zoomHideCallback:function(e){this.zoomModalEnabled=!1,this.$el.find("._modal").removeClass("file-view-modal_hidden"),this.app.observer.broadcast("Track:UE:FileViewModal:Ready",{file:this.model,view:this.name,source:{source:"closeZoom",action:"click",pagetype:"zoom"}}),e&&this.show({model:e,shouldTrackModalShow:!1})},zoomLeftCallback:function(){this.onLeftNavigation()},zoomRightCallback:function(){this.onRightNavigation()},canShowCreateDesign:function(){return this.app.features.isFeatureOnValue("Create Design")&&!this.app.user.isEnterprise()&&"image"===this.model.get("type")&&!this.model.get("editorial")},getCreateDesignView:function(){return this.canShowCreateDesign()?new x({app:this.app,template:l,model:this.model,classNames:u.classNames({"create-design_modal":!0}),iconClassNames:u.classNames({"icon-create-design-light":!0})}):[]},getInfoView:function(){return this.app.features.isFeatureOnValue("File View Classic")?[]:new S({model:this.model,app:this.app,viewMode:"modal"})},setupPriceTable:function(){var e=this,t=this.app.features.isFeatureOnValue("File View Classic");this.setView("._price-table",new C({app:this.app,file:this.model,viewMode:"modal",signUpModalAllowed:this.app.features.isFeatureOnValue("Sign Up Modal after File View Modal download"),userPlansManager:this.userPlansManager,onLicenseBtnClick:this.openLicenseWizard.bind(this),classNames:u.classNames({"price-table-classic_black":!0,"price-table-classic_one-size":this.app.features.isFeatureEnabled("Single pay for multiple sizes",1)}),buttonClassNames:"button-pill button-large-padding",licenseButtonClassNames:"button-pill",footerClassNames:u.classNames({"price-table-classic__footer":t,"price-table-classic__footer_es":this.app.user.isEnterprise()&&t,"price-table-classic__footer_modal":t,"price-table__footer":!t,"price-table__footer_es":this.app.user.isEnterprise()&&!t,"price-table__footer_modal":!t}),onDownloadBegins:function(){document.querySelector(e.scrollContainer).scrollTop=0}}))},setRelated:function(e){var t=this,i=this.findView("ProductsTooltip");this.$("._file-view-container").toggleClass("file-view-video-huge",e.get("hasHugeVideoThumb")),n.each(n.omit(this.views,["._file-view-bottom",""]),function(i){i.model&&i.model.get("id")===e.get("id")||("PriceTable"===i.name?Object.assign(i,{file:e}):Object.assign(i,{model:e}),i.render().promise().then(function(){h.mobileMode()&&t.app.observer.fire("Modal:CheckSize")}))}),g.write({itemId:e.get("id")},{app:this.app}),this.model=e,i&&i.detach(),this.scrollTopOnRelatedClick&&h.mobileMode()&&this.$el.delay(200).animate({scrollTop:0},300,"swing"),this.app.observer.broadcast("Track:UE:FileViewModal:RelatedClick",{file:this.model,view:this.name})},updateFileInfo:function(){this.getView("FileViewBottomModal")&&this.getView("FileViewBottomModal").updateFileInfo(this.model)},openLicenseWizard:function(){return this.isLicenseWizardOpened=!0,this.render()},closeLicenseWizard:function(){return this.isLicenseWizardOpened=!1,this.render()},onLicenseSuccess:function(e,t,i,n){var o=e[0]&&e[0].transaction;if(o){var s=(this.model.get("licensed")||[]).slice();s.push(o),this.model.set({licensed:s})}this.closeLicenseWizard(),this.onLicenseSuccessCallback.call(this,e,t,i,n)},isLicenseWizardOpen:function(){return!!this.isLicenseWizardOpened},hasMethods:function(){return!n.isEmpty(this.userPlansManager.get("available"))},isAvailableEnterpriseOnly:function(){return!this.app.user.isEnterprise()&&this.model.isAvailableEnterpriseOnly()},zoomDownloadCallback:function(e){this.app.user.isLoggedIn()?this.findView("FileViewThumb").showDownloadButtonInZoomMode=!1:this.findView("PriceTable").onDownloadClick(e)},toggleLoader:function(e){this.findView("RelatedLoader").$el.toggleClass("hidden",!e)},trackModalShow:function(){var e=this.findView("PriceTable");this.app.observer.broadcast("Track:UE:FileViewModal:Show",{id:this.model.get("id"),file:this.model.serialize(),userProducts:this.userPlansManager.get("available"),query:this.app.store.get("SearchQuery").get("query")+"-"+this.model.get("id"),sorting:this.app.store.get("SearchQuery").get("sorting"),activeTableRow:e&&e.getActiveTableRowData(),subtype:"total",view:this.name}),this.app.observer.broadcast("Track:UE:FileViewModal:DownloadShow")},onChangeBottomTab:function(){this.onChangeRelatedTabCallback()},onBackBtnClick:function(){this.closeLicenseWizard()},onRelatedReady:function(){!this.zoomModalEnabled&&this.shouldTrackModalShow&&this.app.observer.broadcast("Track:UE:FileViewModal:Ready",{file:this.model,view:this.name}),this.onRelatedReadyCallback()},getSellerView:function(){return this.shouldHideTitle?new S({template:c,model:this.model,app:this.app,viewMode:"modal"}):[]},getThumbViews:function(e){var t={};return this.shouldHideTitle&&(t["._to-page"]=new k({app:this.app,model:this.model,url:e})),t},isFirstItem:function(){return!0},isLastItem:function(){return!0},updateHistoryState:function(){},onLeftNavigation:function(){},onRightNavigation:function(){},afterRenderCallback:function(){},onRelatedReadyCallback:function(){},onLicenseSuccessCallback:function(){},onChangeRelatedTabCallback:function(){},leftEdgeCallback:function(){},rightEdgeCallback:function(){}});Object.assign(O.prototype,p,f),e.exports=O}).call(this,i(17))},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="modal-container modal-container_lock-h-scroll _modal-container"><div class="file-view-modal _modal '+t(e.classNames)+'"><div class="file-view-notice _notice"></div><div class="file-view _file-view-container '+t(e.fileViewClasses)+'"><div class="file-view__title-box _title"></div><div class="file-view__seller-box _seller"></div><div class="file-view__left"><div class="file-view__thumb _file-view-thumb"></div><div class="file-view__links"><div class="file-view__link _find-similar"></div>';return e.createDesignEnabled&&(i+='<div class="file-view__link file-view__link_design _design"></div>'),i+='</div></div><div class="file-view__right"><div class="file-view__info-box _file-view-info"></div><div class="file-view__download-method _download-method-selector"></div><div class="file-view__price-table-wrapper _price-table"></div></div><div class="file-view__bottom-wrapper _file-view-bottom"></div></div>',e.isAvailableEnterpriseOnly&&(i+='<div class="file-view-lock"><div class="file-view-lock__wrap"><div class="file-view-lock__content"><span class="file-view-lock__text">'+this.tr("This file is available under Enterprise account only")+'</span><a class="file-view-lock__link button button-5xl button-watery button-blue" href="'+this.app.makeUrl("enterprise")+'" target="_blank">'+this.tr("Enterprise Solution")+"</a></div></div></div>"),i+='<div class="file-nav">',e.displayLeftNavigation&&(i+='<i class="file-nav__item file-nav__item_left button-nav button-nav-left"></i>'),e.displayRightNavigation&&(i+='<i class="file-nav__item file-nav__item_right button-nav button-nav-right"></i>'),i+='</div><a class="file-view__btn-back _back"><i class="license-wizard__back-arrow icon arrow-back-white _back"></i>'+this.tr("Back")+'</a><div class="file-view__btn-close _close"><i class="icon icon-close-cross icon-close-cross-white"></i></div></div></div>'}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}();return'<h1 class="file-view__title"><a class="file-view__title-link file-view__title-file _title-file" href="'+e.file.url+'">'+t(e.title)+"</a></h1>"}},function(e,t,i){"use strict";e.exports=function(e){return'<div class="file-view__loading hidden _loader"><div class="file-view__loading-icon icon icon-loader"><i class="part-circle1"></i><i class="part-circle2"></i><i class="part-circle3"></i></div></div>'}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}();return'<div class="seller-info"><a class="seller-info__avatar" href="'+e.portfolioLink+'"><img class="avatar avatar-s" src="'+e.avatar+'" alt="'+t(e.file.sellerName)+'"></a><span class="seller-info__copyright">'+this.tr("By")+":"+this.seo.space+'<a class="link-white _portfolio" href="'+e.portfolioLink+'">'+t(e.file.sellerName)+'</a></span><span class="seller-info__id">'+this.tr("ID")+":"+this.seo.space+'<a class="link-white" href="'+e.file.url+'">'+t(e.file.id)+"</a></span></div>"}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}();return'<div class="download-method '+t(e.classNames)+'"><div class="download-method__method _methods"><i class="download-method__icon download-method__icon_'+t(e.type)+'"></i><span class="download-method__title">'+this.tr("Download Using")+':</span><span class="download-method__description">'+this.tr(e.baseLabel)+" "+t(e.serialIndex||"")+'<input class="download-method__radio" type="radio" name="method" value="'+t(e.type)+'" /></span><i class="download-method__arrow arrow _arrow"></i></div><div class="download-method__products-box _mobile-products"></div></div>'}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div id="'+t(e.id)+'" class="tooltip tooltip_type-'+t(e.type)+" _tooltip "+t(e.classes)+'">';return e.pointerShow&&(i+='<i class="tooltip__pointer _pointer"></i>'),i+='<div class="tooltip__content _content"></div></div>'}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){return'<div class="user-plans-list _list"></div>'}},function(e,t,i){"use strict";e.exports=function(e){return'<a class="user-plans-list__item" href="'+this.app.makeUrl("request_earnings")+'"><span class="user-plans-list__title">'+this.tr("Earned Money")+'</span><span class="user-plans-list__text">'+this.tr("Balance: $<b>%s</b>",e.balance)+'</span><i class="user-plans-list__icon icon icon-earned-money"></i></a>'}},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=i(0),r=i(71),a=i(1021),l=i(1022),c=i(1467),d=i(1478),u=i(1479),h=i(1299),p=i(1481),f=i(1482),m=i(646),g=i(539);e.exports={additionalEvents:{"mouseenter ._rebill-help":"showRebillHelpTooltip","mouseleave ._rebill-help":"hideRebillHelpTooltip","mouseenter ._rebill-discount":"showRebillDiscountTooltip","mouseleave ._rebill-discount":"hideRebillDiscountTooltip",'change [name="rebill-checkbox"]':"handleRebillCheckboxChange","click ._switcher-disabled":"handleDisabledSwitcherClick","click ._settings":"handleSettingsClick","click ._card":"handleCardClick"},initRebillProduct:function(){if(this.shouldShowCard()&&this.getRebillCard()&&this.setView("._card",new a({app:this.app,model:this.getRebillCard(),mode:"view",size:"small"})),this.shouldEnableRebill()){this.removeView("rebillTooltip");var e=new d({app:this.app,model:this.model});"subscription"===this.model.get("type")&&this.model.isInstallment()&&(e=new u({app:this.app})),this.setView("rebillTooltip",e)}this.model.get("rebill").get("discount")?(this.removeView("rebillDiscountTooltip"),this.setView("rebillDiscountTooltip",new h({app:this.app,model:this.model}))):this.getView("rebillTooltip")&&(this.getView("rebillTooltip").params.templatePosition="rt")},initRebillManager:function(){this.rebillManager||(this.rebillManager=new l({app:this.app}))},initProductCardEditor:function(e){var t=this,i="enable"===e?this.app.store.get("CreditCards").first():this.getRebillCard();return this.setView("._editor",new c({app:this.app,model:i,countries:this.countries,userGroupInfo:this.userGroupInfo,onClose:this.onEditorClose.bind(this),onCardEditSuccess:function(i){return t.processRebill(e,i)}}))},getAdditionalSerializeParams:function(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},this.serializeParams,{isRebillEnabled:this.shouldEnableRebill(),rebillTitle:s.result(this,"getRebillTitle")||this.tr("Auto-Renewal"),product:this.model.serialize(),switcher:this.getRebillSwitcherData(),isSettingsOpened:this.isSettingsOpened,shouldShowCard:this.shouldShowCard()})},getRebillSwitcherData:function(){var e=this.model.get("rebill");return{checked:e&&e.get("enabled"),disabled:!e||!e.get("editable"),className:"product-item__switcher switcher_red",name:"rebill-checkbox"}},getRebillCard:function(){return this.app.store.get("CreditCards")?this.app.store.get("CreditCards").get(this.model.get("rebill").get("cardId")):null},enableRebill:function(){this.shouldEnableRebill()||this.initProductCardEditor("enable").open()},updateRebillCard:function(){this.shouldEnableRebill()&&this.initProductCardEditor("update").open()},disableRebill:function(){var e=this;this.shouldEnableRebill()?this.insertView("AutoRenewalModal",new p({app:this.app,onHideCallback:function(){return e.onRebillDisablingCancel()}})).show().then(function(){return e.processRebill("disable",e.getRebillCard())}):this.shouldShowCardEditor()&&this.getView("._editor").close()},processRebill:function(e,t){var i=this;"enable"===e?this.saveRebillState(t,!0).then(function(e){return i.onProductRebillChange({result:e,card:t,visibility:!0})}):"update"===e?this.saveRebillState(t,!0).then(function(e){return i.onProductRebillChange({result:e,card:t,visibility:!0})}):"disable"===e&&this.saveRebillState(t,!1).then(function(e){return i.onProductRebillChange({result:e,card:t,visibility:!1})}).catch(function(){return i.onRebillDisablingCancel()})},redirectToDisable:function(e){var t=e.type;t&&this.app.router.redirect(this.app.makeUrl({route:"Autorenewal",step:"status",type:t,transactionId:this.model.get("id")}))},shouldBePossibleRebill:function(e,t){var i=e.type,n=e.rebill.purchaseMethod,o=["subscription"];return this.app.features.isFeatureOnValue("Cancellation Feedback for Membership")&&o.push("membership"),!o.includes(i)||t||!r.billings.list.includes(n)},saveRebillState:function(e,t){var i=this;return new Promise(function(n,o){var s=e?+e.get("id"):null;if(i.shouldBePossibleRebill(i.model.serialize(),t))i.initRebillManager(),i.rebillManager.save({cardId:s,productId:parseInt(i.model.get("id"),10),productType:i.model.get("type"),rebillState:t},{success:function(e,r){r.errors&&r.errors.length?(i.showErrorModal(r.errors),o()):(n({cardId:s,enabled:e.get("rebillState")}),i.app.observer.broadcast("Track:UE:Autorenewal:Rebill",{status:t}))}});else{var r=i.model.get("type");["subscription","membership"].includes(r)&&i.redirectToDisable({type:r})}})},showErrorModal:function(e){var t=m.parse(this.app,e);new g({app:this.app,title:this.tr("Error"),message:s.first(t).message}).show()},showUnableAutoRenewalModal:function(){this.insertView("UnableAutoRenewalModal",new f({app:this.app,rebillInfo:this.model.get("rebill"),product:this.model})).show()},showRebillHelpTooltip:function(e){this.getView("rebillTooltip").show(e)},hideRebillHelpTooltip:function(e){this.getView("rebillTooltip").hide(e)},showRebillDiscountTooltip:function(e){this.getView("rebillDiscountTooltip").show(e)},hideRebillDiscountTooltip:function(e){this.getView("rebillDiscountTooltip").hide(e)},shouldShowCard:function(){var e=this.model.get("rebill");return e&&e.get("possible")&&e.get("enabled")&&e.get("editable")},shouldShowCardEditor:function(){return this.getView("._editor")&&this.getView("._editor").isOpened()},shouldEnableRebill:function(){var e=this.model.get("rebill");return e&&e.get("possible")&&e.get("enabled")},handleRebillCheckboxChange:function(e){e.currentTarget.checked?this.enableRebill():this.disableRebill()},handleSettingsClick:function(){this.toggleSettings()},handleCardClick:function(){this.getView("._editor")?this.getView("._editor").close():this.updateRebillCard()},onEditorClose:function(){this.model.get("rebill").get("enabled")||this.$('[name="rebill-checkbox"]').attr({checked:!1})},onRebillDisablingCancel:function(){this.$('[name="rebill-checkbox"]').click()},handleDisabledSwitcherClick:function(e){e.preventDefault();var t=this.model.get("rebill");t.get("enabled")&&!t.get("editable")&&this.showUnableAutoRenewalModal()},onProductRebillChange:function(e){var t=e.result,i=e.card,n=e.visibility;this.model.get("rebill").set(t),this.app.store.get("CreditCards").add(i,{merge:!0}),this.getView("._editor")&&this.getView("._editor").close(),this.toggleVisibility(n)},toggleSettings:function(){var e=this,t=this.$(".product-item__rebill-block, .product-item__card-holder"),i=!this.isSettingsOpened,n=function(i){t[i?"slideDown":"slideUp"](500,function(){t.removeClass("product-item__rebill-block_hidden")}),e.$("._settings .arrow").removeClass("arrow-top, arrow-bottom").addClass(i?"arrow-top":"arrow-bottom"),e.$el.toggleClass("product-item__rebill-detailed",i)};!i&&this.shouldShowCardEditor()?this.getView("._editor").close().then(function(){return n(i)}):n(i),this.isSettingsOpened=i},toggleVisibility:function(e){var t=this;this.$el.slideUp(500,function(){t.isSettingsOpened=e,t.render().promise().then(function(){t.$el.slideDown(500).addClass("product-item__rebill-detailed")})})}}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="card-box '+t(e.classes)+'" data-count-number="'+t(e.numberLength)+'"><i class="card-box__type-icon"></i><span class="card-box__number">',n=e.model.labels.number;if(n)for(var o=-1,s=n.length-1;o<s;)i+='<span class="card-box__symbol" data-value="'+t(a=n[o+=1])+'">'+t(a)+"</span>";i+='</span><span class="card-box__expired">';var r=e.model.labels.expire;if(r)for(var a,l=-1,c=r.length-1;l<c;)i+='<span class="card-box__symbol card-box__symbol_exp" data-value="'+t(a=r[l+=1])+'">'+t(a)+"</span>";return i+='</span><span class="card-box__valid">valid thru</span><span class="card-box__cvv"></span><span class="card-box__backside"><i class="card-box__magnetic-stripe"></i><span class="card-box__cvc-title">CVV/CVC</span><span class="card-box__cvc-value">'+e.model.labels.cvv+"</span></span></div>"}},function(e,t,i){"use strict";var n=i(2),o=i(805),s=i(1292),r=i(1023);e.exports=s.extend({getMerchantForm:function(){var e=this.model.get("id")?{id:this.model.get("id"),expiryMonth:this.model.get("expiryMonth"),expiryYear:this.model.get("expiryYear"),billingName:this.model.get("billingName")}:{expiryMonth:1,expiryYear:+n().format("YY")};return new r({app:this.app,classNames:"merchant-form_compact",model:new o(e,{app:this.app}),submit:function(){if(this.getView("._merchant-card-manager").useSavedState)this.onSuccessFormSubmit(this.getView("._merchant-card-manager").getActiveCard());else{for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.prototype.submit.apply(this,t)}},useSaved:this.app.store.get("CreditCards").length,savedCards:this.app.store.get("CreditCards"),formId:this.cid,onStartFormSubmit:this.onStartMerchantSubmit.bind(this),onFinishFormSubmit:this.onFinishMerchantSubmit.bind(this),onSuccessFormSubmit:this.onSuccessMerchantSubmit.bind(this),onCardChangeCallback:this.onMerchantModelChangeCallback.bind(this),onModelExternalError:this.onMerchantExternalError.bind(this)})},onSuccessMerchantSubmit:function(e,t){this.onCardEditSuccess(e,t)}})},function(e,t,i){"use strict";e.exports.detect=function(e){if(!e)return null;var t=(""+e).replace(/\s/g,"");return t.match(/^(4026|417500|4405|4508|4844|4913|4917)/)?"visa-electron":t.match(/^4/)?"visa":t.match(/^5[1-5]/)?"mastercard":t.match(/^3[47]/)?"american-express":t.match(/^6(?:011|5)/)?"discover":t.match(/^(?:2131|1800|35)/)?"jcb":t.match(/^3(?:0[0-5]|[68])/)?"diners-club":t.match(/^5018|5020|5038|5893|6304|67(59|61|62|63)|0604/)?"maestro":null}},function(e,t,i){"use strict";e.exports=function(e){return'<div class="cards-list__editor card-editor"><div class="cards-list__editor_inner _inner"><div class="card-editor__top"><div class="card-editor__left _card"></div><div class="card-editor__right _form"></div></div><div class="card-editor__bottom"><button class="card-editor__button button button-blue button-xl _submit" type="submit" form="'+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}())(e.formId)+'">'+this.tr("Save Information")+'</button><button class="card-editor__button button button-white button-xl _close">'+this.tr("Cancel")+'</button></div><i class="card-editor__close icon icon-close-cross _close"></i></div><div class="_billing-address-editor"></div></div>'}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}();return'<form id="'+t(e.formId)+'" class="'+t(e.classNames)+' merchant-form"><div class="merhcant-form_inner _merchant-card-manager"></div></form>'}},function(e,t,i){"use strict";e.exports=function(e){return"<div>"+this.tr("The information transfer is secured and verified by SSL 256 bit certificate issued by Â Comodo. Web site fully satisfies the security standards of Visa and Mastercard (PCI compliance). Security is also confirmed by TRUSTe.")+"</div>"}},function(e,t,i){"use strict";e.exports=function(e){return'<div class="tooltip-cvv-info"><p class="tooltip__pg">'+this.tr("The security code for Visa, MasterCard, JCB and Discover credit cards consists of 3 digits printed on the back of your credit card.")+'</p><img class="tooltip-cvv-info__img" src="'+this.app.cdnPath+'_img/cvv-example-1.jpg" /><p class="tooltip__pg">'+this.tr("The security code for the American Express card consists of 4 digits printed on the front of your credit card.")+'</p><img class="tooltip-cvv-info__img" src="'+this.app.cdnPath+'_img/cvv-example-2.jpg" /></div>'}},function(e,t){e.exports="/_img/cvv-example-1.jpg?72fab4c1683e6578b8c039aeeec8b46e"},function(e,t){e.exports="/_img/cvv-example-2.jpg?5d4bf852898e0081bfb6860d1454862c"},function(e,t,i){"use strict";var n=i(65),o=i(539);e.exports=o.extend({name:"CardConfirmation",initialize:function(){for(var e=this,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];o.prototype.initialize.apply(this,i),this.title=n.CardConfirmation,this.message=this.tr(n.CardConfirmationMessage),this.footer=[{label:n.CancelBtn,hide:!0,callback:function(){return e.def.reject(e)}},{label:n.ConfirmBtn,hide:!0,color:"blue",defaultAction:!0,callback:function(){return e.def.resolve(e)}}]}})},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="billing-address-editor"><div class="billing-address-editor__wrapper"><form class="billing-address-form _form" method="POST"><i class="billing-address-form__close-btn icon-close-cross _close-btn"></i><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="firstName" value="'+t(e.userInfo.firstName)+'" placeholder="'+this.tr("First Name")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="lastName" value="'+t(e.userInfo.lastName)+'" placeholder="'+this.tr("Last Name")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl _phone"><input class="input input-xl" type="text" name="phone" value="'+t(e.userInfo.phone)+'" placeholder="'+this.tr("Phone Number")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl"><input data-capitalize class="input input-xl" type="text" name="address" value="'+t(e.userInfo.address)+'" placeholder="'+this.tr("Address")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl billing-address-form__field-city"><input data-capitalize class="input input-xl" type="text" name="city" value="'+t(e.userInfo.city)+'" placeholder="'+this.tr("City")+'" /></div><div class="billing-address-form__field field-box input-box input-box-xl billing-address-form__field-zip"><input class="input input-xl" type="text" name="zip" value="'+t(e.userInfo.zip)+'" placeholder="'+this.tr("Zip/Postal Code")+'" /></div><div class="billing-address-form__field field-box select-box select-box-xl"><select class="select select-xl" name="country">',n=e.countries;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<option value="'+t((o=n[s+=1]).code)+'"',o.code===e.userInfo.country&&(i+=" selected"),i+=">"+t(o.title)+"</option>";return i+='</select><i class="arrow arrow-black arrow-bottom"></i></div><button class="billing-address-form__submit button button-xxl button-blue" type="submit">'+this.tr("Save Information")+"</button></form></div></div>"}},function(e,t,i){"use strict";var n=i(2),o=i(498),s=i(16),r=i(496),a=i(497);e.exports=a.extend({name:"ProductRebillTooltip",params:o.RebillProduct,prepareContent:function(){var e=this;this.content=new r({template:function(){return e.getRebillLabel()}})},getRebillLabel:function(){var e=this.model.get("type"),t="credits"===e?"ondemand":e,i=s.productRebillLabel.find(function(e){return e.key===t}).label;switch(e){case"subscription":case"membership":return this.tr(i,n.unix(this.model.get("expires")).diff(n(),"d"));default:return this.tr(i)}}})},function(e,t,i){"use strict";var n=i(498),o=i(1298),s=i(496),r=i(497);e.exports=r.extend({name:"ProductInstallmentRebillTooltip",params:n.RebillProduct,prepareContent:function(){this.content=new s({template:o})}})},function(e,t,i){"use strict";e.exports=function(e){var t='<div class="rebill-tooltip">';return e.product.rebill.discount>0&&(t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("A %s discount on your current plan's future renewals has been successfully activated.",[e.product.rebill.discount+"%"])+"</div>"),"membership"===e.product.type&&e.product.rollover&&(t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("While you keep the auto-renewal <b>turned ON</b> your downloads newer expire and transfer month to month.")+"</div>"),t+='<div class="rebill-tooltip__item"><i class="rebill-tooltip__icon icon icon-ok-big"></i>'+this.tr("Your planâs price protected for %s-month and will not change until <b>%s</b>",[24,e.expiresDate])+"</div></div>"}},function(e,t,i){"use strict";i(1024);var n=i(65),o=i(539);e.exports=o.extend({name:"AutoRenewal",el:!1,initialize:function(e){var t=this;o.prototype.initialize.apply(this,e),this.title=this.tr("Auto-Renewal"),this.message=function(){return t.tr("Do you really want to cancel the auto-renewal?")},this.footer=[{label:n.CancelBtn,hide:!0,callback:function(){return t.def.reject(t)}},{label:n.YesIDoBtn,hide:!0,color:"blue",defaultAction:!0,callback:function(){return t.def.resolve(t)}}]}})},function(e,t,i){"use strict";var n=i(1483),o=i(1298),s=i(65),r=i(16),a=i(496),l=i(539);e.exports=l.extend({name:"AutoRenewalCancel",el:!1,title:s.AutoRenewalCancelTitle,destroyOnHide:!0,rebillInfo:null,product:null,initialize:function(){var e=this;this.body=function(){return new a({el:!1,template:n,serialize:function(){return{username:e.app.user.getFullName(),showSupportMessage:!e.product.isInstallment()}},views:{"._message":new a({el:!1,template:e.getTemplate()})}})},this.footer=[{label:s.OkBtn,color:"blue",hide:!0,defaultAction:!0}],this.rebillInfo&&this.getBillingServiceInfo()&&this.footer.unshift({label:this.getBillingLabel(),hide:!0,color:"blue",callback:function(){return e.redirectToBillingService()}})},getTemplate:function(){return this.product.isInstallment()?o:this.rebillInfo.get("isOwner")?"<span>"+s.AutoRenewalCancelMessage+"</span>":"<span>"+this.tr("The auto-renewal of this plan is controlled by Administrator of your account.")+"</span>"},getBillingServiceInfo:function(){var e=this;return r.billingServicesLinks.find(function(t){return t.key===e.rebillInfo.get("purchaseMethod")})},getBillingLabel:function(){var e=this.getBillingServiceInfo();return e?e.label:null},redirectToBillingService:function(){this.app.router.redirect(this.rebillInfo.get("billingServiceLink")||this.app.makeUrl(this.rebillInfo.get("purchaseMethod")))}})},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="auto-renewal-cancel-modal"><p><b>'+this.tr("Dear")+" "+t(e.username)+'!</b></p><p class="_message"></p>';return e.showSupportMessage&&(i+="<p>"+this.tr('In case you have any further questions or problems canceling the automatic renewal of your plan, please feel free to contact our <a class="%s" href="%s">support service</a>.',["link-blue",this.app.makeUrl("contact_us")])),i+="</div>"}},function(e,t,i){"use strict";i(1485);var n=i(1486),o=i(16),s=i(0),r=i(2),a=i(496);e.exports=a.extend({el:!1,template:n,serialize:function(){return{isRenew:this.app.user.get("isSubaccount")&&!this.product.owner,isStatusVisible:this.isStatusVisible(),status:this.getRechargeStatus(),labels:{renew:this.getRenewLabel(),status:this.getStatusLabel(),info:this.getInfoLabel()}}},isStatusVisible:function(){var e=this.getRechargeStatus();return"wait"===e||"fail"===e},getRenewLabel:function(e){var t,i;if(void 0===e&&(e=this.product),1===e.buy_period){t="daily";var n=r.duration(r.unix(e.renewal).valueOf());i=[n.hours(),n.minutes()]}else t="monthly",i=r.duration(r.unix(e.renewal).valueOf()).days();var a=s.findWhere(o.subscriptionsRenewLabels,{period:t,type:"renew"}).label.trim();return this.tr(a,i)},getRechargeStatus:function(){return this.app.user.get("subscriptionRechargeInfo")&&this.app.user.get("subscriptionRechargeInfo").status||""},getStatusLabel:function(){return this.isStatusVisible()?this.tr(s.findWhere(o.subscriptionsRenewLabels,{type:"status",value:this.getRechargeStatus()}).label.trim()):""},getInfoLabel:function(e){return void 0===e&&(e=this.product),this.tr(s.findWhere(o.subscriptionsRenewLabels,{period:1===e.buy_period?"daily":"monthly",type:"info"}).label.trim())}})},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t='<div class="subscription-renew"><p class="subscription-renew__row';return e.isRenew&&(t+=" subscription-renew__row_green"),t+='"><b>'+e.labels.renew+"</b></p>",e.isStatusVisible&&(t+='<p class="subscription-renew__row',"wait"===e.status&&(t+=" subscription-renew__row_red"),"fail"===e.status&&(t+=" subscription-renew__row_orange"),t+='">'+e.labels.status+"</p>"),t+='<p class="subscription-renew__row_last"><b>'+this.tr("Note")+": </b>"+e.labels.info+"</p></div>"}},function(e,t,i){"use strict";var n=i(0),o=i(16),s=i(1488),r=i(496);e.exports=r.extend({el:!1,template:s,serialize:function(){return{labels:{base:this.tr(n.findWhere(o.subscriptionExpiredLabels,{type:"base"}).label.trim()),info:this.tr(n.findWhere(o.subscriptionExpiredLabels,{type:"info",period:this.product.buy_period}).label.trim())}}}})},function(e,t,i){"use strict";e.exports=function(e){return'<div class="subscription-rebill base"><p class="subscription-rebill__row"><b>'+e.labels.base+'</b></p><p class="subscription-rebill__row_last">'+e.labels.info+"</p></div>"}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="modal-container"><div class="modal refill-membership-modal _modal"><div class="modal__dialog"><div class="refill-membership-modal__header _drag-handler"><i class="refill-membership-modal__close icon icon-close-cross _close"></i></div><div class="refill-membership-modal__body _body">\x3c!--body mount--\x3e</div>';if(e.footer.length){i+='<div class="refill-membership-modal__footer _footer">';var n=e.footer;if(n)for(var o=-1,s=n.length-1;o<s;)n[o+=1],i+='<button class="_btn refill-membership-modal__footer-btn button button-blue',e.discount&&(i+=" button-has-discount"),i+=' button-xxl button-upper plan-constructor__buy"',e.discount&&(i+=' data-discount="-'+t(e.discount)+'%"'),i+=">"+this.tr("BUY DOWNLOADS")+"</button>";i+="</div>"}return i+="</div></div></div>"}},function(e,t,i){"use strict";i(1304);var n=i(0),o=i(2),s=i(541),r=i(7),a=i(498),l=i(542),c=i(68).captchaErrors,d=i(1492),u=i(1493),h=i(557),p=i(497),f=i(724),m=i(1497),g=i(999),b=i(1305),v=i(1306),_=i(805),w=i(646),y=i(722),x=".g-recaptcha-response",C=n.range(1,13);e.exports=h.extend({name:"RefillMembershipForm",el:!1,template:d,type:"notAvailable",openedPriceBox:!1,events:{"change ._plan-downloads":"onChangeActiveOffer","click ._cards":"onCardsClick","click ._add":"onAddClick","click ._back":"onBackClick","click ._price-info":"onPriceInfoClick"},initialize:function(){this.model=new v({},{app:this.app}),this.cardModel=this.model.get("card"),this.injectUserFields(),this.listenTo(this.app.user,"sync",this.render),this.listenTo(this.model,{request:this.handleModelRequest,sync:this.handleModelSync,error:this.handleModelError}),this.listenTo(this.app.user.get("taxHelper"),"change:name change:rate",this.render),this.recalculateTax()},prepareRender:function(){this.removeView("._merchant-card-manager"),this.addNewCard&&this.setView("._merchant-card-manager",new g({app:this.app,template:u,classNames:"merchant-manager_large",onModelChangeCallback:this.onCardChangeCallback.bind(this)})),this.app.user.isTaxEnabled()&&this.app.user.get("taxHelper").isVat()&&this.setView("._vat",new f({app:this.app,canClose:!0,fieldPlaceholder:this.tr("VAT registration")}))},serialize:function(){var e=this.collection.serializeLikeOffers();return{label:n.findWhere([{key:"notAvailable",label:this.tr("You are out of downloads on your plan! Do you want to buy more?")},{key:"purchased",label:this.tr("You already purchased this plan. Do you want to buy more downloads?")},{key:"buyMore",label:this.tr("Please select how many downloads you would like to buy:")}],{key:this.type}).label,user:this.app.user.serialize(),offers:e,currentCurrency:this.app.currency.get("active").get("name"),backUrl:this.backUrl,card:this.getCard(),cards:this.cards.serialize(),addNewCard:this.addNewCard,openedPriceBox:this.openedPriceBox,captcha:{siteKey:r.client.recaptcha.publicKey}}},clientAfterRender:function(){this.hasLoading||(this.hasLoading=!0,this.loading(!0)),this.removeView("CardsTooltip"),this.setNotExistView("CardsTooltip",p,{name:"CardsTooltip",keep:!0,params:a.Cards,content:new m({app:this.app,collection:this.cards,currentCard:this.cardModel,changeCardCallback:this.changeCardCallback.bind(this),addCardCallback:this.addCardCallback.bind(this)})}),this.addNewCard&&this.$("._cardPan").trigger("focus")},recalculateTax:function(e){void 0===e&&(e=this.cardModel),e&&this.app.user.get("taxHelper").calculateTax(e)},submitForm:function(){this.addNewCard||this.cards&&this.cards.length?(this.prepareSubmit(),this.validate()&&this.submit()):this.addCardCallback()},prepareSubmit:function(){this.model.set({card:this.cardModel,product:this.getPlan(),captcha:this.getCaptchaValue()}),this.resetErrors()},validate:function(){return this.isManagerAvailable()?this.getView("._merchant-card-manager").validate():!(this.$(x).length&&!this.$(x).val())||(this.fieldIncorrect(this.$("._captcha").parent(),{errorMessage:"Please check the ReCaptcha check box."}),!1)},submit:function(){this.model.save({},{validate:!1,parse:!0})},handleModelRequest:function(){this.isManagerAvailable()&&this.getView("._merchant-card-manager").resetCaptchaError(),this.onRequestCallback()},handleModelSync:function(e,t){this.onSyncCallback(),t.errors?this.resetCaptcha():this.doAfterPurchase()},showCaptcha:function(){var e=this;this.isManagerAvailable()?this.getView("._merchant-card-manager").showCaptcha():y.injectScript().then(function(){return y.render(e.$("._captcha")[0])})},resetCaptcha:function(){this.isManagerAvailable()?this.getView("._merchant-card-manager").resetCaptcha():this.$(x).length&&y.reset(this.$(x))},getCaptchaValue:function(){return this.isManagerAvailable()?this.getView("._merchant-card-manager").getCaptchaValue():this.$(x).length?this.$(x).val():""},handleModelError:function(e,t){var i=this,o=w.parse(this.app,t.errors);n.each(o,function(e){var t=e.code,n=(e.field,e.message);Object.values(c).includes(t)?i.$(x).length?i.resetCaptcha():i.showCaptcha():w.isPaymentFailureError(t)?new b({app:i.app}).show():i.fieldIncorrect(i.$("._errorHolder"),{errorMessage:n})})},resetErrors:function(){this.fieldReset(this.$("._errorHolder"))},doAfterPurchase:function(){this.onSuccessCallback(),this.app.user.fetch(),this.app.observer.broadcast("Track:UE:Billing:UserBoughtProduct",{paymentSystem:this.app.user.get("billingName")})},onChangeActiveOffer:function(e){this.changeActiveOfferCallback(parseInt(e.currentTarget.value,10)),this.app.observer.broadcast("Track:UE:Billing:FlexDownloadPlanClick",{number:e.currentTarget.getAttribute("data-count")})},onCardsClick:function(e){this.cards&&this.cards.length?this.getView("CardsTooltip").toggle(e):this.addCardCallback()},onAddClick:function(e){this.addCardCallback(),this.app.observer.broadcast("Track:UE:Billing:FlexDownloadAddCardClick")},onBackClick:function(){this.addNewCard=!1,this.setCurrentCard(),this.render()},onPriceInfoClick:function(){this.openedPriceBox=!this.openedPriceBox,this.$("._price-info").toggleClass("active"),this.$("._price-info-box").toggleClass("active")},injectUserFields:function(){this.model.set(n(this.app.user.toProfileJSON()).pick(n.keys(this.model.defaults)))},isManagerAvailable:function(){return this.addNewCard},loading:function(e){this.spinner||(this.spinner=new s(l.spinner)),this.spinner[e?"spin":"stop"](this.$("._wrap").get(0)),this.$("._wrap").toggleClass("loading",e)},getPlan:function(){var e=this.$("._plan-downloads").filter(":checked").val(),t=this.collection.findWhere({subscription_offer_id:e});return t?n.extend({id:e},t.toJSON()):null},getCard:function(){return this.cardModel.isNew()&&!this.addNewCard&&this.setCurrentCard(),this.cardModel.isNew()?null:this.cardModel.serialize()},setCurrentCard:function(e){e?(this.cardModel=e,this.render()):this.cardModel=!this.addNewCard&&this.cards&&this.cards.length?this.cards.first():new _({expiryMonth:n.first(C),expiryYear:+o().format("YY")},{app:this.app})},changeCardCallback:function(e){this.setCurrentCard(this.cards.get(parseInt(e,10))),this.recalculateTax(),this.getView("CardsTooltip").hide()},addCardCallback:function(){this.addNewCard=!0,this.setCurrentCard(),this.render()},onCardChangeCallback:function(e){this.cardModel.set({pan:e.get("pan"),number:e.get("number")&&e.get("number").length?e.get("number"):this.model.get("number"),expiryMonth:e.get("expiryMonth"),expiryYear:e.get("expiryYear"),cvv:e.get("cvv")&&e.get("cvv").length?e.get("cvv"):this.model.defaults.cvv})},changeActiveOfferCallback:function(){},onRequestCallback:function(){},onSyncCallback:function(){},onSuccessCallback:function(){}})},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<form class="refill-membership-form" method="GET" action="'+this.app.makeUrl("subscribe/billing")+'"><input type="hidden" name="backURL[page]" value="'+t(e.backUrl)+'" /><input type="hidden" name="product" value="flex_download" /><input type="hidden" name="type" value="monthly" />';e.addNewCard&&(i+='<span class="refill-membership-form__back _back"><i class="refill-membership-form__back-arrow arrow-back"></i><i class="refill-membership-form__back-arrow refill-membership-form__back-arrow_hover arrow-back-dark"></i>'+this.tr("Back")+"</span>"),i+='<div class="refill-membership-form__add-card ',e.addNewCard||(i+=" hidden"),i+='"><span class="refill-membership-form__title">'+this.tr("Add Credit Card")+'</span><span class="refill-membership-form__text">'+this.tr("Please enter your card details by using the form below")+'</span><div class="_merchant-card-manager"></div></div><div class="refill-membership-form__wrap _wrap',e.addNewCard&&(i+=" hidden"),i+='"><span class="refill-membership-form__text">'+this.tr(e.label)+'</span><span class="refill-membership-form__tabs-title">'+this.tr("Downloads")+'</span><div class="refill-membership-form__tabs-box cmp-tabs cmp-tabs_radio cmp-tabs_big">';var n=e.offers;if(n)for(var o=-1,s=n.length-1;o<s;)i+='<label class="refill-membership-form__tab cmp-tabs__tab"><input class="cmp-tabs__radio _plan-downloads" type="radio" name="id"value="'+t((a=n[o+=1]).offerID)+'"',a.checked&&(i+=' checked="checked"'),i+='data-count="'+t(a.count)+'" /><span class="cmp-tabs__label">'+t(a.count)+"</span></label>";i+="</div>";var r=e.offers;if(r)for(var a,l=-1,c=r.length-1;l<c;)(a=r[l+=1]).checked&&(i+='<div class="refill-membership-form__price',a.prices.taxEnabled&&(i+=" refill-membership-form__price_vat _price-info"),e.openedPriceBox&&(i+=" active"),i+='"><span class="refill-membership-form__price-title">'+this.tr("Price")+':</span><span class="refill-membership-form__price-value">'+a.prices.full+"</span>",a.prices.taxEnabled&&(i+='<span class="refill-membership-form__price-sep">|</span><span class="refill-membership-form__price-vat">'+t(e.user.taxHelper.name)+" "+a.prices.taxRate+'%</span><i class="refill-membership-form__arrow arrow arrow-bottom"></i><i class="refill-membership-form__arrow refill-membership-form__arrow_active arrow arrow-top"></i>'),i+="</div>",a.prices.taxEnabled&&(i+='<div class="refill-membership-form__price-info _price-info-box',e.openedPriceBox&&(i+=" active"),i+='"><div class="refill-membership-form__vat _vat"></div><div class="refill-membership-form__price-table"><div class="refill-membership-form__price-row"><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box">'+this.tr("Subtotal")+':</div></div><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box"><div class="refill-membership-form__price-start',a.prices.discounted&&(i+=" refill-membership-form__price-start_discounted"),i+='">'+a.prices.start+"</div>",a.prices.discounted&&(i+='<div class="refill-membership-form__price-discounted">'+a.prices.discounted+"</div>"),i+='</div></div></div><div class="refill-membership-form__price-row"><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box">'+t(e.user.taxHelper.name)+" ("+a.prices.taxRate+'%):</div></div><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box">'+a.prices.tax+'</div></div></div><div class="refill-membership-form__price-row"><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box">'+this.tr("Total:")+'</div></div><div class="refill-membership-form__price-cell"><div class="refill-membership-form__price-cell-box">'+a.prices.full+"</div></div></div></div></div>"));return i+='<div class="refill-membership-form__cards"><div class="refill-cards _cards',e.cards.length||(i+=" _add"),i+='"><span class="refill-cards__title">'+this.tr("Purchase using:")+"</span>",e.card?(e.card.type&&e.card.type.length&&(i+='<i class="refill-cards__type refill-cards__type_'+t(e.card.type)+'"></i>'),i+='<span class="refill-cards__number">'+t(e.card.labels.number)+"</span>",e.cards.length>0&&(i+='<i class="refill-cards__arrow arrow arrow-bottom arrow-block-1"></i>')):i+='<span class="refill-cards__add">'+this.tr("Add Credit Card")+"</span>",i+='</div></div><div class="refill-membership-form__captcha"><div class="g-recaptcha _captcha" data-sitekey="'+t(e.captcha.siteKey)+'"></div></div>',e.addNewCard||(i+='<div class="refill-membership-form__error _errorHolder"><div class="field-box"></div></div>'),i+="</div></form>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="merchant-manager '+t(e.classNames)+'"><div class="merchant-manager_fields"><div class="merchant-manager__item"><label class="merchant-manager__field merchant-manager__field_number field-box input-box input-box-xxxl"><i class="merchant-manager__icon-lock field-box__right-elem icon icon-lock-green _lock"></i><input type="hidden" name="cardId" value="'+t(e.attributes.cardId)+'" /><input class="input input-xxxl _cardPan" type="text" name="pan" maxlength="27"value="" autofocus placeholder="'+this.tr("Credit Card Number")+'" /></label></div><div class="merchant-manager__item merchant-manager__item_exp"><div class="merchant-manager__field merchant-manager__field_exp field-box select-box select-box-xxxl"><select class="select select-xxxl _expiryMonth" name="expiryMonth">',n=e.expiration.months;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<option value="'+t(o=n[s+=1])+'"',e.attributes.expiryMonth===o&&(i+=" selected"),i+=">"+t(o)+"</option>";i+='</select><i class="arrow arrow-black arrow-bottom"></i></div><span class="merchant-manager__exp-sep">/</span><div class="merchant-manager__field merchant-manager__field_exp field-box select-box select-box-xxxl"><select class="select select-xxxl _expiryYear" name="expiryYear">';var a=e.expiration.years;if(a)for(var l,c=-1,d=a.length-1;c<d;)i+='<option value="'+t(l=a[c+=1])+'"',e.attributes.expiryYear===l&&(i+=" selected"),i+=">20"+t(l)+"</option>";return i+='</select><i class="arrow arrow-black arrow-bottom"></i></div></div><div class="merchant-manager__item merchant-manager__item_cvv"><label class="merchant-manager__field merchant-manager__field_cvv field-box input-box input-box-xxxl"><input class="input input-xxxl _cvv" type="password" name="cvv" maxlength="4"value="" placeholder="'+this.tr("CVV / CVC")+'"/><i class="merchant-manager__icon-card icon icon-card field-box__right-elem _card-helper"></i><i class="merchant-manager__icon-help icon icon-help _card-helper"></i></label></div><div class="merchant-manager__item"><div class="g-recaptcha _captcha" data-sitekey="'+t(e.captcha.siteKey)+'"></div></div><div class="merchant-manager__item _errorHolder"><div class="field-box"></div></div></div></div>'}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="vat-form">';return e.editMode?(i+='<form class="vat-form__form"><input class="vat-form__form-input input input-s _field" type="text"name="number" placeholder="'+this.tr("VAT registration")+'" value="'+t(e.model.number)+'" autocomplete="off"><button class="vat-form__form-button button button-s button-grey"type="submit">'+this.tr("Apply")+"</button></form>",e.canClose&&(i+='<i class="vat-form__form-close button-reset _close"></i>')):i+='<span class="vat-form__link _link">'+e.linkLabel+'</span><i class="vat-form__icon-help icon icon-help _vat-help"></i>',i+="</div>"}},function(e,t,i){"use strict";e.exports=function(e){return'<div class="vat-number-help"><p class="vat-number-help__title">'+this.tr("What is VAT registration?")+'</p><span class="vat-number-help__text">'+this.tr("We apply all applicable taxes to your order based on your billing region. Entering a valid registration number for your region lets us know whether or not charge you VAT.")+"</span></div>"}},function(e,t,i){"use strict";i(1498);var n=i(0),o=i(1499),s=i(496);e.exports=s.extend({name:"CardsSelector",el:!1,template:o,events:{"click ._card":"onCardClick","click ._add-card":"onAddCardClick"},serialize:function(){return{cards:this.collection.serialize(),currentCard:this.currentCard||{}}},onCardClick:function(e){e.stopPropagation(),this.changeCardCallback(e.currentTarget.getAttribute("data-id"))},onAddCardClick:function(e){e.stopPropagation(),this.addCardCallback(),this.app.observer.broadcast("Track:UE:Billing:FlexDownloadAddCardClick")},changeCardCallback:n.noop,addCardCallback:n.noop})},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="cards-selector">';if(e.cards){i+='<div class="cards-selector__list-box">';var n=e.cards;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<div class="cards-selector__list-row _card" data-id="'+t((o=n[s+=1]).id)+'"><div class="cards-selector__list-cell cards-selector__list-cell_status">',e.currentCard.id===o.id&&(i+='<i class="cards-selector__ok icon icon-ok"></i>'),i+='</div><div class="cards-selector__list-cell cards-selector__list-cell_type">',o.type&&o.type.length&&(i+='<i class="cards-selector__type cards-selector__type_'+t(o.type)+'"></i>'),i+='</div><div class="cards-selector__list-cell">'+t(o.labels.number)+'</div><div class="cards-selector__list-cell cards-selector__list-cell_exp">'+t(o.labels.expire)+"</div></div>";i+="</div>"}return i+='<div class="cards-selector__add-box _add-card"><i class="cards-selector__add-icon icon icon-add"></i><i class="cards-selector__add-icon cards-selector__add-icon_hover icon icon-add-hover"></i><span class="cards-selector__add-text">'+this.tr("Add New Card")+"</span></div></div>"}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}();return'<div class="modal-container"><div class="modal payment-failure-modal _modal"><div class="modal__border"></div><div class="modal__dialog"><div class="modal__header _drag-handler"><i class="icon icon-warning payment-failure-modal__icon"></i><span class="modal__title">'+this.tr("Payment Failure")+'</span><i class="modal__close-button button-close-simple _close"></i></div><div class="modal__body _body"><h3 class="payment-failure-modal__title">'+t(e.credentials)+'</h3><p class="payment-failure-modal__text">'+this.tr("We're unable to process your payment right now.<br /> Since your important & highly-valued client, we offer you an alternative payment method, to complete your transaction.")+'</p><button class="button button-l button-pill button-blue button-bold payment-failure-modal__button _proceed">'+this.tr("Proceed")+'</button></div><div class="modal__footer _footer"><p class="payment-failure-modal__footer-text">'+this.tr("In case of further question or doubts, you're welcome to contact us:")+'</p><p class="payment-failure-modal__footer-text"><span class="payment-failure-modal__phone">'+t(e.supportPhone)+'</span><a class="link-blue _live-chat"></a></p></div></div></div></div>'}},function(e,t,i){"use strict";var n=i(0),o=i(13),s=i(1503),r=i(496),a={credits:{},subscription:{},ondemand:{},membership:{},imagepack:{}};a.credits.View=i(736),a.credits.template=i(1300),a.subscription.View=i(691),a.subscription.template=i(1301),a.ondemand.View=i(723),a.ondemand.template=i(1302),a.imagepack.View=i(921),a.imagepack.template=i(1303),a.membership.View=i(654),a.membership.template=i(1307),e.exports=r.extend({name:"UserProductsListMobile",el:!1,template:s,viewMode:"modal",linksEnabled:!1,plans:void 0,events:{"click ._product":"onUserProductClick"},initialize:function(){this.listenTo(this.app.user,"sync",this.render)},prepareRender:function(){n.each(this.plans.serializeUserPlans(),function(e){this.insertView("._list",this.getProductView(e))},this)},serialize:function(){return{products:this.plans.serializeUserPlans()}},getProductView:function(e){var t=this.linksEnabled?this.app.makeUrl("subscribe",{backURL:!0}):"",i=a[e.type];return i?new i.View({app:this.app,template:i.template,product:e,serializeParams:{href:t}}):null},onUserProductClick:function(e){this.linksEnabled||(e.stopPropagation(),e.preventDefault()),this.chooseProductCallback(this.plans.serializeUserPlans()[o.$(e.currentTarget).index()])},toggle:function(){this.$el.toggle(),"modal"===this.viewMode&&this.app.observer.fire("Modal:CheckSize")},hide:function(){this.$el.hide(),"modal"===this.viewMode&&this.app.observer.fire("Modal:CheckSize")},chooseProductCallback:n.noop})},function(e,t,i){"use strict";e.exports=function(e){return'<div class="user-plans-list user-plans-list_mobile _list"></div>'}},function(e,t,i){},function(e,t,i){"use strict";var n=i(1506),o=i(1510),s=i(1518);e.exports={initialize:o,update:s,destroy:n}},function(e,t,i){"use strict";var n=i(737),o=i(806),s=i(688);e.exports=function(e){var t=s.get(e);t&&(t.event.unbindAll(),o.remove(t.scrollbarX),o.remove(t.scrollbarY),o.remove(t.scrollbarXRail),o.remove(t.scrollbarYRail),n.removePsClasses(e),s.remove(e))}},function(e,t,i){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},function(e,t,i){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var i=void 0!==t;this.events[e]=this.events[e].filter(function(n){return!(!i||n===t)||(this.element.removeEventListener(e,n,!1),!1)},this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var o=function(){this.eventElements=[]};o.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new n(e),this.eventElements.push(t)),t},o.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},o.prototype.unbind=function(e,t,i){this.eventElement(e).unbind(t,i)},o.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},o.prototype.once=function(e,t,i){var n=this.eventElement(e),o=function(e){n.unbind(t,o),i(e)};n.bind(t,o)},e.exports=o},function(e,t,i){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},function(e,t,i){"use strict";var n=i(737),o=i(1e3),s=i(688),r=i(738),a={"click-rail":i(1511),"drag-scrollbar":i(1512),keyboard:i(1513),wheel:i(1514),touch:i(1515),selection:i(1516)},l=i(1517);e.exports=function(e,t){t="object"==typeof t?t:{},o.add(e,"ps");var i=s.add(e);i.settings=n.extend(i.settings,t),o.add(e,"ps--theme_"+i.settings.theme),i.settings.handlers.forEach(function(t){a[t](e)}),l(e),r(e)}},function(e,t,i){"use strict";var n=i(688),o=i(738),s=i(796);e.exports=function(e){!function(e,t){function i(e){return e.getBoundingClientRect()}var n=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",n),t.event.bind(t.scrollbarYRail,"click",function(n){var r=n.pageY-window.pageYOffset-i(t.scrollbarYRail).top>t.scrollbarYTop?1:-1;s(e,"top",e.scrollTop+r*t.containerHeight),o(e),n.stopPropagation()}),t.event.bind(t.scrollbarX,"click",n),t.event.bind(t.scrollbarXRail,"click",function(n){var r=n.pageX-window.pageXOffset-i(t.scrollbarXRail).left>t.scrollbarXLeft?1:-1;s(e,"left",e.scrollLeft+r*t.containerWidth),o(e),n.stopPropagation()})}(e,n.get(e))}},function(e,t,i){"use strict";var n=i(737),o=i(806),s=i(688),r=i(738),a=i(796);function l(e,t){var i=null,s=null;var l=function(o){!function(o){var s=i+o*t.railXRatio,r=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=s<0?0:s>r?r:s;var l=n.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;a(e,"left",l)}(o.pageX-s),r(e),o.stopPropagation(),o.preventDefault()},c=function(){n.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",l)};t.event.bind(t.scrollbarX,"mousedown",function(r){s=r.pageX,i=n.toInt(o.css(t.scrollbarX,"left"))*t.railXRatio,n.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",l),t.event.once(t.ownerDocument,"mouseup",c),r.stopPropagation(),r.preventDefault()})}function c(e,t){var i=null,s=null;var l=function(o){!function(o){var s=i+o*t.railYRatio,r=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=s<0?0:s>r?r:s;var l=n.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));a(e,"top",l)}(o.pageY-s),r(e),o.stopPropagation(),o.preventDefault()},c=function(){n.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",l)};t.event.bind(t.scrollbarY,"mousedown",function(r){s=r.pageY,i=n.toInt(o.css(t.scrollbarY,"top"))*t.railYRatio,n.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",l),t.event.once(t.ownerDocument,"mouseup",c),r.stopPropagation(),r.preventDefault()})}e.exports=function(e){var t=s.get(e);l(e,t),c(e,t)}},function(e,t,i){"use strict";var n=i(737),o=i(806),s=i(688),r=i(738),a=i(796);function l(e,t){var i=!1;t.event.bind(e,"mouseenter",function(){i=!0}),t.event.bind(e,"mouseleave",function(){i=!1});t.event.bind(t.ownerDocument,"keydown",function(s){if(!(s.isDefaultPrevented&&s.isDefaultPrevented()||s.defaultPrevented)){var l=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(i||l){var c=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(c){if("IFRAME"===c.tagName)c=c.contentDocument.activeElement;else for(;c.shadowRoot;)c=c.shadowRoot.activeElement;if(n.isEditable(c))return}var d=0,u=0;switch(s.which){case 37:d=s.metaKey?-t.contentWidth:s.altKey?-t.containerWidth:-30;break;case 38:u=s.metaKey?t.contentHeight:s.altKey?t.containerHeight:30;break;case 39:d=s.metaKey?t.contentWidth:s.altKey?t.containerWidth:30;break;case 40:u=s.metaKey?-t.contentHeight:s.altKey?-t.containerHeight:-30;break;case 33:u=90;break;case 32:u=s.shiftKey?90:-90;break;case 34:u=-90;break;case 35:u=s.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:u=s.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}a(e,"top",e.scrollTop-u),a(e,"left",e.scrollLeft+d),r(e),function(i,n){var o=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===s&&i<0||s>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(d,u)&&s.preventDefault()}}})}e.exports=function(e){l(e,s.get(e))}},function(e,t,i){"use strict";var n=i(688),o=i(738),s=i(796);function r(e,t){var i=!1;function n(n){var r=function(e){var t=e.deltaX,i=-1*e.deltaY;return void 0!==t&&void 0!==i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!=t&&i!=i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}(n),a=r[0],l=r[1];(function(t,i){var n=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(n){var o=window.getComputedStyle(n);if(![o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/))return!1;var s=n.scrollHeight-n.clientHeight;if(s>0&&!(0===n.scrollTop&&i>0||n.scrollTop===s&&i<0))return!0;var r=n.scrollLeft-n.clientWidth;if(r>0&&!(0===n.scrollLeft&&t<0||n.scrollLeft===r&&t>0))return!0}return!1})(a,l)||(i=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(s(e,"top",l?e.scrollTop-l*t.settings.wheelSpeed:e.scrollTop+a*t.settings.wheelSpeed),i=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(s(e,"left",a?e.scrollLeft+a*t.settings.wheelSpeed:e.scrollLeft-l*t.settings.wheelSpeed),i=!0):(s(e,"top",e.scrollTop-l*t.settings.wheelSpeed),s(e,"left",e.scrollLeft+a*t.settings.wheelSpeed)),o(e),(i=i||function(i,n){var o=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===s&&i<0||s>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(a,l))&&(n.stopPropagation(),n.preventDefault()))}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)}e.exports=function(e){r(e,n.get(e))}},function(e,t,i){"use strict";var n=i(737),o=i(688),s=i(738),r=i(796);function a(e,t,i,n){function a(t,i){r(e,"top",e.scrollTop-i),r(e,"left",e.scrollLeft-t),s(e)}var l={},c=0,d={},u=null,h=!1,p=!1;function f(){h=!0}function m(){h=!1}function g(e){return e.targetTouches?e.targetTouches[0]:e}function b(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function v(e){if(b(e)){p=!0;var t=g(e);l.pageX=t.pageX,l.pageY=t.pageY,c=(new Date).getTime(),null!==u&&clearInterval(u),e.stopPropagation()}}function _(i){if(!p&&t.settings.swipePropagation&&v(i),!h&&p&&b(i)){var n=g(i),o={pageX:n.pageX,pageY:n.pageY},s=o.pageX-l.pageX,r=o.pageY-l.pageY;a(s,r),l=o;var u=(new Date).getTime(),f=u-c;f>0&&(d.x=s/f,d.y=r/f,c=u),function(i,n){var o=e.scrollTop,s=e.scrollLeft,r=Math.abs(i),a=Math.abs(n);if(a>r){if(n<0&&o===t.contentHeight-t.containerHeight||n>0&&0===o)return!t.settings.swipePropagation}else if(r>a&&(i<0&&s===t.contentWidth-t.containerWidth||i>0&&0===s))return!t.settings.swipePropagation;return!0}(s,r)&&(i.stopPropagation(),i.preventDefault())}}function w(){!h&&p&&(p=!1,t.settings.swipeEasing&&(clearInterval(u),u=setInterval(function(){o.get(e)&&(d.x||d.y)?Math.abs(d.x)<.01&&Math.abs(d.y)<.01?clearInterval(u):(a(30*d.x,30*d.y),d.x*=.8,d.y*=.8):clearInterval(u)},10)))}i?(t.event.bind(window,"touchstart",f),t.event.bind(window,"touchend",m),t.event.bind(e,"touchstart",v),t.event.bind(e,"touchmove",_),t.event.bind(e,"touchend",w)):n&&(window.PointerEvent?(t.event.bind(window,"pointerdown",f),t.event.bind(window,"pointerup",m),t.event.bind(e,"pointerdown",v),t.event.bind(e,"pointermove",_),t.event.bind(e,"pointerup",w)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",f),t.event.bind(window,"MSPointerUp",m),t.event.bind(e,"MSPointerDown",v),t.event.bind(e,"MSPointerMove",_),t.event.bind(e,"MSPointerUp",w)))}e.exports=function(e){(n.env.supportsTouch||n.env.supportsIePointer)&&a(e,o.get(e),n.env.supportsTouch,n.env.supportsIePointer)}},function(e,t,i){"use strict";var n=i(737),o=i(688),s=i(738),r=i(796);function a(e,t){var i=null,a={top:0,left:0};function l(){i&&(clearInterval(i),i=null),n.stopScrolling(e)}var c=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(function(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}())?c=!0:(c=!1,l())}),t.event.bind(window,"mouseup",function(){c&&(c=!1,l())}),t.event.bind(window,"keyup",function(){c&&(c=!1,l())}),t.event.bind(window,"mousemove",function(t){if(c){var d={x:t.pageX,y:t.pageY},u={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};d.x<u.left+3?(a.left=-5,n.startScrolling(e,"x")):d.x>u.right-3?(a.left=5,n.startScrolling(e,"x")):a.left=0,d.y<u.top+3?(a.top=u.top+3-d.y<5?-5:-20,n.startScrolling(e,"y")):d.y>u.bottom-3?(a.top=d.y-u.bottom+3<5?5:20,n.startScrolling(e,"y")):a.top=0,0===a.top&&0===a.left?l():i||(i=setInterval(function(){o.get(e)?(r(e,"top",e.scrollTop+a.top),r(e,"left",e.scrollLeft+a.left),s(e)):clearInterval(i)},50))}})}e.exports=function(e){a(e,o.get(e))}},function(e,t,i){"use strict";var n=i(688),o=i(738);e.exports=function(e){!function(e,t){t.event.bind(e,"scroll",function(){o(e)})}(e,n.get(e))}},function(e,t,i){"use strict";var n=i(737),o=i(806),s=i(688),r=i(738),a=i(796);e.exports=function(e){var t=s.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,o.css(t.scrollbarXRail,"display","block"),o.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=n.toInt(o.css(t.scrollbarXRail,"marginLeft"))+n.toInt(o.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=n.toInt(o.css(t.scrollbarYRail,"marginTop"))+n.toInt(o.css(t.scrollbarYRail,"marginBottom")),o.css(t.scrollbarXRail,"display","none"),o.css(t.scrollbarYRail,"display","none"),r(e),a(e,"top",e.scrollTop),a(e,"left",e.scrollLeft),o.css(t.scrollbarXRail,"display",""),o.css(t.scrollbarYRail,"display",""))}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="license-wizard _wizard';if(e.unableToLicense&&(i+=" license-wizard_not-licensing"),i+='"><div class="license-wizard__wrapper"> ',e.unableToLicense)i+=' <div class="license-wizard__not-licensing-box"> <h2 class="license-wizard__not-licensing">'+e.unableMessage+"</h2> </div> ";else{i+='<div class="license-wizard__fan images-fan images-fan_size-l '+t(e.classNames)+'">';var n=e.files;if(n)for(var o,s=-1,r=n.length-1;s<r;)o=n[s+=1],i+='<div class="images-fan__item images-fan__item_'+(e.files.length-1-s)+' cmp-file-thumb cmp-file-thumb_l"><img alt="'+t(o.seoAlt)+'" src="'+o.thumbs.normal+'" class="images-fan__img',o.width>o.height?i+=" horizontal":o.width<o.height?i+=" vertical":i+=" square",i+='"></div>';e.files.length>e.maxFilesListCount&&(i+='<div class="images-fan__more">'+t(e.maxFilesListCount)+"+</div>"),i+='</div><h2 class="license-wizard__title">'+this.tr("Licensing Wizard")+'</h2><div class="license-wizard__form-box"><div class="license-wizard__form"><form method="POST"><div class="license-wizard__fields-scroll-box _scroll"><div class="license-wizard__fields">';var a=e.blocks;if(a)for(var l,c=-1,d=a.length-1;c<d;){if(l=a[c+=1],e.files.length>1&&(i+='<p class="files-amount">'+l.title+": "+t(l.filesCount)+"</p>"),i+='<label class="license-wizard__input license-wizard__input_plans-selector field-box select-box select-box-xl"><select class="select select-xl _license" name="licenseId" data-type="'+t(l.type)+'">',l.licenses.length){var u=l.licenses;if(u)for(var h,p=-1,f=u.length-1;p<f;)i+='<option value="'+t((h=u[p+=1]).id)+'" ',e.form.licensing[l.type].licenseId===h.id&&(i+=" selected"),i+=">"+t(h.name)+"</option>"}else i+="<option>"+this.tr("No Licenses")+"</option>";if(i+='</select><i class="arrow arrow-black arrow-bottom"></i></label><label class="license-wizard__input license-wizard__input_size-selector field-box select-box select-box-xl"><select class="select select-xl _size" name="size" data-type="'+t(l.type)+'">',l.sizes.length){var m=l.sizes;if(m)for(var g,b=-1,v=m.length-1;b<v;)i+='<option value="'+t((g=m[b+=1]).id)+'" ',e.form.licensing[l.type].size===g.id&&(i+=" selected"),i+=">"+g.compositeLabel+"</option>"}else i+="<option>"+this.tr("No Sizes")+"</option>";if(i+='</select><i class="arrow arrow-black arrow-bottom"></i></label>',l.options){i+='<div class="license-wizard__options">';var _=l.options;if(_)for(var w,y=-1,x=_.length-1;y<x;)i+='<div class="license-wizard__options-row">',0===(w=_[y+=1]).price?i+='<div class="license-wizard__free-option"><i class="icon license-wizard__free-option-icon"></i><span class="license-wizard__free-option-text">'+t(w.name)+'</span><span class="checkbox-text checkbox-text_option-price">'+this.tr("Included")+"</span></div>":(i+='<label class="field-box checkbox-box checkbox-box-m"><input type="checkbox" class="checkbox _option-checkbox" data-bit="'+t(w.bit)+'" data-type="'+t(l.type)+'" ',w.selected&&(i+=" checked"),i+='><i class="icon icon-checkbox icon-checkbox-m"></i><span class="checkbox-text">'+t(w.name)+'</span><span class="checkbox-text checkbox-text_option-price">'+w.formattedPrice+"</span></label>"),i+="</div>";i+="</div>"}}var C=e.fields;if(C)for(var k,S=-1,T=C.length-1;S<T;)"input"===(k=C[S+=1]).tag?i+='<label class="license-wizard__input field-box input-box input-box-xl"><input type="'+t(k.type)+'" class="input input-xl _field" placeholder="'+this.tr(k.placeholder)+'"name="'+t(k.name)+'" value="'+t(e.form.licensing[k.name]||"")+'"></label>':i+='<label class="license-wizard__input field-box textarea-box textarea-box-xl"><textarea class="textarea textarea-xl textarea-no-resize _field" placeholder="'+this.tr(k.placeholder)+'"name="'+t(k.name)+'">'+t(e.form.licensing[k.name]||"")+"</textarea></label>";i+="</div></div>",e.isTaxEnabled&&(i+='<div class="license-wizard__tax-included">'+e.taxTitle+"</div>"),i+='<h2 class="license-wizard__title-price">'+this.tr("Total")+": "+e.total+'</h2><div class="license-wizard__buttons-container _buttons',e.isTaxEnabled||(i+=" license-wizard__buttons-container-margin"),i+='"><div class="license-wizard__buttons-cell license-wizard__buttons-cell_confirm"><button type="submit"class="license-wizard__submit button button-xl button-black-blue button-imitation _submit',e.unableToLicense&&(i+=" disabled"),i+='"',e.unableToLicense&&(i+=" disabled"),i+=">"+this.tr("Confirm")+'</button></div><div class="license-wizard__buttons-cell"><button type="submit"class="license-wizard__submit button button-xl button-blue button-imitation _submit-download',e.unableToLicense&&(i+=" disabled"),i+='"',e.unableToLicense&&(i+=" disabled"),i+=">"+t(e.downloadBtnText)+"</button></div></div></form></div></div>"}return i+="</div></div>"}},function(e,t,i){"use strict";var n=i(0),o=i(1521),s=function(e){function t(t){var i;return i=e.call(this,t)||this,Object.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),{template:o},t),i}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t.prototype.serialize=function(){return n.clone(this.data)},t}(i(496));e.exports=s},function(e,t,i){"use strict";e.exports=function(e){var t='<div class="license-wizard__message-box"><p class="modal__text">';return e.username?t+=""+this.tr("Dear %s!",e.username):t+=""+this.tr("Dear user!"),t+="</p>",e.filesOk&&(t+='<p class="modal__text"><i class="icon icon-round-ok"></i>',e.filesOkAmount>1?t+=""+this.tr("Files %s have been licensed successfully.",e.filesOk):t+=""+this.tr("File %s has been licensed successfully.",e.filesOk),t+="</p>"),e.filesFail&&(t+='<p class="modal__text"><i class="icon icon-round-fail"></i>',e.filesFailAmount>1?t+=""+this.tr("Files %s have not been licensed. Your account does not have sufficient funds to do this operation.",e.filesFail):t+=""+this.tr("File %s has not been licensed. Your account does not have sufficient funds to do this operation.",e.filesFail),t+="</p>"),t+="</div>"}},function(e,t,i){"use strict";var n=i(0),o=i(4),s=i(25),r=i(33);e.exports=r.extend({url:"LicenseItem",defaults:{licensing:[],project:"",client:"",purchaseOrder:null,isbn:"",other:""},relations:{licensing:s.extend({model:o.extend({defaults:{type:"",fileIds:[],licenseId:null,size:"",optionsBitMask:null},idAttribute:"type"})})},getQueryParams:function(){return this.toJSON()},serialize:function(){var e=this.toJSON(),t={};return n.each(e.licensing,function(e){t[e.type]=e}),e.licensing=t,e}})},function(e,t,i){"use strict";var n=i(25),o=i(128);e.exports=n.extend({model:o})},function(e,t,i){"use strict";var n=i(1525),o=i(532),s=i(1526);e.exports=o.extend({template:n,draggable:!1,destroyOnHide:!0,noBorder:!0,licensed:[],notLicensed:[],footer:[],initialize:function(){this.body=[new s({app:this.app,licensed:this.licensed,notLicensed:this.notLicensed})];for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.prototype.initialize.apply(this,t)}})},function(e,t,i){"use strict";e.exports=function(e){return'<div class="modal-container"><div class="batch-download-modal _modal"><i class="modal__close-button icon-close-cross icon-close-cross-white batch-download-modal__close _close"></i><div class="_body"></div></div></div>'}},function(e,t,i){"use strict";i(1527);var n=i(1528),o=i(496);e.exports=o.extend({name:"BatchDownload",el:!1,template:n,serialize:function(){return{user:this.app.user.serialize()}}})},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){return'<div class="batch-download__wrapper"><div class="batch-download__box"><span class="batch-download__header">'+this.tr("Thank You for Purchase!")+'</span><span class="batch-download__info">'+this.tr('Your files are preparing to download. A link with ZIP folder will be sent to <span class="%s">%s</span>.',["link-blue",e.user.email])+'</span><i class="icon batch-download__icon"></i><button class="button button-watery button-blue button-xxl _close">'+this.tr("Ok, got it")+"</button></div></div>"}},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="price-table price-table_mode-'+t(e.viewMode)+'"><form autocomplete="off" method="GET" class="price-table__form" action="'+e.formActionUrl+'"><input type="hidden" name="id" value="'+t(e.download.itemId)+'" /><input type="hidden" name="source" value="'+t("view_item")+'" /><input type="hidden" name="license" value="'+t(e.download.license)+'" /><input type="hidden" name="size" value="'+t(e.download.size)+'" /><input type="hidden" name="method" value="'+t(e.download.method)+'" /><input type="hidden" name="purchased" value="'+t(e.download.purchased)+'" /><input type="hidden" name="product" value="'+t(e.download.fileType)+'" /><input type="hidden" name="subproduct" value="'+t(e.download.resolution)+'" /><input type="hidden" name="split_count" value="'+t(e.download.splitCount)+'" /><input type="hidden" name="subscription" value="'+t(e.download.subscription)+'" />';e.searchQuery&&(i+='<input type="hidden" name="sq" value="'+t(e.searchQuery.hash)+'" /><input type="hidden" name="sst" value="'+t(e.searchQuery.offset)+'" />'),i+='<div itemscope itemtype="depositphotos.com"><meta itemprop="infinite" content="1" /><meta itemprop="subscription" content="1" /><meta itemprop="licenses" content="'+t(e.table.licenseMeta)+'" /></div><div class="price-table__content"><div class="price-table__sizes">';var n=e.table.body;if(n)for(var o=-1,s=n.length-1;o<s;)i+='<div class="price-table__size-box',(a=n[o+=1]).active&&(i+=" price-table__size-box_active"),i+=' _size-box">',(a.purchase.size||a.price.isLicensed)&&(i+='<div class="price-table__redownload"><i class="price-table__redownload-cover"></i>',a.purchase.size?(i+='<a class="price-table__redownload-item icon icon-round-ok-large',a.purchase.size&&!a.purchase.data.error||(i+=" hidden"),i+='"href="'+this.app.makeUrl("purchased",{query:{"filter[query]":a.fileID}})+'" target="_blank" title="'+this.tr("Already Downloaded")+'"></a><i class="price-table__redownload-item icon icon-round-fail-large ',a.purchase.data.error||(i+=" hidden"),i+='"',a.purchase.data.error&&(i+=' title="'+t(a.purchase.data.error)+'"'),i+="></i>"):a.price.isLicensed&&(i+='<i class="price-table__redownload-item icon icon-round-ok-large"></i>'),i+="</div>"),i+='<label class="price-table__size-btn',"video"===e.file.type&&"4k"!==a.key&&(i+=" price-table__size-btn_lower"),i+=' _row"><input class="price-table__size-radio" type="radio" name="size" value="'+t(a.key)+'"',a.active&&(i+=' checked="checked"'),i+=" />","vect"===a.key?"modal"===e.viewMode?(i+='<i class="price-table__size-icon icon',a.active?i+=" icon-vector-black":i+=" icon-vector-white",i+='"></i>'):(i+='<i class="price-table__size-icon icon',a.active?i+=" icon-vector-white":i+=" icon-vector-black",i+='"></i>'):"el0"===a.key?i+="EL":(i+=""+t(a.indicator),"video"===e.file.type&&"4k"!==a.key&&(i+="p")),i+='</label><div class="price-table__info-box',e.isEnterpriseUser&&(i+=" price-table__info-box_es"),i+='">',e.isEnterpriseUser?a.price.labeled&&(i+='<span class="price-table__info-text">'+a.price.labeled+'</span><span class="price-table__info-sep price-table__info-sep_first"> | </span>'):(i+='<span class="price-table__info-text',"extended"===a.licenseName&&(i+=" price-table__info-text_bold"),i+='">',"modal"===e.viewMode?i+='<a class="price-table__info-link" href="'+this.app.makeUrl("license-comparison")+'" target="_blank">'+this.tr(a.license.labels.short)+"</a>":i+=""+this.tr(a.license.labels.short),i+='</span><span class="price-table__info-sep price-table__info-sep_first"> | </span>'),i+='<span class="price-table__info-text">'+this.tr(a.label)+", "+this.tr(a.extension.label)+'</span><span class="price-table__info-sep"> | </span>',"video"===e.file.type||"vector"===e.file.type&&("vect"===a.key||"el0"===a.key)?(i+='<span class="price-table__info-text">'+t(a.size.value),"vector"!==e.file.type||"vect"!==a.key&&"el0"!==a.key||(i+='<i class="price-table__info-help icon icon-help icon-help-',"modal"===e.viewMode?i+="light":i+="dark",i+=' _tooltip-vector"></i>'),i+="</span>"):i+='<span class="price-table__info-text price-table__info-text_switch _tab" data-key="'+t(a.switchNextSize)+'">'+t(a.size.value)+"</span>",i+="</div></div>";if(i+='</div></div><div class="'+t(e.footerClassNames),e.isFooterWithNote&&(i+=" price-table__footer_has-note"),i+=' _price-table-footer"><div class="price-table__captcha g-recaptcha" data-sitekey="'+t(e.captcha.siteKey)+'"></div><div class="price-table__download',e.isEnterpriseUser&&(i+=" price-table__download_enterprise"),i+='">',e.userHasPermissionsToDownload){i+='<button class="price-table__download-btn button button-xxxl button-red '+t(e.buttonClassNames)+' _download-button" type="submit"><span class="price-table__download-btn-wrap price-table__download-btn-wrap_with-price">';var r=e.table.body;if(r)for(var a,l=-1,c=r.length-1;l<c;)(a=r[l+=1]).active&&((e.priceInButton||a.price.free)&&e.canBeDownload&&!e.isEnterpriseUser&&!a.purchase.size&&a.price.labeled?i+='<span class="price-table__download-btn-title">'+t(e.downloadButtonText)+'</span><span class="price-table__download-btn-price">'+this.tr("Price")+": "+a.price.labeled+"</span>":i+=""+t(e.downloadButtonText));i+='</span><span class="price-table__download-btn-wrap price-table__download-btn-wrap_classic">'+t(e.downloadButtonText)+"</span></button>"}return e.isEnterpriseUser&&e.userHasPermissionsToLicense&&(i+='<button type="button" class="price-table__license-btn button button-xxl',"modal"===e.viewMode?i+=" button-black-blue":i+=" button-white-blue",i+=" "+t(e.licenseButtonClassNames)+' _license">'+this.tr("License")+"</button>"),i+='</div><span class="price-table__download-error _download-error"></span>',e.elLabel&&(i+='<span class="price-table__note',e.file.editorial&&"page"===e.viewMode&&(i+=" price-table__note_push"),i+=' _note">'+e.elLabel+"</span>"),e.file.editorial&&"page"===e.viewMode&&(i+='<div class="price-table__editorial"><p class="price-table__editorial-title">'+this.tr("Editorial Use Only.")+'</p><span class="price-table__editorial-desc">'+this.tr("Use of this image in advertising or for promotional purposes is prohibited.")+'<i class="price-table__editorial-help icon icon-help-new _editorial-tooltip"></i></span></div>'),i+="</div></form></div>"}},function(e,t,i){"use strict";e.exports=function(e){return'<div class="price-table-fallback"><i class="icon icon-error-transparent"></i><div class="price-table-fallback__text">'+this.tr("This image cannot be downloaded under this account")+'</div><a href="'+this.app.makeUrl("contact_us")+'" class="button button-xl button-pill button-transparent-light-black">'+this.tr("Contact Us")+"</a></div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="price-table-classic price-table-classic_mode-'+t(e.viewMode)+" "+t(e.classNames)+'"><form autocomplete="off" method="GET" class="price-table-classic__form" action="'+e.formActionUrl+'" target="_top"><input type="hidden" name="id" value="'+t(e.download.itemId)+'" /><input type="hidden" name="source" value="'+t("view_item")+'" /><input type="hidden" name="license" value="'+t(e.download.license)+'" /><input type="hidden" name="size" value="'+t(e.download.size)+'" /><input type="hidden" name="method" value="'+t(e.download.method)+'" /><input type="hidden" name="purchased" value="'+t(e.download.purchased)+'" /><input type="hidden" name="product" value="'+t(e.download.fileType)+'" /><input type="hidden" name="subproduct" value="'+t(e.download.resolution)+'" /><input type="hidden" name="split_count" value="'+t(e.download.splitCount)+'" /><input type="hidden" name="subscription" value="'+t(e.download.subscription)+'" />';e.searchQuery&&(i+='<input type="hidden" name="sq" value="'+t(e.searchQuery.hash)+'" /><input type="hidden" name="sst" value="'+t(e.searchQuery.offset)+'" />'),i+='<div class="price-table-classic__content"><div class="price-table-classic__head',e.availableMethods.length&&!e.isEnterpriseUser&&(i+=" price-table-classic__head_methods"),i+='">';var n=e.table.head;if(n)for(var o=-1,s=n.length-1;o<s;){if(i+='<div class="price-table-classic__th',"Resolution"===(w=n[o+=1]).label&&(i+=" price-table-classic__th_resolution"),"Price"===w.label&&(i+=" price-table-classic__th_price"),i+='">',"Resolution"===w.label?i+='<div class="price-table-classic__col-name price-table-classic__col-name_alt">'+this.tr("Size")+'</div><div class="price-table-classic__col-name price-table-classic__col-name_simple">'+this.tr(w.label)+"</div>":"Size"===w.label?i+='<div class="price-table-classic__col-name price-table-classic__col-name_alt">'+this.tr("Resolution")+'</div><div class="price-table-classic__col-name price-table-classic__col-name_simple">'+this.tr(w.label)+":</div>":i+='<div class="price-table-classic__col-name">'+this.tr(w.label)+"</div>",w.switcher){i+='<div class="price-table-classic__col-switch col-switch">';var r=w.switcher;if(r)for(var a,l=-1,c=r.length-1;l<c;)i+='<div class="col-switch__item _tab ',(a=r[l+=1]).active&&(i+=" col-switch__item_active"),i+='" data-key="'+t(a.key)+'">'+this.tr(a.label)+"</div>";i+="</div>"}i+="</div>"}i+='</div><div class="price-table-classic__space"></div>';var d=e.table.body;if(d)for(var u=-1,h=d.length-1;u<h;)i+='<label class="price-table-classic__row _row ',(w=d[u+=1]).active&&(i+=" price-table-classic__row_active"),i+='"><div class="price-table-classic__cell price-table-classic__cell_resolution"><div class="price-table-classic__radio field-box radio-box radio-only radio-box-m"><input class="radio" type="radio" name="size" value="'+t(w.key)+'"',w.active&&(i+=' checked="checked"'),i+=' /><i class="icon icon-radio icon-radio-m"></i></div><span class="price-table-classic__size">',"vect"===w.key?(i+='<i class="icon icon-size',"modal"===e.viewMode&&(i+=" icon-size-air"),i+=" icon-size-vector ",w.active&&(i+=" active"),i+='"></i>'):"el0"===w.key?(i+='<i class="icon icon-size',"modal"===e.viewMode&&(i+=" icon-size-air"),i+=" icon-size-extended ",w.active&&(i+=" active"),i+='"></i>'):(i+='<i class="icon icon-size ',"modal"===e.viewMode&&(i+=" icon-size-air"),"video"!==e.file.type?i+=" icon-size-photo":i+=" icon-size-video",i+=" icon-size-"+t(w.indicator),w.active&&(i+=" active"),i+='"></i>'),i+='</span><div class="price-table-classic__size-info"><span class="price-table-classic__text-size">'+this.tr(w.label)+'</span><span class="price-table-classic__text-type" ',w.extension.tooltip&&(i+=' title="'+t(w.extension.tooltip)+'"'),i+=">,&nbsp;"+this.tr(w.extension.label)+"</span>",e.isEnterpriseUser||(i+='<div class="price-table-classic__text-license">'+this.tr(w.license.labels.full)+"</div>"),i+='</div></div><div class="price-table-classic__cell price-table-classic__cell_frame-rate">',w.size.tooltip?(i+='<span class="price-table-classic__text">'+this.tr(w.size.value)+'<i class="price-table-classic__help icon icon-help icon-help-',"modal"===e.viewMode?i+="light":i+="dark",i+=' _tooltip-vector"></i></span>'):i+='<div class="price-table-classic__text price-table-classic__text-alt">'+this.tr(w.label)+'</div><div class="price-table-classic__text price-table-classic__text-size-details">'+t(w.size.value)+"</div>",i+='</div><div class="price-table-classic__cell price-table-classic__cell_price">',w.purchase.size?(i+='<span class="price-table-classic__redownload">',w.purchase.data.error||(i+='<span class="price-table-classic__text price-table-classic__text_middle">'+this.tr("Re-Download")+"</span>"),i+='<a class="price-table-classic__redownload-item price-table-classic__redownload-item_ok icon icon-round-ok',w.purchase.size&&!w.purchase.data.error||(i+=" hidden"),i+='" href="'+this.app.makeUrl("purchased",{query:{"filter[query]":w.fileID}})+'" target="_blank"></a><i class="price-table-classic__redownload-item icon icon-round-fail ',w.purchase.data.error||(i+=" hidden"),i+='" ',w.purchase.data.error&&(i+='title="'+t(w.purchase.data.error)+'"'),i+='></i><i class="price-table-classic__redownload-item icon icon-loading icon-loading-gray hidden"></i></span>'):(i+='<span class="price-table-classic__label">',w.price.discounted&&w.price.discounted!==w.price.value?i+='<span class="price-table-classic__discount"><s class="price-table-classic__price-old">'+w.price.value+'</s><span class="price-table-classic__price-new price-table-classic__text_red">'+w.price.discounted+"</span></span>":(i+='<span class="price-table-classic__text ',w.price.free&&(i+=" price-table-classic__text_red"),i+='">'+w.price.labeled+"</span>"),w.price.labeled&&(i+='<span class="price-table-classic__label-item price-table-classic__label-item_ok icon icon-round-ok',w.price.isLicensed||(i+=" hidden"),i+='" ',w.price.isLicensed||(i+=" hidden"),i+="></span>"),i+="</span>"),i+="</div></label>";if(e.isEnterpriseUser&&e.userHasPermissionsToLicense&&(i+='<div class="price-table-classic__row price-table-classic__license-btn-row"><div class="price-table-classic__cell price-table-classic__cell_resolution"></div><div class="price-table-classic__cell"></div><div class="price-table-classic__cell price-table-classic__cell_price"><div class="price-table-classic__license-btn-container"><button type="button" class="price-table-classic__license-btn button button-xxl',"modal"===e.viewMode?i+=" button-black-blue":i+=" button-white-blue",i+=" "+t(e.licenseButtonClassNames)+' _license">'+this.tr("License")+"</button></div></div></div>"),i+='</div><div class="'+t(e.footerClassNames)+' _price-table-footer"><div class="price-table-classic__captcha g-recaptcha" data-sitekey="'+t(e.captcha.siteKey)+'"></div><div class="price-table-classic__download',e.isEnterpriseUser&&(i+=" price-table-classic__download_enterprise"),e.notedDownload&&(i+=" noted"),i+='">',e.userHasPermissionsToDownload){i+='<button class="price-table-classic__download-btn button button-xxxl button-red '+t(e.buttonClassNames)+' _download-button" type="submit"';var p=e.table.body;if(p)for(var f=-1,m=p.length-1;f<m;)(w=p[f+=1]).active&&w.price.free&&(i+=' data-label="'+w.price.labeled+'"');i+=">"+e.downloadButtonText+"</button>"}e.isEnterpriseUser&&e.userHasPermissionsToLicense&&(i+='<button type="button" class="price-table-classic__license-btn_mobile button button-xxl',"modal"===e.viewMode?i+=" button-black-blue":i+=" button-white-blue",i+=" "+t(e.licenseButtonClassNames)+' _license">'+this.tr("License")+"</button>"),i+="</div>",e.elLabel&&(i+='<span class="price-table-classic__note _note">'+e.elLabel+"</span>"),e.save&&e.save.profit&&(i+='<div class="price-table-classic__note-box"><label class="price-table-classic__save checkbox-box checkbox-box-m"><input class="checkbox _save" type="checkbox"',e.save.checked&&(i+=" checked"),i+='/><i class="icon icon-checkbox icon-checkbox-m"></i><span class="checkbox-text">'+this.tr("Save %s with our Flexible Plans",e.save.profit)+"</span></label></div>");var g=e.table.body;if(g)for(var b=-1,v=g.length-1;b<v;)(w=g[b+=1]).active&&(i+='<div class="price-table-classic__full-info size-full-info"><i class="size-full-info__size-name icon icon-size',"video"===e.file.type&&(i+=" icon-size-video"),i+=" icon-size-dark icon-size-"+t(w.indicator)+" "+t(w.key)+'"></i>',e.isEnterpriseUser||(i+='<span class="size-full-info__license">'+this.tr(w.license.labels.full)+"</span>"),i+='<span class="size-full-info__size-px">'+this.tr(w.label)+'</span><span class="size-full-info__type">'+this.tr(w.extension.label)+'</span><span class="size-full-info__size-inch">'+t(w.size.value)+"</span></div>");i+="</div>";var _=e.table.body;if(_)for(var w,y=-1,x=_.length-1;y<x;)(w=_[y+=1]).active&&(i+='<div class="price-table-classic__footer-info',e.notedDownload&&(i+=" noted"),i+='"><div class="price-table-classic__footer-info-row"><div class="price-table-classic__footer-info-cell">'+this.tr("License")+':</div><div class="price-table-classic__footer-info-cell">'+this.tr(w.license.labels.full)+'</div></div><div class="price-table-classic__footer-info-row"><div class="price-table-classic__footer-info-cell">'+this.tr("File Type")+':</div><div class="price-table-classic__footer-info-cell">'+this.tr(w.extension.label)+"</div></div></div>");return i+='<span class="price-table-classic__download-error _download-error"></span></form></div>'}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="price-table-classic price-table-classic_mode-'+t(e.viewMode)+" "+t(e.classNames)+'"><form autocomplete="off" method="GET" class="price-table-classic__form" action="'+e.formActionUrl+'" target="_top"><input type="hidden" name="id" value="'+t(e.download.itemId)+'" /><input type="hidden" name="source" value="'+t("view_item")+'" /><input type="hidden" name="license" value="'+t(e.download.license)+'" /><input type="hidden" name="size" value="'+t(e.download.size)+'" /><input type="hidden" name="method" value="'+t(e.download.method)+'" /><input type="hidden" name="purchased" value="'+t(e.download.purchased)+'" /><input type="hidden" name="product" value="'+t(e.download.fileType)+'" /><input type="hidden" name="subproduct" value="'+t(e.download.resolution)+'" /><input type="hidden" name="split_count" value="'+t(e.download.splitCount)+'" /><input type="hidden" name="subscription" value="'+t(e.download.subscription)+'" />';e.searchQuery&&(i+='<input type="hidden" name="sq" value="'+t(e.searchQuery.hash)+'" /><input type="hidden" name="sst" value="'+t(e.searchQuery.offset)+'" />'),i+='<div class="price-table-classic__content">';var n=e.table.body;if(n)for(var o=-1,s=n.length-1;o<s;)i+='<label class="price-table-classic__row _row ',(d=n[o+=1]).active&&(i+=" price-table-classic__row_active"),i+='"><div class="price-table-classic__cell price-table-classic__cell_resolution"><div class="price-table-classic__radio field-box radio-box radio-only radio-box-m"><input class="radio" type="radio" name="size" value="'+t(d.key)+'"',d.active&&(i+=' checked="checked"'),i+=' /><i class="icon icon-radio icon-radio-m"></i></div><span class="price-table-classic__size">',"vect"===d.key?i+='<i class="price-table-classic__size-vector"></i>':"ds"===d.key&&"ds"===d.indicator?i+='<span class="price-table-classic__size-super">Super</span>':"el0"===d.key?i+="EL":"video"===e.file.type?(i+='<span class="price-table-classic__size-video price-table-classic__size-video_'+t(d.key)+'">'+t(d.indicator),"4k"!==d.key&&(i+="p"),i+="</span>"):i+=""+t(d.indicator),i+='</span><div class="price-table-classic__size-info"><span class="price-table-classic__text-size">'+this.tr(d.label)+'</span><span class="price-table-classic__text-type" ',d.extension.tooltip&&(i+=' title="'+t(d.extension.tooltip)+'"'),i+=">,&nbsp;"+this.tr(d.extension.label)+"</span>",e.isEnterpriseUser||(i+='<div class="price-table-classic__text-license">'+this.tr(d.license.labels.full)+"</div>"),i+='</div></div><div class="price-table-classic__cell price-table-classic__cell_price">',d.purchase.size?(i+='<span class="price-table-classic__redownload">',d.purchase.data.error||(i+='<span class="price-table-classic__text price-table-classic__text_middle">'+this.tr("Re-Download")+"</span>"),i+='<a class="price-table-classic__redownload-item price-table-classic__redownload-item_ok icon icon-round-ok-large',d.purchase.size&&!d.purchase.data.error||(i+=" hidden"),i+='" href="'+this.app.makeUrl("purchased",{query:{"filter[query]":d.fileID}})+'" target="_blank"></a><i class="price-table-classic__redownload-item icon icon-round-fail-large ',d.purchase.data.error||(i+=" hidden"),i+='" ',d.purchase.data.error&&(i+='title="'+t(d.purchase.data.error)+'"'),i+='></i><i class="price-table-classic__redownload-item icon icon-loading icon-loading-gray hidden"></i></span>'):(i+='<span class="price-table-classic__label">',d.price.discounted&&d.price.discounted!==d.price.value?i+='<span class="price-table-classic__discount"><s class="price-table-classic__price-old">'+d.price.value+'</s><span class="price-table-classic__price-new price-table-classic__text_red">'+d.price.discounted+"</span></span>":(i+='<span class="price-table-classic__text ',d.price.free&&(i+=" price-table-classic__text_red"),i+='">'+d.price.labeled+"</span>"),d.price.labeled&&(i+='<span class="price-table-classic__label-item price-table-classic__label-item_ok icon icon-round-ok-large',d.price.isLicensed||(i+=" hidden"),i+='" ',d.price.isLicensed||(i+=" hidden"),i+="></span>"),i+="</span>"),i+="</div></label>";if(i+='</div><div class="price-table-classic__notice-box">',e.elLabel&&(i+='<span class="price-table-classic__note _note">'+e.elLabel+"</span>"),i+='<span class="price-table-classic__download-error _download-error"></span></div><div class="'+t(e.footerClassNames)+' _price-table-footer"><div class="price-table-classic__captcha g-recaptcha" data-sitekey="'+t(e.captcha.siteKey)+'"></div><div class="price-table-classic__download',e.isEnterpriseUser&&(i+=" price-table-classic__download_enterprise"),e.notedDownload&&(i+=" noted"),i+='">',e.userHasPermissionsToDownload){i+='<button class="price-table-classic__download-btn button button-xxxl button-red '+t(e.buttonClassNames)+' _download-button" type="submit"';var r=e.table.body;if(r)for(var a=-1,l=r.length-1;a<l;)(d=r[a+=1]).active&&d.price.isCustom&&(i+=' data-label="'+this.tr("Price")+": "+d.price.labeled+'"');i+=">"+e.downloadButtonText+"</button>"}e.isEnterpriseUser&&e.userHasPermissionsToLicense&&(i+='<button type="button" class="price-table-classic__license-btn_mobile button button-xxl',"modal"===e.viewMode?i+=" button-black-blue":i+=" button-white-blue",i+=" "+t(e.licenseButtonClassNames)+' _license">'+this.tr("License")+"</button>"),i+="</div>",e.save&&e.save.profit&&(i+='<div class="price-table-classic__note-box"><label class="price-table-classic__save checkbox-box checkbox-box-m"><input class="checkbox _save" type="checkbox"',e.save.checked&&(i+=" checked"),i+='/><i class="icon icon-checkbox icon-checkbox-m"></i><span class="checkbox-text">'+this.tr("Save %s with our Flexible Plans",e.save.profit)+"</span></label></div>");var c=e.table.body;if(c)for(var d,u=-1,h=c.length-1;u<h;)(d=c[u+=1]).active&&(i+='<div class="price-table-classic__full-info size-full-info _tab" data-key="'+t(d.nextUnit)+'"><i class="size-full-info__size-name icon icon-size',"video"===e.file.type&&(i+=" icon-size-video"),i+=" icon-size-dark icon-size-"+t(d.indicator)+" "+t(d.key)+'"></i><span class="size-full-info__size-text size-full-info__size-text_'+t(d.key)+'">',"ds"===d.key&&"ds"===d.indicator?i+="Super":"el0"===d.key?i+="EL":"vect"!==d.key&&(i+=""+t(d.indicator),"video"===e.file.type&&"4k"!==d.key&&(i+="p")),i+=this.seo.space+"</span>",e.isEnterpriseUser||(i+='<span class="size-full-info__license">'+this.tr(d.license.labels.full)+this.seo.space+"</span>"),i+='<div class="size-full-info__row size-full-info__row_'+d.key+'"><span class="size-full-info__size-px">'+this.tr(d.label)+'</span><span class="size-full-info__type">'+this.seo.space+this.tr(d.extension.label)+this.seo.space+'</span><span class="size-full-info__size-inch">'+this.tr(d.size.value)+this.seo.space+"</span></div></div>");return i+="</div></form></div>"}},function(e,t,i){"use strict";var n=i(4),o=i(20),s=i(111),r=["US","GB","LR","MM"],a=[{id:"ds",bit:8}];e.exports=n.extend({defaults:{file:null,product:null,defaultUnits:!0,units:"inch",chosen:"",save:!0},makeUniqueEnterprisePriceList:function(e){var t={};return e.filter(function(e){return!t[e.id]&&(t[e.id]=!0,!0)})},buildTable:function(e){var t=this.app.user.isEnterprise()?this.makeUniqueEnterprisePriceList(this.app.licensor.getLicensableSizesForFile(e,void 0,!0)):this.app.licensor.getLicensableSizesForFile(e);return this.set({chosen:this.get("chosen")||this.getDefaultSize(t)}),{head:this.buildHead(e),body:this.buildBody(e,t)}},getDefaultSize:function(e){if(!e.length)return"";var t=e.filter(function(e){return a.some(function(t){return!Object.keys(t).every(function(i){return t[i]===e[i]})})}).filter(function(e){return 1===e.licenseBit}).pop();return t?t.id:e[e.length-1].id},buildHead:function(e){return[{label:this.app.tr("Resolution"),switcher:null},{label:"video"===e.get("type")?this.app.tr("Rate"):this.app.tr("Size"),switcher:"video"===e.get("type")?null:[{key:"inch",label:this.app.tr("Inches"),active:"inch"===this.getUnits()},{key:"cm",label:this.app.tr("Cm"),active:"cm"===this.getUnits()}]},{label:this.app.user.isEnterprise()?this.app.tr("License"):this.app.tr("Price"),switcher:null}]},buildBody:function(e,t){var i=this,n=this.get("chosen"),o=this.get("product");return t.map(function(t){return i.row(e,t,o,n)})},row:function(e,t,i,n){var o=this.app.licensor.getLicenseByBit(t.licenseBit),r=this.getUnits(),a=this.app.user.isEnterprise()?this.makeLicense(e,t):this.makePrice(e,t,i,o);return{key:t.id,indicator:this.makeIndicator(t),label:s.makeSizeLabel(e.attributes,t),extension:t.extension,size:s.makeSize(e,t,r),license:16!==i.bit_price||i.dummy?o:this.app.licensor.getLicenseById(2),price:a,fileID:e.get("id"),active:t.id===n,purchase:!this.app.user.isEnterprise()&&e.getPurchase(t.id)||{},nextUnit:"inch"===r?"cm":"inch"}},makeIndicator:function(e){return e.labels.short.toLowerCase().replace(/p/,"")},makePrice:function(e,t,i,n){var s=this.app.licensor.getFileSizePrice(t,i),r=e.get("free")&&2!==n.id,a="credits"===i.type?this.getPriceKoef(e,this.app.user,t):1,l=s?o.formatPrice(s.cost):null,c=a<1?o.formatPrice(s.cost*a):null;return{free:r,value:l,labeled:this.makePriceLabel(i,l,c,r),discounted:c,isCustom:r||s>1||"credits"===i.type}},makePriceLabel:function(e,t,i,n){if(n)return this.app.tr("Free");if(null==t)return"-";if("credits"===e.type){var o=i&&i!==t?"<s>"+t+"</s> "+i:t;return this.app.features.isFeatureOnValue("File View Classic")?t:this.app.tr("%s Credits",[o])}return 1!==t||this.app.features.isFeatureOnValue("File View Classic")?1!==t?this.app.tr("%s Downloads",[t]):this.app.tr("%s Download",[t]):""},getPriceKoef:function(e,t,i){var n="vector"===e.get("type")?"image":e.get("type"),o=e.get("discount")||0,s=this.app.user.get("id")?t.get("discounts").items&&t.get("discounts").items[n]&&t.get("discounts").items[n][i.id]:0;return s*=100,"extended"===i.license&&"100"===e.get("discount")?1:1-Math.max(o,s)/100},makeLicense:function(e,t){var i=e.isLicensed(t.id);return{free:!1,isLicensed:i,labeled:i?this.app.tr("Licensed"):this.app.tr("Not Licensed")}},getUnits:function(){var e=r.indexOf(this.app.config.country)>=0?"inch":"cm";return this.changed.units&&this.secureSet({defaultUnits:!1}),this.get("defaultUnits")&&this.get("units")!==e&&this.secureSet({units:e}),this.get("units")}})},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=i(4),a=i(12);e.exports=r.extend({defaults:{itemId:null,size:null,source:"item",license:null,method:null,subscription:0,fileType:"image",resolution:"standart",splitCount:0,sizeMask:0,link:null,purchased:!1,"g-recaptcha-response":""},idAttribute:"link",url:function(){return this.options.url||"Download"},getQueryParams:function(){return o({},this.attributes)},parse:function(e){return this.set("g-recaptcha-response",""),e.errors?(this.validationError=e.errors,this.trigger("invalid",this,e.errors,{validationError:e.errors}),{}):{link:a.urlFormat(o({},a.urlParse(e.downloadLink),{protocol:null}))}},requestLink:function(){this.attributes.link=null,this.save()}})},function(e,t,i){"use strict";(function(e){var t=i(0),n=i(566).mobile.responsive,o=(0,i(6).getLogger)(e);e.exports={togglePin:function(){if(this.isPinnedButton&&!this.app.ampEnabled)if(this.element&&this.element.length&&this.breakPointEl){var e=this.isVisibleElement();this.element.toggleClass(this.pinnedClass,!e),this.element.toggleClass(this.hiddenPinnedClass,this.isFooterShown()),this.environmentCorrection(),this.scrollElement&&Backbone.$(this.scrollElement.querySelector("._modal")).toggleClass(this.modalExtraSpaceClass||"",!e)}else o.warn("Element and breakPointEl are required")},isFooterShown:function(){return!this.scrollElement&&window.scrollY+window.innerHeight>this.breakPointEl.offsetTop},isVisibleElement:function(){if(this.isFooterShown())return!0;var e=this.scrollElement||window,t=this.element.height()/-2+(this.scrollElement?0:60),i=void 0===e.scrollY?e.scrollTop:e.scrollY,n=i+(e.innerHeight||e.offsetHeight),o=(this.scrollElement?this.element.offset().top-Backbone.$(this.scrollElement).offset().top:this.element.offset().top)+(e.scrollTop||0)-t;return o+this.element.height()+t+this.getAfterSpace()<=n&&o>=i},getAfterSpace:function(){var e=window.matchMedia("(max-width: "+n.mobileTablets+"px)").matches,t=this.element.height()>60?31:41;return this.scrollElement||e?0:t},environmentCorrection:function(){if(this.scrollElement){var e=Math.max(this.scrollElement.offsetHeight-window.innerHeight,0);this.scrollElement.style.paddingBottom=e+"px"}},setScrollElementListener:function(){var e=this;this.scrollElement&&this.scrollElement.addEventListener("scroll",function(){return e.togglePin()})},onWindowScroll:t.throttle(function(){this.togglePin()},10)}}).call(this,i(3)(e))},function(e,t,i){"use strict";var n=i(1543),o=i(496),s=i(497);i(1544),e.exports=o.extend({el:!1,name:"NewWindowLink",template:n,url:"",title:null,model:null,tooltipParams:{displayShowTimeout:0,displayHideTimeout:0,templatePosition:"bl",templateOffset:{top:0,left:-13}},events:{click:"handleClick",mouseenter:"handleMouseEnter",mouseleave:"handleMouseLeave"},serialize:function(){return{url:this.url,title:this.title}},handleClick:function(){this.app.observer.broadcast("Track:UE:NewWindowLink:Click",{model:this.model})},handleMouseEnter:function(e){var t=this;this.setNotExistView("tooltip",s,{params:this.tooltipParams,classes:{"new-window-tooltip":!0},content:new o({el:!1,template:function(){return t.tr("Open in new window")}})}).show(e)},handleMouseLeave:function(){this.safeRemoveView("tooltip")}})},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<a class="new-window-link view-file-box__btn view-file-box__btn_link" target="_blank" href="'+e.url+'">';return e.title&&(i+=""+t(e.title)),i+="</a>"}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="file-view__short-info-wrapper"><div class="file-view__short-info"><a class="file-view__short-info-avatar" href="'+e.portfolioLink+'"><span class="avatar-box avatar-box-m"><img class="avatar avatar-m" src="'+e.avatar+'" alt="'+t(e.file.sellerName)+'"></span></a><div class="file-view__short-info-line"><span class="file-view__short-info-name">'+this.tr("Copyright")+": "+this.seo.space+'</span><span class="file-view__short-info-value"><a class="';return"modal"===e.viewMode?i+="link-blue-on-dark":i+="link-blue",i+=' _portfolio" href="'+e.portfolioLink+'"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">'+t(e.file.sellerName)+'</span><meta itemprop="url" content="'+t(e.portfolioLink)+'" /></span></a>'+this.seo.space+'<span class="hidden" itemprop="provider">Depositphotos</span></span></div><div class="file-view__short-info-line"><span class="file-view__short-info-name">',"video"===e.file.type?i+=""+this.tr("Clip ID"):"vector"===e.file.type?i+=""+this.tr("Vector ID"):e.file.editorial?i+=""+this.tr("Photography ID"):i+=""+this.tr("Image ID"),i+=":"+this.seo.space+'</span><span class="file-view__short-info-value">'+t(e.file.id)+"</span></div></div></div>"}},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=i(1547),a=i(1548),l=i(1549),c=i(1550),d=i(16),u=i(0),h=i(13),p=i(677).FileViewModals,f=i(496),m=i(1311),g=i(1572),b=i(1578),v=i(1001),_=i(1315),w=i(630),y=i(1579),x=i(501),C=f.extend({name:"FileViewBottomModal",el:!1,template:r,viewMode:"modal",related:["models","series","similar"],relatedCounter:0,isCartBtnEnabled:!0,isFavoriteBtnEnabled:!0,categories:!0,initialize:function(){var e=this;u.each(this.related,function(t){e[t]=new _([],{app:e.app,relatedTo:"models"===t?"model":t}),e.listenTo(e[t],"sync",e.checkRelated)}),this.tabs=this.makeFileViewModalTabs()},prepareRender:function(){var e=this;this.isMobileMode=this.isMobileModeEnabled(),this.shouldHideInfoTab()&&this.setMatchMedia(function(){e.tabs.changeActiveTab(0),e.showActiveTab(),e.changeTabCallback()});var t={app:this.app,viewMode:this.viewMode,model:this.model,className:"file-view__related hidden _related",maxRows:1,thumbListHolderWidth:990,isCartBtnEnabled:this.isCartBtnEnabled,isFavoriteBtnEnabled:this.isFavoriteBtnEnabled,layout:"normalSquare",onFileClickCallback:this.onRelatedFileClickCallback.bind(this)},i=[new b({scheme:this.tabs,template:a,changeTabCallback:function(){var t=e.tabs.getActiveTab().get("key");e.showActiveTab(),e.changeTabCallback(),e.trackFilesImpression(t)}}),new m(o({},t,{relatedMode:"model",collection:this.models,clientAfterRenderCallback:this.tabsAfterRender.bind(this,"models")})),new m(o({},t,{relatedMode:"series",collection:this.series,clientAfterRenderCallback:this.tabsAfterRender.bind(this,"series")})),new m(o({},t,{relatedMode:"similar",collection:this.similar,clientAfterRenderCallback:this.tabsAfterRender.bind(this,"similar")})),new g({template:c,app:this.app,relatedMode:"categories",model:this.model,viewMode:this.viewMode,clientAfterRenderCallback:this.tabsAfterRender.bind(this,"categories")})];this.app.features.isFeatureOnValue("File View Classic")&&i.push(new v({viewMode:this.viewMode,template:l,app:this.app,model:this.model})),this.resetRelated(),this.setViews({"":i})},serialize:function(){return{opacity:0}},clientAfterRender:function(){this.$("._related").addClass("hidden"),this.toggleLoader(!0),this.setRelatedStore(this.model.get("id")),window.rc=[0,0,0,0]},setRelatedStore:function(e){var t=this;return u.each(this.related,function(i){t[i].store.id=e}),h.$.when(u.map(this.related,function(e){return t[e].fetch()}))},resetRelated:function(){var e=this;u.each(this.related,function(t){return e[t].reset()})},checkRelated:function(){var e=this;if(2===this.relatedCounter){var t=0;this.toggleLoader(!1),this.el.style.opacity="",this.tabs.findWhere({key:"similar"}).set({active:!1}),u.each(this.related,function(t){e.tabs.findWhere({key:"models"===t?"model":t}).set({enabled:!!e[t].length},{silent:!0})}),this.tabs.where({enabled:!0}).forEach(function(i,n){!e.alreadySetDefaultIndex&&e.model.get("lightfield")&&("model"!==i.get("key")&&"series"!==i.get("key")||(t=n,e.alreadySetDefaultIndex=!0))}),this.tabs.changeActiveTab(t),this.showTab(this.tabs.getActiveTab().get("key")),this.onRelatedReadyCallback(),this.relatedCounter=0}else this.relatedCounter+=1},changeTabCallback:function(){this.app.observer.broadcast("Track:UE:FileViewModal:TabChange",{file:this.model.serialize(),tab:this.tabs.getActiveTab().serialize()}),this.onChangeTabCallback()},showTab:function(){this.$("._related").addClass("hidden").filter('[data-tab="'+this.tabs.getActiveTab().get("key")+'"]').removeClass("hidden")},showActiveTab:function(){var e=this.tabs.getActiveTab().get("key");this.showTab(e),x.mobileMode()&&this.app.observer.fire("Modal:CheckSize")},tabsAfterRender:function(e){(this[e]||this[e].length>0)&&this.showActiveTab()},makeFileViewModalTabs:function(){var e=[{key:"similar",enabled:!1,label:u.findWhere(d.relatedTabs,{key:"similar",type:this.model.get("type")}).label},{key:"model",enabled:!1,label:u.findWhere(d.relatedTabs,{key:"model",type:"all"}).label},{key:"series",enabled:!1,label:u.findWhere(d.relatedTabs,{key:"series",type:"all"}).label},{key:"categories",enabled:!0,label:u.findWhere(d.relatedTabs,{key:"categories",type:"all"}).label}];return this.app.features.isFeatureOnValue("File View Classic")&&e.push({key:"info",enabled:!0,label:u.findWhere(d.relatedTabs,{key:"info",type:"all"}).label}),new y(e)},shouldHideInfoTab:function(){return p(this.app).shouldHideTitle&&"video"!==this.model.get("type")&&!this.model.get("editorial")},trackFilesImpression:function(e){var t=this.findViews("RelatedFilesList").filter(function(t){return t.relatedMode===e})[0];t&&t.trackImpression()},updateFileInfo:function(e){var t=this.findView("FileInfo");t.model.get("id")!==e.get("id")&&(Object.assign(t,{model:e}),t.render())},onRelatedFileClickCallback:function(e,t){t&&(e.preventDefault(),e.stopPropagation(),this.app.observer.broadcast("Track:UE:FileViewModal:Open",{file:t.serialize(),route:"FileViewModal",view:this.name}),this.app.features.isFeatureOnValue("File View Classic")&&this.updateFileInfo(t),this.onRelatedClickCallback(t))},toggleLoader:function(){},onChangeTabCallback:function(){},onRelatedClickCallback:function(){},onRelatedReadyCallback:function(){}});Object.assign(C.prototype,w),e.exports=C},function(e,t,i){"use strict";e.exports=function(e){return'<div class="file-view__bottom" style="opacity: '+("undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}())(e.opacity)+'"></div>'}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<ul class="file-view__tabs view-tabs view-tabs_light">',n=e.scheme;if(n)for(var o,s=-1,r=n.length-1;s<r;)(o=n[s+=1]).enabled&&(i+='<li class="view-tabs__item _tab',o.active&&(i+=" view-tabs__item_active"),i+='" data-key="'+t(o.key)+'">'+this.tr(o.label)+"</li>");return i+="</ul>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="file-view__info-wrapper hidden _related" data-tab="info"><div class="file-view__container"><div class="file-view__info"><div class="file-view__info-line"><span class="file-view__info-name">';return"video"===e.file.type?i+=""+this.tr("Clip ID"):"vector"===e.file.type?i+=""+this.tr("Vector ID"):e.file.editorial?i+=""+this.tr("Photography ID"):i+=""+this.tr("Image ID"),i+=':</span><span class="file-view__info-value"><a class="link-white" href="'+e.file.url+'">'+t(e.file.id)+'</a></span></div><div class="file-view__info-line"><span class="file-view__info-name">'+this.tr("Copyright")+':</span><span class="file-view__info-value"><a class="link-white _portfolio" href="'+e.portfolioLink+'"><span>'+t(e.file.sellerName)+"</span></a></span></div>","video"===e.file.type&&(i+='<div class="file-view__info-line"><span class="file-view__info-name">'+this.tr("Length")+':</span><span class="file-view__info-value">'+t(e.file.mp)+' s</span></div><div class="file-view__info-line"><span class="file-view__info-name">'+this.tr("Aspect Ratio")+':</span><span class="file-view__info-value">'+t(e.file.ar)+"</span></div>"),e.file.editorial&&(i+='<div class="file-view__info-line"><span class="file-view__info-name">'+this.tr("Release Information")+':</span><span class="file-view__info-value"><span class="file-view__info-editorial-title">'+this.tr("Editorial Use Only.")+'</span><span class="file-view__info-editorial">'+this.tr("Use of this image in advertising or for promotional purposes is prohibited.")+'<i class="file-view__info-help icon icon-help _editorial-tooltip"></i></span></span></div>'),i+="</div></div></div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="file-view__related file-view__related_categories hidden _related" data-tab="'+t(e.relatedMode)+'"><div class="related-item__content related-item__content_category"><ul class="related-item__list"><li class="related-item__list-item _poster-box"></li>';if(e.file.categories.length){var n=e.file.categories;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<li class="related-item__list-item _item"><a class="related-item__category" href="'+(o=n[s+=1]).url+'"style="background-image: url('+t(this.app.cdnPath)+"_img/categories/"+t(o.alias)+'.jpg)"><span class="related-item__category-text">'+o.name+"</span></a></li>"}return i+="</ul></div></div>"}},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="'+t(e.layoutClassName)+'" data-tab="'+t(e.relatedMode)+'">';return e.title&&(i+='<h2 class="files-container__title related-item__title ',e.seeMoreData&&(i+=" files-container__title_see-more"),i+='">'+t(e.title)+"</h2>"),i+='<div class="_files-list"></div>',e.seeMoreData&&(e.seeMoreData.pseudo?i+='<span class="files-container__see-more-link link-blue _see-more _link" data-seolink="'+e.seeMoreData.url+'">'+e.seeMoreData.text+'<i class="files-container__see-more-icon icon icon-link-blue-dark"></i></span>':i+='<a class="files-container__see-more-link link-blue-on-dark" href="'+e.seeMoreData.url+'">'+e.seeMoreData.text+'<i class="files-container__see-more-icon icon icon-link-blue"></i></a>'),i+="</div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="'+t(e.layoutClassName)+'">';e.title&&(i+='<h2 class="related-item__title">'+t(e.title)+"</h2>"),i+='<div class="related-slider"><div class="flex-files '+e.classes.list+'">';var n=e.items;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<div data-id="'+t((o=n[s+=1]).id)+'" class="file-container '+e.itemsData[o.id].classes.box+'"><a href="'+o.url+'" class="'+e.itemsData[o.id].classes.link+'"><amp-img src="'+t(o.thumbs[e.layout])+'"class="file-container__image _file-image"alt="'+t(o.seoAlt)+'"width="'+e.itemsData[o.id].width+'"height="'+e.itemsData[o.id].height+'"/>',o.seeMoreData||(e.isTitleInside?i+='<span class="file-container__title">'+t(o.title)+"</span>":i+='<span class="file-container__title hidden">'+t(o.title)+" #"+t(o.id)+"</span>"),i+="</a></div>";return i+="</div></div></div>"}},function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=i(534),a=i(923),l=i(924),c=a.extend({name:"RelatedFilesList",events:o({},a.prototype.events,{"mouseenter .file-container":"onFileMouseEnter","mouseleave .file-container":"onFileMouseLeave"}),initialize:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.prototype.initialize.apply(this,t),this.on("clientAfterRender",this.trackImpression)},trackImpression:function(){this.collection.length&&this.$el.is(":visible")&&this.app.observer.broadcast("Track:UE:File:UserSeeFileThumb",{page:1,files:this.collection.serialize(),relatedMode:this.relatedMode,anchor:this.model.get("id"),view:this.name})},handleFileClick:function(e){var t=this.$(e.currentTarget).closest("[data-id]").data("id"),i=this.collection.get(t);this.app.observer.broadcast("Track:UE:File:RelatedFileClick",{id:i.get("id"),index:this.$(e.currentTarget).index(),mode:this.relatedMode}),e.ctrlKey||e.shiftKey||e.metaKey?this.trackNewTabClick(i):(this.app.observer.broadcast("Track:UE:File:OpenFileView",{file:i,sourceFile:this.model,mode:this.relatedMode,viewMode:this.viewMode,view:this.name}),this.onFileClickCallback(e,i))},handleFileMouseup:function(e){if([r.rightMouse,r.middleMouse].includes(e.which)){var t=this.$(e.currentTarget).closest("[data-id]").data("id");this.trackNewTabClick(this.collection.get(t))}},handleSeeMoreClick:function(e){this.trackSeeMore(e)},trackSeeMore:function(e){e.ctrlKey||e.shiftKey||e.metaKey?this.trackSeeMoreNewTabClick():this.app.observer.broadcast("Track:UE:File:SeeMoreClick",{mode:this.relatedMode})},trackSeeMoreNewTabClick:function(){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"FileSeeMore",target:{target:"search"},params:{mode:this.relatedMode}})},trackNewTabClick:function(e){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"FileThumb",target:{target:"fileView",targetId:e.id},params:o({},e&&e.toTracking(),{mode:this.relatedMode,view:this.name})})},toTracking:function(){return this.serializeItems()}});Object.assign(c.prototype,l),e.exports=c},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e,t){return e.reduce(function(e,i){return i<=t&&(e=Math.max(e,i)),e},-1)}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="'+t(e.classes.slider)+'"><div class="files-slider__nav files-slider__nav_left _prev"><i class="icon icon-nav-arrow-left-white-big"></i></div><div class="flex-files '+e.classes.list+' _slider" ';e.styles.list&&(i+=' style="'+e.styles.list+'"'),i+=">";var n=e.items;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<div data-id="'+t((o=n[s+=1]).id)+'" class="file-container '+e.itemsData[o.id].classes.box+'" ',e.itemsData[o.id].styles&&(i+=' style="'+e.itemsData[o.id].styles+'"'),i+='><a href="'+o.url+'"',e.settings.linkTarget&&(i+=' target="_blank"'),i+='class="'+e.itemsData[o.id].classes.link+" ",o.seeMoreData?i+=" _see-more":i+=" _thumb-link _file-box-holder _file-box-image",i+='"',e.itemsData[o.id].linkStyles&&(i+=' style="'+e.itemsData[o.id].linkStyles+'"'),i+="><img ",o.lazyload&&o.lazyload.enabled?(o.lazyload.src&&(i+=' src="'+t(o.lazyload.src)+'"'),i+='data-src="'+t(o.lazyload.dataSrc)+'"'):i+='src="'+t(o.thumbs[e.layout])+'"',i+='class="file-container__image _file-image',o.lazyload&&o.lazyload.enabled&&(i+=" lazyload"),i+='"alt="'+t(o.seoAlt)+'"title="'+t(o.seoTitle)+'"width="'+e.itemsData[o.id].width+'"height="'+e.itemsData[o.id].height+'"/>',o.seeMoreData||(e.isTitleInside?i+='<span class="file-container__title">'+t(o.title)+"</span>":i+='<span class="file-container__title hidden">'+t(o.title)+" #"+t(o.id)+"</span>",e.shouldShowFreeLabel&&o.free&&(i+='<div class="file-container__sale-free',o.isFreeCurated&&(i+=" file-container__sale-free_simple"),i+='"><div class="label label-sale',o.isFreeCurated&&(i+=" label-sale_curated"),i+='">'+t(o.freeLabel)+"</div></div>"),i+='<span class="file-container__indicators">',e.isCartBtnEnabled&&(i+='<span class="file-container__indicators-item label label-in-cart _label-in-cart',o.inCart||(i+=" hidden"),i+='"title="'+this.tr("In Shopping Cart")+'"></span>'),e.isFavoriteBtnEnabled&&(i+='<span class="file-container__indicators-item label label-in-favorites _label-in-favorites',o.inFavorites||(i+=" hidden"),i+='"title="'+this.tr("Added to Favorites")+'"></span>'),i+='</span><div class="file-container__details">',e.settings.author&&(i+='<img class="file-container__contributor-avatar avatar avatar-s" src="'+t(o.avatar)+'" />'),i+='<div class="file-container__name-details">',e.settings.author&&(i+='<div class="file-container__contributor label label-contributor">'+t(o.sellerName)+"</div>"),e.settings.maxsize&&(i+='<div class="file-container__maxsize label label-maxsize">'+t(o.width)+" x "+t(o.height)+"</div>"),i+="</div><div ","video"===o.type&&(i+=' class="file-container__video-details"'),i+=">",e.shouldShowVideoLength&&"video"===o.type&&(i+='<div class="file-container__video-length label label-video-length">'+t(o.formattedLength)+"</div>"),e.settings.type&&(i+='<div class="file-container__type label label-type label-type-'+t(o.type)+'"></div>'),i+="</div></div>",(e.settings.author||e.settings.maxsize||e.settings.type||e.shouldShowVideoLength&&"video"===o.type)&&(i+='<span class="file-container__details-shadow"></span>'),i+='<span class="file-container__actions">',e.isCartBtnEnabled&&(i+='<button class="file-container__actions-item button button-circle button-add-to-cart',o.inCart&&(i+=" active"),i+=' _to-cart"title="',o.inCart?i+=""+this.tr("Remove from Shopping Cart"):i+=""+this.tr("Add to Shopping Cart"),i+='"></button>'),e.isFavoriteBtnEnabled&&(i+='<button class="file-container__actions-item button button-circle button-add-to-favorites',o.inFavorites&&(i+=" active"),i+=' _to-favorites"title="',o.inCart?i+=""+this.tr("Remove from Favorites"):i+=""+this.tr("Add to Favorites"),i+='"></button>'),e.isSimilarBtnEnabled&&(i+='<button class="file-container__actions-item button button-circle button-see-more-similars _to-similar"title="',"video"===o.type?i+=""+this.tr("Find Similar Videos"):i+=""+this.tr("Find Similar Images"),i+='"></button>'),i+="</span>","video"!==o.type&&(i+='<div class="file-container__btns">',e.isZoomBtnEnabled&&(i+='<button class="file-container__zoom button-zoom button-zoom-small _zoom" title="'+this.tr("Quick Preview")+'"></button>'),e.isEditableFolder&&(i+='<button class="file-container__cover button-cover _cover" title="'+this.tr("Set as Folder Cover")+'"></button>'),i+="</div>")),o.seeMoreData&&(i+='<span class="file-container__see-more">'+o.seeMoreData.text+"</span>"),i+="</a></div>";return i+='</div><div class="files-slider__nav files-slider__nav_right _next"><i class="icon icon-nav-arrow-right-white-big"></i></div></div>'}},function(e,t,i){"use strict";e.exports.base={connectToSortable:"._sortable-files",cancel:".vjs-control-bar",addClasses:!1,appendTo:"body",cursor:"move",cursorAt:{top:15,left:0},scroll:!1,opacity:.5,zIndex:4001,distance:5,delay:150}},function(e,t,i){"use strict";var n=i(0),o=i(1562),s=i(496);e.exports=s.extend({el:!1,defaultMode:"search",active:!1,template:o,initialize:function(e){e.mode&&(this.defaultMode=e.mode),e.app&&this.listenTo(e.app.observer,"Draggable:switchHelper",this.switchMode.bind(this))},serialize:function(){return this.data},clientAfterRender:function(){"search"===this.data.mode&&"wide"===this.data.thumbSize&&this.$("img").attr({style:this.data.itemsData[this.data.model.id].holderStyle})},setData:function(e){return e.mode||(e.mode=this.defaultMode),this.data=e,this.render().promise()},switchMode:function(e){if(this.active){var t=e,i=n.clone(this.data.model);n.size(n.omit(t,"mode"))<1&&(t=n.extend({},e,this.getDefaults())),this.setData(n.extend({},{model:i},t))}},getDefaults:function(){return n.result(this,"defaults")},defaults:function(){}})},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i="";if("search"===e.mode&&(i+='<div class="'+t(e.layoutClasses)+'"><div data-id="'+t(e.model.id)+'" class="file-container '+e.itemsData[e.model.id].classes.box+'" ',e.itemsData[e.model.id].styles&&(i+=' style="'+e.itemsData[e.model.id].styles+'"'),i+='><a href="'+e.model.url+'"',e.settings.linkTarget&&(i+=' target="_blank"'),i+='class="'+e.itemsData[e.model.id].classes.link+" ",e.model.seeMoreData?i+=" _see-more":i+=" _thumb-link _file-box-holder _file-box-image",i+='"',e.itemsData[e.model.id].linkStyles&&(i+=' style="'+e.itemsData[e.model.id].linkStyles+'"'),i+="><img ",e.model.lazyload&&e.model.lazyload.enabled?(e.model.lazyload.src&&(i+=' src="'+t(e.model.lazyload.src)+'"'),i+='data-src="'+t(e.model.lazyload.dataSrc)+'"'):i+='src="'+t(e.model.thumbs[e.layout])+'"',i+='class="file-container__image _file-image',e.model.lazyload&&e.model.lazyload.enabled&&(i+=" lazyload"),i+='"alt="'+t(e.model.seoAlt)+'"title="'+t(e.model.seoTitle)+'"width="'+e.itemsData[e.model.id].width+'"height="'+e.itemsData[e.model.id].height+'"/>',e.model.seeMoreData||(e.isTitleInside?i+='<span class="file-container__title">'+t(e.model.title)+"</span>":i+='<span class="file-container__title hidden">'+t(e.model.title)+" #"+t(e.model.id)+"</span>",e.shouldShowFreeLabel&&e.model.free&&(i+='<div class="file-container__sale-free',e.model.isFreeCurated&&(i+=" file-container__sale-free_simple"),i+='"><div class="label label-sale',e.model.isFreeCurated&&(i+=" label-sale_curated"),i+='">'+t(e.model.freeLabel)+"</div></div>"),i+='<span class="file-container__indicators">',e.isCartBtnEnabled&&(i+='<span class="file-container__indicators-item label label-in-cart _label-in-cart',e.model.inCart||(i+=" hidden"),i+='"title="'+this.tr("In Shopping Cart")+'"></span>'),e.isFavoriteBtnEnabled&&(i+='<span class="file-container__indicators-item label label-in-favorites _label-in-favorites',e.model.inFavorites||(i+=" hidden"),i+='"title="'+this.tr("Added to Favorites")+'"></span>'),i+='</span><div class="file-container__details">',e.settings.author&&(i+='<img class="file-container__contributor-avatar avatar avatar-s" src="'+t(e.model.avatar)+'" />'),i+='<div class="file-container__name-details">',e.settings.author&&(i+='<div class="file-container__contributor label label-contributor">'+t(e.model.sellerName)+"</div>"),e.settings.maxsize&&(i+='<div class="file-container__maxsize label label-maxsize">'+t(e.model.width)+" x "+t(e.model.height)+"</div>"),i+="</div><div ","video"===e.model.type&&(i+=' class="file-container__video-details"'),i+=">",e.shouldShowVideoLength&&"video"===e.model.type&&(i+='<div class="file-container__video-length label label-video-length">'+t(e.model.formattedLength)+"</div>"),e.settings.type&&(i+='<div class="file-container__type label label-type label-type-'+t(e.model.type)+'"></div>'),i+="</div></div>",(e.settings.author||e.settings.maxsize||e.settings.type||e.shouldShowVideoLength&&"video"===e.model.type)&&(i+='<span class="file-container__details-shadow"></span>'),i+='<span class="file-container__actions">',e.isCartBtnEnabled&&(i+='<button class="file-container__actions-item button button-circle button-add-to-cart',e.model.inCart&&(i+=" active"),i+=' _to-cart"title="',e.model.inCart?i+=""+this.tr("Remove from Shopping Cart"):i+=""+this.tr("Add to Shopping Cart"),i+='"></button>'),e.isFavoriteBtnEnabled&&(i+='<button class="file-container__actions-item button button-circle button-add-to-favorites',e.model.inFavorites&&(i+=" active"),i+=' _to-favorites"title="',e.model.inCart?i+=""+this.tr("Remove from Favorites"):i+=""+this.tr("Add to Favorites"),i+='"></button>'),e.isSimilarBtnEnabled&&(i+='<button class="file-container__actions-item button button-circle button-see-more-similars _to-similar"title="',"video"===e.model.type?i+=""+this.tr("Find Similar Videos"):i+=""+this.tr("Find Similar Images"),i+='"></button>'),i+="</span>","video"!==e.model.type&&(i+='<div class="file-container__btns">',e.isZoomBtnEnabled&&(i+='<button class="file-container__zoom button-zoom button-zoom-small _zoom" title="'+this.tr("Quick Preview")+'"></button>'),e.isEditableFolder&&(i+='<button class="file-container__cover button-cover _cover" title="'+this.tr("Set as Folder Cover")+'"></button>'),i+="</div>")),e.model.seeMoreData&&(i+='<span class="file-container__see-more">'+e.model.seeMoreData.text+"</span>"),i+="</a></div></div>"),"favorite"===e.mode&&(i+='<div class="files-list_layout-'+t(e.panel.thumbs)+'"><div data-id="'+t(e.model.id)+'" class="file-box folder-file-box _favorite-file',-1!==e.listOfSelected.indexOf(e.model.id)&&(i+=" file-box_selected"),i+='"><a class="file-box__link" href="'+e.model.url+'"><span class="file-box__holder"><span class="file-box-image file-box__image-holder',e.model.width>e.model.height&&e.model.height/e.model.width<.5&&(i+=" file-box__image-holder_limit"),i+='"style="background-image: url('+t(e.model.thumbs[e.thumbSizes[e.panel.thumbs]])+')"></span><span class="file-box-video"></span></span><span class="file-box__indicator"><span class="file-box__indicator-item label label-in-cart _label-in-cart ',e.model.inCart||(i+=" hidden"),i+='" title="'+this.tr("In Shopping Cart")+'"></span></span><span class="file-box__control _prevent"><i class="file-box__control-item',e.viewOnly?i+=" file-box__control-item_disabled ":i+=" _delete",i+=' icon icon-item-remove"></i><i class="file-box__control-item',e.viewOnly&&(i+=" file-box__control-item_disabled"),i+=' icon icon-item-move"></i><i class="file-box__control-item icon icon-checkbox icon-checkbox-l _select',-1!==e.listOfSelected.indexOf(e.model.id)&&(i+=" checked"),i+='"></i><span class="file-box__blur"><img class="file-box__blur-image" src="'+e.model.thumbs[e.panel.thumbs]+'" style="filter: url(#blur'+t(e.model.id)+')" /></span></span></a></div></div>'),"filePage"===e.mode){if(i+='<div class="file-box view-file-box _file-box '+t(e.fileViewBoxClassNames)+'"><div class="view-file-box__holder ',e.shouldShowTextInside&&(i+="view-file-box__holder_text-inside"),i+=' _file-box-holder"><div class="view-file-box__box _draggable-box">',"video"===e.file.type?(i+='<div class="view-file-box__video _video-placeholder"><div class="view-file-box__video-placeholder" style="'+e.videoPlaceholderStyles+'"></div><img class="view-file-box__video-poster view-file-box__video-poster_absolute _video-poster" src="'+e.thumb.src+'"width="'+e.dimensions.w+'" height="'+e.dimensions.h+'"',e.thumb.preload&&(i+=' data-preload="'+e.thumb.preload+'"'),i+='alt="'+e.file.seoAlt+'" title="'+e.file.seoTitle+'" /><i class="view-file-box__play-video icon-play-video"></i></div>'):(i+='<a class="view-file-box__image-box view-file-box__image-box_label view-file-box__image-clear _image-box" href="'+e.thumb.download+'"><img class="view-file-box__image',e.dimensions.w>=e.dimensions.h?i+=" view-file-box__image_h":i+=" view-file-box__image_v",i+=" ",e.thumb.hasLabel||(i+=" view-file-box__image-clear"),i+=' _image _zoom-image" src="'+e.thumb.src+'" ',e.thumb.preload?i+=' data-preload="'+e.thumb.preload+'"':i+=' data-src="'+e.thumb.seo+'"',i+=" ",e.thumb.preloadMax&&(i+=' data-preload-max="'+e.thumb.preloadMax+'"'),i+=' width="'+e.dimensions.w+'" height="'+e.dimensions.h+'" alt="'+e.file.seoAlt+'" title="'+this.tr("Download")+" - "+e.file.seoTitle+'" itemprop="image"/></a>'),i+='<div class="view-file-box__action',e.actionsSmallMode&&(i+=" view-file-box__action_small"),"video"===e.file.type&&(i+=" _view-file-box-video"),i+=' _action-box"><span class="view-file-box__action-holder',"modal"===e.viewMode&&e.file.editorial&&(i+=" view-file-box__action-holder_tall"),i+='">',e.isCartBtnEnabled&&(i+='<button class="view-file-box__action-item button-circle button-circle-xl button-add-to-cart',e.file.inCart&&(i+=" active"),i+=' _to-cart"title="',e.file.inCart?i+=""+this.tr("Remove from Shopping Cart"):i+=""+this.tr("Add to Shopping Cart"),i+='"></button>'),e.isFavoriteBtnEnabled&&(i+='<button class="view-file-box__action-item button-circle button-circle-xl button-add-to-favorites _to-favorites',e.file.inFavorites&&(i+=" active"),i+='"title="',e.file.inFavorites?i+=""+this.tr("Remove from Favorites"):i+=""+this.tr("Add to Favorites"),i+='"></button>'),e.isSharingEnabled&&(i+='<button class="view-file-box__action-item button-circle button-circle-xl button-share _share" title="'+this.tr("Share")+'"></button>'),e.isEnterpriseUser||(i+='<a class="view-file-box__action-item button-circle button-circle-xl button-download _download_comp" ',e.canDownloadComp&&(i+='href="'+e.thumb.download+'?download=true" '),i+='title="'+this.tr("Download Comp")+'"></a>'),i+="</span></div>",e.isSharingEnabled&&(i+='<div class="view-file-box__share _share-box"><div class="view-file-box__share-container"><div class="view-file-box__share-box"><div class="view-file-box__share-holder"><i class="view-file-box__close icon icon-close-cross icon-close-cross-white _share-close"></i><ul class="view-file-box__list"><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="730" data-height="420" data-title="Tweet" data-social="twitter"><span class="button-circle button-circle-xl button-social-twitter"></span></a></li><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="650" data-height="370" data-title="Facebook" data-social="facebook"><span class="button-circle button-circle-xl button-social-facebook"></span></a></li><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="700" data-height="370" data-title="Pinterest" data-social="pinterest"><span class="button-circle button-circle-xl button-social-pinterest"></span></a></li>',e.showVKSocial&&(i+='<li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="700" data-height="370" data-title="VK" data-social="vk"><span class="button-circle button-circle-xl button-social-vk"></span></a></li>'),i+="</ul></div></div></div></div>"),i+='<div class="view-file-box__indicator-wrapper">',e.infoIndicators.length){i+="<div class='view-file-box__indicator-info'>";var n=e.infoIndicators;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+="<div class='view-file-box__info'><i class=\"icon "+t((o=n[s+=1]).iconClass)+'"></i>'+t(o.value)+"</div>";i+="</div>"}i+='<div class="view-file-box__to-page _to-page"></div><div class="view-file-box__similar-btn _thumb-find-similar"></div><div class="view-file-box__indicator">',e.isCartBtnEnabled&&(i+='<i class="view-file-box__indicator-item label-in-cart _label-in-cart',e.file.inCart||(i+=" hidden"),i+='" title="'+this.tr("In Shopping Cart")+'"></i>'),e.isFavoriteBtnEnabled&&(i+='<i class="view-file-box__indicator-item label-in-favorites _label-in-favorites',e.file.inFavorites||(i+=" hidden"),i+='" title="'+this.tr("Added to Favorites")+'"></i>'),i+="</div></div>","video"!==e.file.type&&(i+='<button class="view-file-box__lens view-file-box__btn view-file-box__btn_full-screen _zoom-btn"></button>'),"modal"===e.viewMode&&e.file.editorial&&(i+='<div class="view-file-box__editorial-box',"video"===e.file.type&&(i+=" view-file-box__editorial-box-video"),i+='"><span class="view-file-box__editorial"><span class="view-file-box__editorial-text">'+this.tr("Editorial Use Only")+'</span><i class="view-file-box__editorial-icon icon icon-help icon-help-light-active _editorial-tooltip"></i></span></div>'),i+="</div>","page"!==e.viewMode||e.hideDescription||(i+='<p class="view-file-box__description view-file-box__description_short _file-box-description ',e.isModifyDescriptionWidth&&(i+="view-file-box__description_squeezed"),i+='">',"video"===e.file.type?i+=t(e.file.visibleDescription)+" &mdash; "+this.tr("Video by %s",e.file.sellerName):(i+='<a class="view-file-box__description-link _zoom-image" href="'+e.thumb.download+'"><span class="view-file-box__description-text" itemprop="description">'+t(e.file.visibleDescription)+"</span> &mdash; ","vector"===e.file.type?i+=""+this.tr("Vector by %s",e.file.sellerName):i+=""+this.tr("Photo by %s",e.file.sellerName),i+="</a>"),e.shouldShowFileId&&(i+='<span class="view-file-box__description-id">| '+this.tr("ID")+": "+t(e.file.id)+"</span>"),i+="</p>"),i+="</div></div>"}return"related"===e.mode&&(i+='<div data-id="'+t(e.model.id)+'" class="file-container '+e.itemsData[e.model.id].classes.box+'" ',e.itemsData[e.model.id].styles&&(i+=' style="'+e.itemsData[e.model.id].styles+'"'),i+='><a href="'+e.model.url+'"',e.settings.linkTarget&&(i+=' target="_blank"'),i+='class="'+e.itemsData[e.model.id].classes.link+" ",e.model.seeMoreData?i+=" _see-more":i+=" _thumb-link _file-box-holder _file-box-image",i+='"',e.itemsData[e.model.id].linkStyles&&(i+=' style="'+e.itemsData[e.model.id].linkStyles+'"'),i+="><img ",e.model.lazyload&&e.model.lazyload.enabled?(e.model.lazyload.src&&(i+=' src="'+t(e.model.lazyload.src)+'"'),i+='data-src="'+t(e.model.lazyload.dataSrc)+'"'):i+='src="'+t(e.model.thumbs[e.layout])+'"',i+='class="file-container__image _file-image',e.model.lazyload&&e.model.lazyload.enabled&&(i+=" lazyload"),i+='"alt="'+t(e.model.seoAlt)+'"title="'+t(e.model.seoTitle)+'"width="'+e.itemsData[e.model.id].width+'"height="'+e.itemsData[e.model.id].height+'"/>',e.model.seeMoreData||(e.isTitleInside?i+='<span class="file-container__title">'+t(e.model.title)+"</span>":i+='<span class="file-container__title hidden">'+t(e.model.title)+" #"+t(e.model.id)+"</span>",e.shouldShowFreeLabel&&e.model.free&&(i+='<div class="file-container__sale-free',e.model.isFreeCurated&&(i+=" file-container__sale-free_simple"),i+='"><div class="label label-sale',e.model.isFreeCurated&&(i+=" label-sale_curated"),i+='">'+t(e.model.freeLabel)+"</div></div>"),i+='<span class="file-container__indicators">',e.isCartBtnEnabled&&(i+='<span class="file-container__indicators-item label label-in-cart _label-in-cart',e.model.inCart||(i+=" hidden"),i+='"title="'+this.tr("In Shopping Cart")+'"></span>'),e.isFavoriteBtnEnabled&&(i+='<span class="file-container__indicators-item label label-in-favorites _label-in-favorites',e.model.inFavorites||(i+=" hidden"),i+='"title="'+this.tr("Added to Favorites")+'"></span>'),i+='</span><div class="file-container__details">',e.settings.author&&(i+='<img class="file-container__contributor-avatar avatar avatar-s" src="'+t(e.model.avatar)+'" />'),i+='<div class="file-container__name-details">',e.settings.author&&(i+='<div class="file-container__contributor label label-contributor">'+t(e.model.sellerName)+"</div>"),e.settings.maxsize&&(i+='<div class="file-container__maxsize label label-maxsize">'+t(e.model.width)+" x "+t(e.model.height)+"</div>"),i+="</div><div ","video"===e.model.type&&(i+=' class="file-container__video-details"'),i+=">",e.shouldShowVideoLength&&"video"===e.model.type&&(i+='<div class="file-container__video-length label label-video-length">'+t(e.model.formattedLength)+"</div>"),e.settings.type&&(i+='<div class="file-container__type label label-type label-type-'+t(e.model.type)+'"></div>'),i+="</div></div>",(e.settings.author||e.settings.maxsize||e.settings.type||e.shouldShowVideoLength&&"video"===e.model.type)&&(i+='<span class="file-container__details-shadow"></span>'),i+='<span class="file-container__actions">',e.isCartBtnEnabled&&(i+='<button class="file-container__actions-item button button-circle button-add-to-cart',e.model.inCart&&(i+=" active"),i+=' _to-cart"title="',e.model.inCart?i+=""+this.tr("Remove from Shopping Cart"):i+=""+this.tr("Add to Shopping Cart"),i+='"></button>'),e.isFavoriteBtnEnabled&&(i+='<button class="file-container__actions-item button button-circle button-add-to-favorites',e.model.inFavorites&&(i+=" active"),i+=' _to-favorites"title="',e.model.inCart?i+=""+this.tr("Remove from Favorites"):i+=""+this.tr("Add to Favorites"),i+='"></button>'),e.isSimilarBtnEnabled&&(i+='<button class="file-container__actions-item button button-circle button-see-more-similars _to-similar"title="',"video"===e.model.type?i+=""+this.tr("Find Similar Videos"):i+=""+this.tr("Find Similar Images"),i+='"></button>'),i+="</span>","video"!==e.model.type&&(i+='<div class="file-container__btns">',e.isZoomBtnEnabled&&(i+='<button class="file-container__zoom button-zoom button-zoom-small _zoom" title="'+this.tr("Quick Preview")+'"></button>'),e.isEditableFolder&&(i+='<button class="file-container__cover button-cover _cover" title="'+this.tr("Set as Folder Cover")+'"></button>'),i+="</div>")),e.model.seeMoreData&&(i+='<span class="file-container__see-more">'+e.model.seeMoreData.text+"</span>"),i+="</a></div>"),i}},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";var n=i(0),o=i(732);e.exports=o.extend({name:"List",el:!1,templatePartial:function(){return"Setup templatePartial for "+this.name+".js"},collection:null,autoScrollToStart:!0,autoScrollPadding:150,endless:!1,__needPartialRender:!1,__partialPrepend:!1,__applyPartialTemplate:function(e){this.__partialPrepend?this.$el.prepend(e):this.$el.append(e)},_applyTemplate:function(e,t){this.__needPartialRender?this.__applyPartialTemplate(e):o.prototype._applyTemplate.apply(this,[e,t])},__renderPartialTemplate:function(e,t){return this.templatePartial.call(this,t).trim()},renderTemplate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.__needPartialRender?this.__renderPartialTemplate.apply(this,t):o.prototype.renderTemplate.apply(this,t)},initialize:function(){this.listenToCollection()},listenToCollection:function(){this.listenTo(this.collection,{update:this._onCollectionUpdate,reset:this._onCollectionReset})},scrollToStart:function(){if(!this.endless&&this.autoScrollToStart){var e=this.$el.offset().top-this.autoScrollPadding,t=Math.max(0,e);window.scrollTo(0,t)}},_onCollectionUpdate:function(e,t){this.__needPartialRender=this.endless,this.__partialPrepend=0===n.result(t,"at"),this.render(),this.scrollToStart()},_onCollectionReset:function(){this.__needPartialRender=!1,this.render(),this.scrollToStart()}})},function(e,t,i){"use strict";var n=i(532),o=i(1567);e.exports=n.extend({name:"CoverCrop",initialize:function(){var e=this;this.title=this.tr("Cover Crop"),this.body=function(){return new o({file:e.file,app:e.app})},this.footer=[{label:this.tr("Cancel"),hide:!0},{label:this.tr("Ok"),color:"blue",defaultAction:!0,callback:"cropCallback"}]},cropCallback:function(){var e=this,t=this.app.store.get("Folder");this.closeOnOverlayClick=!0,this.$el.addClass("modal_loading"),this.listenToOnce(t,"sync",function(){e.app.observer.fire("Folder:AddCover",{fileId:e.file.get("id")}),e.hide()}),this.findView("CoverCropBody").crop()}})},function(e,t,i){"use strict";var n=i(1003),o=i(1568),s=i(496),r=i(69);e.exports=s.extend({name:"CoverCropBody",el:!1,template:o,prepareRender:function(){this.sizes=this.getThumbSizes()},serialize:function(){return{sizes:this.sizes,url:r.getThumbUrl({file:this.file.serialize(),size:"wideSmall",protocol:this.app.parsedUrl.protocol})}},clientAfterRender:function(){this.cropper=new n(this.$("._img").get(0),{aspectRatio:5,minCropBoxWidth:this.sizes.width,minContainerHeight:this.sizes.height,zoomable:!1})},getThumbSizes:function(){var e=this.file.get("width"),t=this.file.get("height");return e>t?{width:450,height:Math.floor(450*t/e)}:{width:Math.floor(450*e/t),height:450}},crop:function(){var e=this.app.store.get("Folder"),t=this.cropper.getCropBoxData(),i=this.sizes.width/this.sizes.height>5,n=1600/this.sizes.width,o=Object.assign({fileId:this.file.get("id"),folderId:e.get("id")},{boxWidth:1600,boxHeight:Math.floor(1600*this.sizes.height/this.sizes.width),width:i?Math.floor(t.width*n):1600,height:Math.floor(t.height*n),top:Math.floor(t.top*n),left:Math.floor(t.left*n)});e.save({coverCropData:o})}})},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}();return'<div class="cover-crop" style="width: '+t(e.sizes.width)+'px;"><div class="cover-crop__wrap"><img class="cover-crop__img _img" src="'+e.url+'" style="width: '+t(e.sizes.width)+"px; height: "+t(e.sizes.height)+'px;" /></div></div>'}},function(e,t,i){"use strict";var n=i(1004);e.exports=n.extend({name:"VideoPreview",el:void 0,tagName:"span",className:"file-box-video",muted:!0,controls:!1,viewMode:"wide"})},function(e,t,i){},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="vjs-container"><noscript><video class="video-js vjs-deposit-skin ';return e.blackBackground&&(i+=" vjs-bg-black"),i+='"style="width: '+t(e.width)+"px; height: "+t(e.height)+'px;"width="'+t(e.width)+'" height="'+t(e.height)+'" controls="'+t(e.controls)+'" autoplay',e.poster&&(i+=' poster="'+t(e.poster)+'"'),e.preload&&(i+=" preload"),e.loop&&(i+=" loop"),i+=">",e.files.mp4&&(i+='<source type="video/mp4" src="'+e.files.mp4+'" itemprop="contentURL"></source>'),e.isWebmAllowed&&e.files.webm&&(i+='<source type="video/webm" src="'+e.files.webm+'" itemprop="contentURL"></source>'),e.files.ogg&&(i+='<source type="video/ogg" src="'+e.files.ogg+'" itemprop="contentURL"></source>'),i+='</video></noscript><video class="video-js vjs-deposit-skin ',e.blackBackground&&(i+=" vjs-bg-black"),i+='"style="width: '+t(e.width)+"px; height: "+t(e.height)+'px;"width="'+t(e.width)+'" height="'+t(e.height)+'" controls="'+t(e.controls)+'"',e.poster&&(i+=' poster="'+t(e.poster)+'"'),e.preload&&(i+=" preload"),e.loop&&(i+=" loop"),i+=">",e.files.mp4&&(i+='<source type="video/mp4" src="'+e.files.mp4+'" itemprop="contentURL"></source>'),e.isWebmAllowed&&e.files.webm&&(i+='<source type="video/webm" src="'+e.files.webm+'" itemprop="contentURL"></source>'),e.files.ogg&&(i+='<source type="video/ogg" src="'+e.files.ogg+'" itemprop="contentURL"></source>'),i+="</video></div>"}},function(e,t,i){"use strict";var n=i(0),o=i(38).getCategoriesWithUrl,s=i(1573),r=i(653),a=i(534),l=i(1314),c=i(496),d=i(628),u=i(103),h=i(562);e.exports=c.extend({name:"RelatedContentDefault",el:!1,relatedMode:void 0,viewMode:"modal",events:{"click ._item":"onSeriesBoxClick","contextmenu ._item":"onSeriesBoxCustomClick","mouseup ._item":"onSeriesBoxCustomClick"},initialize:function(){this.file=new u({id:this.model.get("id")},{app:this.app}),this.listenTo(this.file,"sync",this.render),this.file.fetch({parser:"parseFromFile"}),this.series=new h(n.extend({},n.findWhere(r.series,{name:"curatedCollectionPoster"}),{lang:this.app.lang}),{app:this.app}),this.listenTo(this.series,"sync",this.render),this.series.fetch()},prepareRender:function(){var e=this;this.insertView("._poster-box",new d({app:this.app,template:l,model:this.series,onSeriesBoxClick:function(t){return e.onSeriesBoxClick(t)},onSeriesBoxCustomClick:function(t){return e.onSeriesBoxCustomClick(t)}}))},serialize:function(){var e=n.clone(this.file.attributes);return e.categories=this.prepareCategories(e.categories),{file:e,relatedMode:this.relatedMode}},clientAfterRender:function(){this.clientAfterRenderCallback()},trackClick:function(e){this.app.observer.broadcast("Track:UE:File:CategoriesClick",Object.assign({mode:"modal"},e))},trackNewTabClick:function(e){this.app.observer.broadcast("Track:UE:ContextMenu:Open",{source:"Categories",target:{target:"search"},params:{mode:"modal",type:"collection",text:e.text,position:e.position}})},toTracking:function(){return[this.series.serialize()].concat(this.prepareCategories(this.file.get("categories")))},prepareCategories:function(e){var t=n.clone(e)||[],i=e?3-e.length:3,r=n.clone(e)||[];return i>0&&(n.each(e||[],function(e){s[e]&&n.each(s[e].similar,function(e){t.push(e)})}),r=n.difference(n.uniq(t),e),r=n.union(e,n.shuffle(r).slice(0,i))),o(this.app,r)},onSeriesBoxClick:function(e){var t=this.$(e.currentTarget),i={position:t.index()+1,text:t.text()};e.ctrlKey||e.shiftKey||e.metaKey?this.trackNewTabClick(i):this.trackClick(i)},onSeriesBoxCustomClick:function(e){if([a.rightMouse,a.middleMouse].includes(e.which)){var t=this.$(e.currentTarget),i={position:t.index()+1,text:t.text()};this.trackNewTabClick(i)}},clientAfterRenderCallback:n.noop})},function(e,t,i){"use strict";e.exports={6:{similar:[34,37]},7:{similar:[18,42]},8:{similar:[13,23]},9:{similar:[15,16]},10:{similar:[12,29]},11:{similar:[10,33]},12:{similar:[10,29]},13:{similar:[8,30]},14:{similar:[13,22]},15:{similar:[9,16]},16:{similar:[9,15]},17:{similar:[25,36]},18:{similar:[7,42]},19:{similar:[10,35]},20:{similar:[16,35]},21:{similar:[34,37]},22:{similar:[36,39]},23:{similar:[8,15]},24:{similar:[10,12]},25:{similar:[17,44]},26:{similar:[29,42]},27:{similar:[8,13]},28:{similar:[18,42]},29:{similar:[10,12]},30:{similar:[8,13]},31:{similar:[8,29]},32:{similar:[17,29]},33:{similar:[10,11]},34:{similar:[6,21]},35:{similar:[19,20]},36:{similar:[17,22]},37:{similar:[6,21]},38:{similar:[22,44]},39:{similar:[22,29]},41:{similar:[8,30]},42:{similar:[7,18]},43:{similar:[13,30]},44:{similar:[22,25]}}},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";var n=i(0),o=i(4),s=i(1577);e.exports=o.extend({parse:function(e){var t=new s(n.pick(e,"elementResource","type","imageUrl","videoUrl"),{parse:!0});return n.extend({},n.omit(e,"elementResource","type","imageUrl","videoUrl"),{resource:t})},toJSON:function(){var e=n.omit(this.attributes,"resource");return e.resource=this.get("resource").toJSON(),e.urlVar&&(e.urlVar=this.app.makeUrl(e.urlVar)),e}})},function(e,t,i){"use strict";var n=i(4);e.exports=n.extend({parse:function(e){var t={};return e.imageUrl&&(t[e.imageUrl.split(".").pop()]=e.imageUrl),e.videoUrl&&(t[e.videoUrl.split(".").pop()]=e.videoUrl),{type:e.type||null,width:e.elementResource.resourceInfo&&e.elementResource.resourceInfo[0]?e.elementResource.resourceInfo[0]:null,height:e.elementResource.resourceInfo&&e.elementResource.resourceInfo[1]?e.elementResource.resourceInfo[1]:null,src:t}}})},function(e,t,i){"use strict";var n=i(0),o=i(13),s=i(496);e.exports=s.extend({name:"FileViewModalTabs",el:!1,events:{"click ._tab":function(e){e.stopPropagation(),this.changeActiveTab(Math.max(o.$(e.currentTarget).index(),0))}},initialize:function(){n.findWhere(this.scheme,{active:!0})||n.first(this.scheme.getEnabled()).set({active:!0}),this.listenTo(this.scheme,"change",this.render)},serialize:function(){return{scheme:this.scheme.toJSON()}},toTracking:function(){return this.scheme.filter(function(e){return e.get("enabled")})},changeActiveTab:function(e){this.scheme.changeActiveTab(e),this.changeTabCallback()},changeTabCallback:n.noop})},function(e,t,i){"use strict";var n=i(25);e.exports=n.extend({getEnabled:function(){return this.where({enabled:!0})},getActiveTab:function(){return this.findWhere({active:!0})},resetToFirstTab:function(){this.changeActiveTab(0)},changeActiveTab:function(e){this.getActiveTab()&&this.getActiveTab().set({active:!1},{silent:!0}),this.getEnabled()[e].set({active:!0})}})},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="file-view__thumb-wrapper" data-id="'+t(e.file.id)+'"><div class="file-box view-file-box _file-box '+t(e.fileViewBoxClassNames)+'"><div class="view-file-box__holder ';if(e.shouldShowTextInside&&(i+="view-file-box__holder_text-inside"),i+=' _file-box-holder"><div class="view-file-box__box _draggable-box">',"video"===e.file.type?(i+='<div class="view-file-box__video _video-placeholder"><div class="view-file-box__video-placeholder" style="'+e.videoPlaceholderStyles+'"></div><img class="view-file-box__video-poster view-file-box__video-poster_absolute _video-poster" src="'+e.thumb.src+'"width="'+e.dimensions.w+'" height="'+e.dimensions.h+'"',e.thumb.preload&&(i+=' data-preload="'+e.thumb.preload+'"'),i+='alt="'+e.file.seoAlt+'" title="'+e.file.seoTitle+'" /><i class="view-file-box__play-video icon-play-video"></i></div>'):(i+='<a class="view-file-box__image-box view-file-box__image-box_label view-file-box__image-clear _image-box" href="'+e.thumb.download+'"><img class="view-file-box__image',e.dimensions.w>=e.dimensions.h?i+=" view-file-box__image_h":i+=" view-file-box__image_v",i+=" ",e.thumb.hasLabel||(i+=" view-file-box__image-clear"),i+=' _image _zoom-image" src="'+e.thumb.src+'" ',e.thumb.preload?i+=' data-preload="'+e.thumb.preload+'"':i+=' data-src="'+e.thumb.seo+'"',i+=" ",e.thumb.preloadMax&&(i+=' data-preload-max="'+e.thumb.preloadMax+'"'),i+=' width="'+e.dimensions.w+'" height="'+e.dimensions.h+'" alt="'+e.file.seoAlt+'" title="'+this.tr("Download")+" - "+e.file.seoTitle+'" itemprop="image"/></a>'),i+='<div class="view-file-box__action',e.actionsSmallMode&&(i+=" view-file-box__action_small"),"video"===e.file.type&&(i+=" _view-file-box-video"),i+=' _action-box"><span class="view-file-box__action-holder',"modal"===e.viewMode&&e.file.editorial&&(i+=" view-file-box__action-holder_tall"),i+='">',e.isCartBtnEnabled&&(i+='<button class="view-file-box__action-item button-circle button-circle-xl button-add-to-cart',e.file.inCart&&(i+=" active"),i+=' _to-cart"title="',e.file.inCart?i+=""+this.tr("Remove from Shopping Cart"):i+=""+this.tr("Add to Shopping Cart"),i+='"></button>'),e.isFavoriteBtnEnabled&&(i+='<button class="view-file-box__action-item button-circle button-circle-xl button-add-to-favorites _to-favorites',e.file.inFavorites&&(i+=" active"),i+='"title="',e.file.inFavorites?i+=""+this.tr("Remove from Favorites"):i+=""+this.tr("Add to Favorites"),i+='"></button>'),e.isSharingEnabled&&(i+='<button class="view-file-box__action-item button-circle button-circle-xl button-share _share" title="'+this.tr("Share")+'"></button>'),e.isEnterpriseUser||(i+='<a class="view-file-box__action-item button-circle button-circle-xl button-download _download_comp" ',e.canDownloadComp&&(i+='href="'+e.thumb.download+'?download=true" '),i+='title="'+this.tr("Download Comp")+'"></a>'),i+="</span></div>",e.isSharingEnabled&&(i+='<div class="view-file-box__share _share-box"><div class="view-file-box__share-container"><div class="view-file-box__share-box"><div class="view-file-box__share-holder"><i class="view-file-box__close icon icon-close-cross icon-close-cross-white _share-close"></i><ul class="view-file-box__list"><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="730" data-height="420" data-title="Tweet" data-social="twitter"><span class="button-circle button-circle-xl button-social-twitter"></span></a></li><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="650" data-height="370" data-title="Facebook" data-social="facebook"><span class="button-circle button-circle-xl button-social-facebook"></span></a></li><li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="700" data-height="370" data-title="Pinterest" data-social="pinterest"><span class="button-circle button-circle-xl button-social-pinterest"></span></a></li>',e.showVKSocial&&(i+='<li class="view-file-box__list-item"><a class="view-file-box__share-item button-social button-social-share _share-button" rel="nofollow" data-width="700" data-height="370" data-title="VK" data-social="vk"><span class="button-circle button-circle-xl button-social-vk"></span></a></li>'),i+="</ul></div></div></div></div>"),i+='<div class="view-file-box__indicator-wrapper">',e.infoIndicators.length){i+="<div class='view-file-box__indicator-info'>";var n=e.infoIndicators;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+="<div class='view-file-box__info'><i class=\"icon "+t((o=n[s+=1]).iconClass)+'"></i>'+t(o.value)+"</div>";i+="</div>"}return i+='<div class="view-file-box__to-page _to-page"></div><div class="view-file-box__similar-btn _thumb-find-similar"></div><div class="view-file-box__indicator">',e.isCartBtnEnabled&&(i+='<i class="view-file-box__indicator-item label-in-cart _label-in-cart',e.file.inCart||(i+=" hidden"),i+='" title="'+this.tr("In Shopping Cart")+'"></i>'),e.isFavoriteBtnEnabled&&(i+='<i class="view-file-box__indicator-item label-in-favorites _label-in-favorites',e.file.inFavorites||(i+=" hidden"),i+='" title="'+this.tr("Added to Favorites")+'"></i>'),i+="</div></div>","video"!==e.file.type&&(i+='<button class="view-file-box__lens view-file-box__btn view-file-box__btn_full-screen _zoom-btn"></button>'),"modal"===e.viewMode&&e.file.editorial&&(i+='<div class="view-file-box__editorial-box',"video"===e.file.type&&(i+=" view-file-box__editorial-box-video"),i+='"><span class="view-file-box__editorial"><span class="view-file-box__editorial-text">'+this.tr("Editorial Use Only")+'</span><i class="view-file-box__editorial-icon icon icon-help icon-help-light-active _editorial-tooltip"></i></span></div>'),i+="</div>","page"!==e.viewMode||e.hideDescription||(i+='<p class="view-file-box__description view-file-box__description_short _file-box-description ',e.isModifyDescriptionWidth&&(i+="view-file-box__description_squeezed"),i+='">',"video"===e.file.type?i+=t(e.file.visibleDescription)+" &mdash; "+this.tr("Video by %s",e.file.sellerName):(i+='<a class="view-file-box__description-link _zoom-image" href="'+e.thumb.download+'"><span class="view-file-box__description-text" itemprop="description">'+t(e.file.visibleDescription)+"</span> &mdash; ","vector"===e.file.type?i+=""+this.tr("Vector by %s",e.file.sellerName):i+=""+this.tr("Photo by %s",e.file.sellerName),i+="</a>"),e.shouldShowFileId&&(i+='<span class="view-file-box__description-id">| '+this.tr("ID")+": "+t(e.file.id)+"</span>"),i+="</p>"),i+="</div></div></div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="file-view__thumb-wrapper" data-id="'+t(e.file.id)+'"><div class="file-box view-file-box _file-box '+t(e.fileViewBoxClassNames)+'"><div class="view-file-box__holder ';return e.shouldShowTextInside&&(i+="view-file-box__holder_text-inside"),i+=' _file-box-holder"><div class="view-file-box__box">',"video"===e.file.type?(i+='<div class="view-file-box__video _video-placeholder"><amp-img class="view-file-box__video-poster _video-poster" src="'+e.thumb.src+'"width="'+e.dimensions.w+'" height="'+e.dimensions.h+'"',e.thumb.preload&&(i+=' data-preload="'+e.thumb.preload+'"'),i+='alt="'+e.file.seoAlt+'" title="'+e.file.seoTitle+'" layout="intrinsic"/></div>'):(i+='<a class="view-file-box__image-box view-file-box__image-box_label view-file-box__image-clear _image-box" href="'+e.thumb.download+'"><amp-img class="view-file-box__image',e.dimensions.w>=e.dimensions.h?i+=" view-file-box__image_h":i+=" view-file-box__image_v",i+=" ",e.thumb.hasLabel||(i+=" view-file-box__image-clear"),i+=' _image _zoom-image" src="'+e.thumb.src+'" ',e.thumb.preload?i+=' data-preload="'+e.thumb.preload+'"':i+=' data-src="'+e.thumb.seo+'"',i+=" ",e.thumb.preloadMax&&(i+=' data-preload-max="'+e.thumb.preloadMax+'"'),i+=' width="'+e.dimensions.w+'" height="'+e.dimensions.h+'" layout="intrinsic" alt="'+e.file.seoAlt+'" title="'+this.tr("Download")+" - "+e.file.seoTitle+'" itemprop="image"/></a>'),i+='<div class="view-file-box__indicator-wrapper"><div class="view-file-box__similar-btn _thumb-find-similar"></div></div></div>',"page"!==e.viewMode||e.hideDescription||(i+='<p class="view-file-box__description view-file-box__description_short _file-box-description">',"video"===e.file.type?i+=t(e.file.visibleDescription)+" &mdash; "+this.tr("Video by %s",e.file.sellerName):(i+='<a class="view-file-box__description-link _zoom-image" href="'+e.thumb.download+'"><span class="view-file-box__description-text" itemprop="description">'+t(e.file.visibleDescription)+"</span> &mdash; ","vector"===e.file.type?i+=""+this.tr("Vector by %s",e.file.sellerName):i+=""+this.tr("Photo by %s",e.file.sellerName),i+="</a>"),i+="</p>"),i+="</div></div></div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="undefined"!=typeof _encodeHTML?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(null==e?"":""+e).replace(i,function(e){return t[e]||e})}}(),i='<div class="modal-container modal-container_file-zoom';if(e.lockInnerScroll&&(i+=" modal-container_lock-scroll"),i+='"><i class="overlay__close _close"></i><div class="modal _modal '+t(e.modalClasses)+'"><div class="modal__dialog"><div class="modal__zoom _body" style="width: '+t(e.dimensions.w)+"px; height: "+t(e.dimensions.h)+'px;"><div class="_wrap" style="width: '+t(e.dimensions.w)+"px; height: "+t(e.dimensions.h)+'px;">',"video"!==e.file.type&&(i+='<img class="modal__zoom-image _img" src="'+e.file.src+'" data-preload="'+t(e.file.preload)+'" alt="'+t(e.file.seoAlt)+'" title="'+t(e.file.seoTitle)+'">'),i+="</div></div>",e.shouldHideTitle||(i+='<div class="modal__zoom-caption',e.showDownloadButton&&(i+=" modal__zoom-caption_with-button"),i+=' _caption" style="width: '+t(e.dimensions.w)+'px;"><span class="modal__zoom-caption-text">'+t(e.file.seoTitle)+"</span>",e.showDownloadButton&&(i+='<span class="modal__zoom-caption-button"><button class="button button-xl button-watery button-blue _download">'+this.tr("Download")+"</button></span>"),i+="</div>"),i+="</div>",e.opacity.length){i+='<div class="bg-selector _opacity-range"><div class="bg-selector__content">';var n=e.opacity;if(n)for(var o,s=-1,r=n.length-1;s<r;)i+='<div class="bg-selector__handler _opacity-switcher ',(o=n[s+=1]).active&&(i+="bg-selector__handler_active"),i+='"><i class="bg-selector__handler-item" style="opacity: '+t(1-o.value/100)+';"></i></div>';i+="</div></div>"}return e.navigation.left&&(i+='<i class="modal__zoom-nav modal__zoom-nav_left button-nav button-nav-left _zoom-prev"></i>'),e.navigation.right&&(i+='<i class="modal__zoom-nav modal__zoom-nav_right button-nav button-nav-right _zoom-next"></i>'),i+="</div></div>"}},function(e,t,i){"use strict";e.exports=function(e){var t="",i=e.data;if(i)for(var n=-1,o=i.length-1;n<o;)t+='<script type="application/ld+json">'+i[n+=1]+"<\/script>";return t}},function(e,t,i){"use strict";var n=i(76),o=function(e){return e.replace(/^\//,"").replace(/\?\w+$/,"")}(i(1029));t.build=function(e){return{"@context":"http://schema.org","@type":"Organization",name:"Depositphotos",url:e.makeUrl("/"),logo:""+e.cdnPath+o,sameAs:[n.urlAliases.facebookAccount,n.urlAliases.twitterAccount,n.urlAliases.vkAccount]}}},function(e,t,i){"use strict";(function(e){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=i(1586),a=function(){var t=performance.getEntriesByType("navigation")[0],i=performance.getEntriesByName("logoReady")[0],n=function(){if(!e.browser||!window.navigator)return null;var t=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;return t?{type:t.type,effectiveType:t.effectiveType}:null}(),s=e.browser&&window.app&&window.app.device?window.app.device.deviceType:null,a=e.browser&&window.perfMetrics?window.perfMetrics.delay:null;return function(e){return r.getFirstConsistentlyInteractive(e)}().then(function(e){return{timeToInteractive:e}}).catch(function(){return{}}).then(function(e){return{info:{type:t.type,navName:t.name,redirectCount:t.redirectCount,decodedBodySize:t.decodedBodySize,encodedBodySize:t.encodedBodySize,isStartTimeNotZero:0!==t.startTime,networkType:n.type,networkEffectiveType:n.effectiveType,deviceType:s},timings:o({duration:Math.round(t.duration),domComplete:Math.round(t.domComplete),domInteractive:Math.round(t.domInteractive),domContentLoaded:Math.round(t.domContentLoadedEventStart),loadEvent:Math.round(t.loadEventStart),requestStart:Math.round(t.requestStart),connectDuration:Math.round(t.connectEnd-t.connectStart),domainLookupDuration:Math.round(t.domainLookupEnd-t.domainLookupStart),requestDuration:Math.round(t.responseStart-t.requestStart),responseDuration:Math.round(t.responseEnd-t.responseStart),loadEventDuration:Math.round(t.loadEventEnd-t.loadEventStart),domContentLoadedDuration:Math.round(t.domContentLoadedEventEnd-t.domContentLoadedEventStart),firstInputDelay:a,firstMeaningfulPaint:i?Math.round(i.startTime):null},e)}})};t.getInitialPageMetrics=function(){return e.browser&&window.performance?new Promise(function(e,t){a().then(function(t){var i={event:"client.page.load"};i.timings=o({},performance.getEntriesByType("paint").reduce(function(e,t){return e[function(e){return e.replace(/-([a-z])/gm,function(e){return e[1].toUpperCase()})}(""+t.name)]=Math.round(t.startTime+t.duration),e},{}),{},t.timings),i.info=o({},t.info),e(i)}).catch(function(){return t()})}):null},t.afterLoadEvent=function(e){(void 0===e&&(e=function(){}),"undefined"!=typeof PerformanceObserver)?new PerformanceObserver(function(){e()}).observe({entryTypes:["navigation"]}):window.addEventListener("load",function(){return setTimeout(function(){return e()},500)})}}).call(this,i(17))},function(e,t,i){(function(i){var n;!function(){var o="undefined"!=typeof window&&window===this?this:void 0!==i&&null!=i?i:this,s="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)};function r(){r=function(){},o.Symbol||(o.Symbol=l)}var a=0;function l(e){return"jscomp_symbol_"+(e||"")+a++}function c(){r();var e=o.Symbol.iterator;e||(e=o.Symbol.iterator=o.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&s(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return d(this)}}),c=function(){}}function d(e){var t=0;return function(e){return c(),(e={next:e})[o.Symbol.iterator]=function(){return this},e}(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function u(e){c();var t=e[Symbol.iterator];return t?t.call(e):d(e)}function h(e){if(!(e instanceof Array)){e=u(e);for(var t,i=[];!(t=e.next()).done;)i.push(t.value);e=i}return e}var p=0;var f="img script iframe link audio video source".split(" ");function m(e,t){for(var i=(e=u(e)).next();!i.done;i=e.next())if(i=i.value,t.includes(i.nodeName.toLowerCase())||m(i.children,t))return!0;return!1}function g(e,t){if(2<e.length)return performance.now();for(var i=[],n=(t=u(t)).next();!n.done;n=t.next())n=n.value,i.push({timestamp:n.start,type:"requestStart"}),i.push({timestamp:n.end,type:"requestEnd"});for(n=(t=u(e)).next();!n.done;n=t.next())i.push({timestamp:n.value,type:"requestStart"});for(i.sort(function(e,t){return e.timestamp-t.timestamp}),e=e.length,t=i.length-1;0<=t;t--)switch(n=i[t],n.type){case"requestStart":e--;break;case"requestEnd":if(2<++e)return n.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function b(e){e=e||{},this.w=!!e.useMutationObserver,this.u=e.minValue||null,e=window.__tti&&window.__tti.e;var t=window.__tti&&window.__tti.o;this.a=e?e.map(function(e){return{start:e.startTime,end:e.startTime+e.duration}}):[],t&&t.disconnect(),this.b=[],this.f=new Map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,function(e,t){var i=XMLHttpRequest.prototype.send,n=p++;XMLHttpRequest.prototype.send=function(o){for(var s=[],r=0;r<arguments.length;++r)s[r-0]=arguments[r];var a=this;return e(n),this.addEventListener("readystatechange",function(){4===a.readyState&&t(n)}),i.apply(this,s)}}(this.m.bind(this),this.l.bind(this)),function(e,t){var i=fetch;fetch=function(n){for(var o=[],s=0;s<arguments.length;++s)o[s-0]=arguments[s];return new Promise(function(n,s){var r=p++;e(r),i.apply(null,[].concat(h(o))).then(function(e){t(r),n(e)},function(e){t(e),s(e)})})}}(this.m.bind(this),this.l.bind(this)),function(e){e.c=new PerformanceObserver(function(t){for(var i=(t=u(t.getEntries())).next();!i.done;i=t.next())if("resource"===(i=i.value).entryType&&(e.b.push({start:i.fetchStart,end:i.responseEnd}),_(e,g(e.g,e.b)+5e3)),"longtask"===i.entryType){var n=i.startTime+i.duration;e.a.push({start:i.startTime,end:n}),_(e,n+5e3)}}),e.c.observe({entryTypes:["longtask","resource"]})}(this),this.w&&(this.h=function(e){var t=new MutationObserver(function(t){for(var i=(t=u(t)).next();!i.done;i=t.next())"childList"==(i=i.value).type&&m(i.addedNodes,f)?e(i):"attributes"==i.type&&f.includes(i.target.tagName.toLowerCase())&&e(i)});return t.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t}(this.B.bind(this)))}function v(e){e.i=!0;var t=0<e.a.length?e.a[e.a.length-1].end:0,i=g(e.g,e.b);_(e,Math.max(i+5e3,t))}function _(e,t){!e.i||e.v>t||(clearTimeout(e.j),e.j=setTimeout(function(){var t=performance.timing.navigationStart,i=g(e.g,e.b);t=(window.a&&window.a.A?1e3*window.a.A().C-t:0)||performance.timing.domContentLoadedEventEnd-t;if(e.u)var n=e.u;else performance.timing.domContentLoadedEventEnd?n=(n=performance.timing).domContentLoadedEventEnd-n.navigationStart:n=null;var o=performance.now();null===n&&_(e,Math.max(i+5e3,o+1e3));var s=e.a;5e3>o-i?i=null:i=5e3>o-(i=s.length?s[s.length-1].end:t)?null:Math.max(i,n),i&&(e.s(i),clearTimeout(e.j),e.i=!1,e.c&&e.c.disconnect(),e.h&&e.h.disconnect()),_(e,performance.now()+1e3)},t-performance.now()),e.v=t)}b.prototype.getFirstConsistentlyInteractive=function(){var e=this;return new Promise(function(t){e.s=t,"complete"==document.readyState?v(e):window.addEventListener("load",function(){v(e)})})},b.prototype.m=function(e){this.f.set(e,performance.now())},b.prototype.l=function(e){this.f.delete(e)},b.prototype.B=function(){_(this,performance.now()+5e3)},o.Object.defineProperties(b.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(h(this.f.values()))}}});var w={getFirstConsistentlyInteractive:function(e){return e=e||{},"PerformanceLongTaskTiming"in window?new b(e).getFirstConsistentlyInteractive():Promise.resolve(null)}};e.exports?e.exports=w:void 0===(n=function(){return w}.apply(t,[]))||(e.exports=n)}()}).call(this,i(41))},function(e,t,i){"use strict";e.exports={STATUS_OK:200,STATUS_REDIRECT:301,STATUS_REDIRECT_TEMPORARY:302,STATUS_BAD_REQUEST:400,STATUS_NOTFOUND:404,STATUS_ERROR:500,STATUS_NOT_IMPLEMENTED:501,STATUS_UNAVAILABLE:503,STATUS_UNKNOWN_ERROR:520,redirectStatusList:[301,302]}}])]);